(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{26:function(e,t,r){"use strict";var a=r(100);r.o(a,"array")&&r.d(t,"array",(function(){return a.array})),r.o(a,"mixed")&&r.d(t,"mixed",(function(){return a.mixed})),r.o(a,"number")&&r.d(t,"number",(function(){return a.number})),r.o(a,"object")&&r.d(t,"object",(function(){return a.object})),r.o(a,"string")&&r.d(t,"string",(function(){return a.string}));Object(a.setLocale)({mixed:{required:"${path} \xe9 requerido",notType:"${path} \xe9 inv\xe1lido"},string:{max:"${path} precisa ter no m\xe1ximo ${max} caracteres"},number:{min:"${path} precisa ser no m\xednimo ${min}"}})},456:function(e,t,r){},462:function(e,t,r){},915:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(21),o=r.n(c),i=(r(456),r(961)),s=r(984),l=r(985),u=r(6),d=r(29),b=r(292),p=r(202),j=r(156),f=r.n(j),h=r(1),m=Object(b.a)((function(e){return{variantSuccess:{backgroundColor:e.palette.success.main},variantError:{backgroundColor:e.palette.error.main},variantInfo:{backgroundColor:e.palette.primary.main}}})),O=function(e){var t,r=m(),a=Object(u.a)(Object(u.a)({},e),{},{classes:r,autoHideDuration:3e3,maxSnack:3,anchorOrigin:{horizontal:"right",vertical:"top"},preventDuplicate:!0,ref:function(e){return t=e},action:function(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(p.a,{color:"inherit",style:{fontSize:20},onClick:function(){return t.closeSnackbar(e)},children:Object(h.jsx)(f.a,{})})})}});return Object(h.jsx)(d.a,Object(u.a)(Object(u.a)({},a),{},{children:e.children}))},g=r(25),x=(r(462),r(416)),v=r(981),y=r(75),C=r(988),P=r(28),k=r(964),S=r(960),w=Object(b.a)({title:{color:"#999999"}}),F=function(e){var t=w();return Object(h.jsxs)(S.a,{children:[Object(h.jsx)(y.a,{className:t.title,component:"h1",variant:"h5",children:e.title}),Object(h.jsx)(l.a,{paddingTop:2,children:e.children})]})},T=r(102),R=r.n(T),I=r(11),A=r.n(I),E=r(24),D=r(13),B=r(104),L=r(101),N=r(74),M=r(118),q=r.n(M),V=q.a.create({baseURL:"http://localhost:8000/api"}),U=[V];var _=r(136),z=r(137),G=r(422),W=function(){function e(t,r){Object(_.a)(this,e),this.http=t,this.resource=r,this.cancelList=null}return Object(z.a)(e,[{key:"list",value:function(e){this.cancelList&&this.cancelList.cancel("list request cancelled"),this.cancelList=q.a.CancelToken.source();var t={cancelToken:this.cancelList.token};return e&&e.queryParams&&(t.params=e.queryParams),this.http.get(this.resource,t)}},{key:"get",value:function(e){return this.http.get("".concat(this.resource,"/").concat(e))}},{key:"create",value:function(e){var t=this.makeSendData(e);return this.http.post(this.resource,t)}},{key:"update",value:function(e,t,r){var a=this.makeSendData(t),n=r||{},c=n.http,o=n.config;return r&&c&&c.usePost?this.http.post("".concat(this.resource,"/").concat(e),a,o):this.http.put("".concat(this.resource,"/").concat(e),a,o)}},{key:"partialUpdate",value:function(e,t,r){var a=this.makeSendData(t),n=r||{},c=n.http,o=n.config;return r&&c&&c.usePost?this.http.post("".concat(this.resource,"/").concat(e),a,o):this.http.patch("".concat(this.resource,"/").concat(e),a,o)}},{key:"delete",value:function(e){return this.http.delete("".concat(this.resource,"/").concat(e))}},{key:"deleteCollection",value:function(e){var t={};return e&&(t.params=e),this.http.delete("".concat(this.resource),t)}},{key:"isCancelledRequest",value:function(e){return q.a.isCancel(e)}},{key:"makeSendData",value:function(e){return this.containsFile(e)?this.getFormData(e):e}},{key:"getFormData",value:function(e){return Object(G.serialize)(e,{booleansAsIntegers:!0})}},{key:"containsFile",value:function(e){return 0!==Object.values(e).filter((function(e){return e instanceof File})).length}}]),e}(),H=new W(V,"categories"),Y=r(83),Q=r.n(Y),X=r(116),Z=r(420),K=r(227),J=r(226),$={primary:{main:"#79aec8",contrastText:"#fff"},secondary:{main:"#4db5ab",contrastText:"#fff",dark:"#055a52"},background:{default:"#fafafa"},success:{main:K.a[500],contrastText:"#fff"},error:{main:J.a[500]}},ee=Object(X.b)({palette:$,overrides:{MUIDataTable:{paper:{boxShadow:"none"}},MUIDataTableToolbar:{root:{minHeight:"58px",backgroundColor:$.background.default},icon:{color:$.primary.main,"&:hover, &:active, &.focus":{color:$.secondary.dark}},iconActive:{color:$.secondary.dark,"&:hover, &:active, &.focus":{color:$.secondary.dark}}},MUIDataTableHeadCell:{fixedHeader:{paddingTop:8,paddingBottom:8,backgroundColor:$.primary.main,color:"#ffffff","&[aria-sort]":{backgroundColor:"#459ac4"}},sortActive:{color:"#fff"},sortAction:{color:"#fff",alignItems:"center"},sortLabelRoot:{"& svg":{color:"#fff !important"}}},MUIDataTableSelectCell:{headerCell:{backgroundColor:$.primary.main,"& span":{color:"#fff !important"}}},MUIDataTableBodyCell:{root:{color:$.secondary.main,"&:hover, &:active, &.focus":{color:$.secondary.main}}},MUIDataTableToolbarSelect:{title:{color:$.primary.main},iconButton:{color:$.primary.main}},MUIDataTableBodyRow:{root:{"&:nth-child(odd)":{backgroundColor:$.background.default}}},MUIDataTablePagination:{root:{color:$.primary.main}},MUIDataTableFilterList:{root:{marginBottom:"16px"}}}}),te=Object(X.b)({palette:{primary:ee.palette.success,secondary:ee.palette.error}}),re=function(e){var t=e.label;return Object(h.jsx)(i.a,{theme:te,children:Object(h.jsx)(Z.a,{label:t,color:"primary"})})},ae=function(e){var t=e.label;return Object(h.jsx)(i.a,{theme:te,children:Object(h.jsx)(Z.a,{label:t,color:"secondary"})})},ne=r(423),ce=r.n(ne),oe=r(49),ie=r(38),se=r(963),le=r(213),ue=r(434),de=r(432),be=r(204),pe=r(352),je=r(283),fe=r.n(je),he=r(284),me=r.n(he),Oe=r(5),ge=function(e){Object(ue.a)(r,e);var t=Object(de.a)(r);function r(e){var a;Object(_.a)(this,r),(a=t.call(this,e)).handleTextChange=function(e){var t=e.target.value;a.setState({text:t},(function(){return a.debouncedOnSearch(t)}))},a.debouncedOnSearch=function(e){a.props.onSearch(e)},a.onKeyDown=function(e){27===e.keyCode&&a.props.onHide()};var n=a.props.searchText,c=n;return n&&void 0!==n.value&&(c=n.value),a.state={text:c},a.debouncedOnSearch=Object(oe.debounce)(a.debouncedOnSearch.bind(Object(le.a)(a)),a.props.debounceTime),a}return Object(z.a)(r,[{key:"componentDidUpdate",value:function(e,t,r){var a=this,n=this.props.searchText;if(n&&void 0!==n.value&&e.searchText!==this.props.searchText){var c=n.value;if(c)this.setState({text:c},(function(){return a.props.onSearch(c)}));else try{this.props.onHide()}catch(o){}}}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"render",value:function(){var e=this,t=this.props,r=t.classes,a=t.options,n=t.onHide,c=this.state.text;return Object(h.jsx)(be.a,{appear:!0,in:!0,timeout:300,children:Object(h.jsxs)("div",{className:r.main,ref:function(t){return e.rootRef=t},children:[Object(h.jsx)(fe.a,{className:r.searchIcon}),Object(h.jsx)(pe.a,{className:r.searchText,autoFocus:!0,InputProps:{"data-test-id":a.textLabels.toolbar.search,"aria-label":a.textLabels.toolbar.search},value:c||"",onChange:this.handleTextChange,fullWidth:!0,inputRef:function(t){return e.searchField=t},placeholder:a.searchPlaceholder}),Object(h.jsx)(p.a,{className:r.clearIcon,onClick:n,children:Object(h.jsx)(me.a,{})})]})})}}]),r}(n.a.PureComponent),xe=Object(Oe.a)((function(e){return{main:{display:"flex",flex:"1 0 auto"},searchIcon:{color:e.palette.text.secondary,marginTop:"10px",marginRight:"8px"},searchText:{flex:"0.8 0"},clearIcon:{"&:hover":{color:e.palette.error.main}}}}),{name:"MUIDataTableSearch"})(ge),ve=a.forwardRef((function(e,t){var r,a,n=Object(oe.cloneDeep)(Object(ie.a)()),c=Object(se.a)(n.breakpoints.down("sm")),o=Object(oe.merge)({options:Object(oe.cloneDeep)((a=e.debouncedSearchTime,{print:!1,download:!1,textLabels:{body:{noMatch:"Nenhum registro encontrado",toolTip:"Classificar"},pagination:{next:"Pr\xf3xima p\xe1gina",previous:"P\xe1gina anterior",rowsPerPage:"Por p\xe1gina:",displayRows:"de"},toolbar:{search:"Busca",downloadCsv:"Download CSV",print:"Imprimir",viewColumns:"Ver Colunas",filterTable:"Filtrar Tabelas"},filter:{all:"Todos",title:"FILTROS",reset:"LIMPAR"},viewColumns:{title:"Ver Colunas",titleAria:"Ver/Esconder Colunas da Tabela"},selectedRows:{text:"registros(s) selecionados",delete:"Excluir",deleteAria:"Excluir registros selecionados"}},customSearchRender:function(e,t,r,n){return Object(h.jsx)(xe,{searchText:e,onSearch:t,onHide:r,options:n,debounceTime:a})}}))},e,{columns:(r=e.columns,function(e){e.forEach((function(e,t){e.width&&(n.overrides.MUIDataTableHeadCell.fixedHeader["&:nth-child(".concat(t+2,")")]={width:e.width})}))}(r),r.map((function(e){return Object(oe.omit)(e,"width")})))});!function(){var e=o.options.textLabels;e.body.noMatch=!0===o.loading?"Carregando...":e.body.noMatch}(),o.options.responsive=c?"standard":"vertical",o.options.tableBodyHeight=c?"".concat(.6*window.innerHeight,"px"):"";var s=Object(u.a)(Object(u.a)({},Object(oe.omit)(o,"loading")),{},{ref:t});return Object(h.jsx)(i.a,{theme:n,children:Object(h.jsx)(ce.a,Object(u.a)({},s))})}));function ye(e){return function(t){var r=Object(oe.cloneDeep)(t),a='&[data-testid^="MuiDataTableBodyCell-'.concat(e,'"]');return r.overrides.MUIDataTableBodyCell.root[a]={paddingTop:"0px",paddingBottom:"0px"},r}}var Ce,Pe=r(338),ke=r(425),Se=r.n(ke),we=Object(b.a)((function(e){return{iconButton:e.overrides.MUIDataTableToolbar.icon}})),Fe=function(e){var t=we();return Object(h.jsx)(Pe.a,{title:"Limpar busca",children:Object(h.jsx)(p.a,{className:t.iconButton,onClick:e.handleClick,children:Object(h.jsx)(Se.a,{})})})},Te=r(17),Re=r(139),Ie=Object(Re.createActions)({setSearch:["payload"],setPage:["payload"],setPerPage:["payload"],setOrder:["payload"],setReset:["payload"],updateExtraFilter:["payload"]}),Ae=Ie.Types,Ee=Ie.Creators,De={search:"",pagination:{page:1,per_page:10},order:{sort:null,dir:null}},Be=Object(Re.createReducer)(De,(Ce={},Object(Te.a)(Ce,Ae.SET_SEARCH,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;return Object(u.a)(Object(u.a)({},e),{},{search:t.payload.search,pagination:Object(u.a)(Object(u.a)({},e.pagination),{},{page:1})})})),Object(Te.a)(Ce,Ae.SET_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;return Object(u.a)(Object(u.a)({},e),{},{pagination:Object(u.a)(Object(u.a)({},e.pagination),{},{page:t.payload.page})})})),Object(Te.a)(Ce,Ae.SET_PER_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;return Object(u.a)(Object(u.a)({},e),{},{pagination:Object(u.a)(Object(u.a)({},e.pagination),{},{per_page:t.payload.per_page})})})),Object(Te.a)(Ce,Ae.SET_ORDER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;return Object(u.a)(Object(u.a)({},e),{},{pagination:Object(u.a)(Object(u.a)({},e.pagination),{},{page:1}),order:{sort:t.payload.sort,dir:t.payload.dir}})})),Object(Te.a)(Ce,Ae.SET_RESET,(function(){return Object(u.a)(Object(u.a)({},De),{},{search:{value:null,update:!0}})})),Object(Te.a)(Ce,Ae.UPDATE_EXTRA_FILTER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;return Object(u.a)(Object(u.a)({},e),{},{pagination:Object(u.a)(Object(u.a)({},e.pagination),{},{page:1}),extraFilter:Object(u.a)(Object(u.a)({},e.extraFilter),t.payload)})})),Ce));var Le=r(991),Ne=r(26);function Me(e){var t=Object(P.f)(),r=Object(P.g)(),n=r.search,c=r.pathname,o=r.state,i=e.rowsPerPageOptions,s=e.rowsPerPage,l=e.columns,d=e.extraFilter,b=Object(a.useMemo)((function(){return Ne.object().shape(Object(u.a)({search:Ne.string().transform((function(e){return e||void 0})).default(""),pagination:Ne.object().shape({page:Ne.number().transform((function(e){return isNaN(e)||parseInt(e)<1?void 0:e})).default(1),per_page:Ne.number().transform((function(e){return isNaN(e)||!i.includes(parseInt(e))?void 0:e})).default(s)}),order:Ne.object().shape({sort:Ne.string().nullable().transform((function(e){return l.filter((function(e){return!e.options||!1!==e.options.sort})).map((function(e){return e.name})).includes(e)?e:void 0})).default(null),dir:Ne.string().nullable().transform((function(e){return e&&["asc","desc"].includes(e.toLowerCase())?e:void 0})).default(null)})},d&&{extraFilter:d.createValidationSchema()}))}),[i,s,l,d]),p=Object(a.useMemo)((function(){var e=new URLSearchParams(n.substr(1));return b.cast(Object(u.a)({search:e.get("search"),pagination:{page:e.get("page"),per_page:e.get("per_page")},order:{sort:e.get("sort"),dir:e.get("dir")}},d&&{extraFilter:d.getStateFromURL(e)}))}),[d,n,b]),j=Object(a.useCallback)((function(e){var t=e;return e&&void 0!==e.value&&(t=e.value),t}),[]),f=Object(a.useCallback)((function(e,t){var r=j(e.search);return Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},r&&""!==r&&{search:r}),1!==e.pagination.page&&{page:e.pagination.page}),15!==e.pagination.per_page&&{per_page:e.pagination.per_page}),e.order.sort&&{sort:e.order.sort,dir:e.order.dir}),t&&t.formatSearchParams(e))}),[j]),h=p,m=Object(a.useReducer)(Be,h),O=Object(D.a)(m,2),g=O[0],x=O[1],v=new qe(Object(u.a)(Object(u.a)({},e),{},{schema:b,dispatch:x,state:g})),y=Object(Le.a)(g,e.debounceTime),C=Object(D.a)(y,1)[0];Object(a.useEffect)((function(){t.replace({pathname:c,search:"?"+new URLSearchParams(f(p,d)),state:p})}),[t,c,f,p,d]),Object(a.useEffect)((function(){var e={pathname:c,search:"?"+new URLSearchParams(f(C,d)),state:Object(u.a)(Object(u.a)({},C),{},{search:j(C.search)})},r=o,a=C;Object(oe.isEqual)(r,a)||t.push(e)}),[t,c,f,o,j,C,d]);var k=Object(a.useState)(0),S=Object(D.a)(k,2),w=S[0],F=S[1];return{columns:v.columns,cleanSearchText:j,filterManager:v,filterState:g,debouncedFilterState:C,dispatch:x,totalRecords:w,setTotalRecords:F,changePage:v.changePage}}var qe=function(){function e(t){Object(_.a)(this,e),this.schema=void 0,this.state=null,this.dispatch=void 0,this.columns=void 0,this.rowsPerPage=void 0,this.tableRef=void 0;var r=t.schema,a=t.columns,n=t.rowsPerPage,c=t.tableRef,o=t.dispatch,i=t.state;this.schema=r,this.columns=a,this.rowsPerPage=n,this.tableRef=c,this.dispatch=o,this.state=i}return Object(z.a)(e,[{key:"resetTablePagination",value:function(){this.tableRef.current.changeRowsPerPage(this.rowsPerPage),this.tableRef.current.changePage(0)}},{key:"changeSearch",value:function(e){this.dispatch(Ee.setSearch({search:e}))}},{key:"changePage",value:function(e){this.dispatch(Ee.setPage({page:e+1}))}},{key:"changeRowsPerPage",value:function(e){this.dispatch(Ee.setPerPage({per_page:e}))}},{key:"changeColumnSort",value:function(e,t){this.dispatch(Ee.setOrder({sort:e,dir:t.includes("desc")?"desc":"asc"})),this.resetTablePagination()}},{key:"changeExtraFilter",value:function(e){this.dispatch(Ee.updateExtraFilter(e))}},{key:"applyOrderInColumns",value:function(){var e=this;this.columns=this.columns.map((function(t){return t.name===e.state.order.sort?Object(u.a)(Object(u.a)({},t),{},{options:Object(u.a)(Object(u.a)({},t.options),{},{sortDirection:e.state.order.dir})}):t}))}},{key:"resetFilter",value:function(){var e=Object(u.a)(Object(u.a)({},this.schema.cast({})),{},{search:{value:null,update:!0}});this.dispatch(Ee.setReset({state:e})),this.resetTablePagination()}}]),e}(),Ve=Object(a.createContext)(!1),Ue=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Name",width:"43%",options:{filter:!1}},{name:"is_active",label:"Active?",options:{filterOptions:{names:["Yes","No"]},customBodyRender:function(e,t,r){return e?Object(h.jsx)(re,{label:"Yes"}):Object(h.jsx)(ae,{label:"No"})}},width:"4%"},{name:"created_at",label:"Created At",options:{filter:!1,customBodyRender:function(e,t,r){return Object(h.jsx)("span",{children:Object(B.a)(Object(L.a)(e),"dd/MM/yyyy")})}},width:"10%"},{name:"actions",label:"A\xe7\xf5es",options:{sort:!1,filter:!1,customBodyRender:function(e,t){return Object(h.jsx)(p.a,{color:"secondary",component:g.b,to:"/categories/".concat(t.rowData[0],"/edit"),children:Object(h.jsx)(Q.a,{})})}}}],_e=[15,25,50],ze=function(){var e=Object(d.b)().enqueueSnackbar,t=Object(a.useRef)(!0),r=Object(a.useState)([]),n=Object(D.a)(r,2),c=n[0],o=n[1],s=Object(a.useContext)(Ve),l=Object(a.useRef)(),u=Me({columns:Ue,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:_e,tableRef:l}),b=u.columns,p=u.filterManager,j=u.filterState,f=u.debouncedFilterState,m=u.totalRecords,O=u.setTotalRecords,g=(0,u.cleanSearchText)(f.search),x=Object(a.useCallback)(function(){var r=Object(E.a)(A.a.mark((function r(a){var n,c,i,s,l,u,d;return A.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a.search,c=a.page,i=a.per_page,s=a.sort,l=a.dir,r.prev=1,r.next=4,H.list({queryParams:{search:n,page:c,per_page:i,sort:s,dir:l}});case 4:u=r.sent,d=u.data,t.current&&(o(d.data),O(d.meta.total)),r.next=15;break;case 9:if(r.prev=9,r.t0=r.catch(1),console.error(r.t0),!H.isCancelledRequest(r.t0)){r.next=14;break}return r.abrupt("return");case 14:e("Error trying to list categories",{variant:"error"});case 15:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}(),[e,O]);return Object(a.useEffect)((function(){return t.current=!0,x({search:g,page:f.pagination.page,per_page:f.pagination.per_page,sort:f.order.sort,dir:f.order.dir}),function(){t.current=!1}}),[f.order.dir,f.order.sort,f.pagination.page,f.pagination.per_page,x,g]),Object(h.jsx)(i.a,{theme:ye(Ue.length-1),children:Object(h.jsx)(ve,{title:"Category List",columns:b,data:c,loading:s,debouncedSearchTime:300,ref:l,options:{serverSide:!0,searchText:j.search,page:j.pagination.page-1,rowsPerPage:j.pagination.per_page,rowsPerPageOptions:_e,count:m,customToolbar:function(){return Object(h.jsx)(Fe,{handleClick:function(){return p.resetFilter()}})},onSearchChange:function(e){return p.changeSearch(e)},onChangePage:function(e){return p.changePage(e)},onChangeRowsPerPage:function(e){return p.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return p.changeColumnSort(e,t)}}})})},Ge=function(e){return Object(h.jsxs)(F,{title:"List Categories",children:[Object(h.jsx)(l.a,{dir:"rtl",paddingBottom:2,children:Object(h.jsx)(k.a,{title:"Add Category",color:"secondary",size:"small",component:g.b,to:"/categories/create",children:Object(h.jsx)(R.a,{})})}),Object(h.jsx)(l.a,{children:Object(h.jsx)(ze,{})})]})},We=r(343),He=r(415),Ye=r(103),Qe=r(342),Xe=Object(b.a)((function(e){return{submit:{margin:e.spacing(1)}}})),Ze=function(e){var t={variant:"contained",className:Xe().submit,color:"secondary",disabled:void 0!==e.disabledButtons&&e.disabledButtons};return Object(h.jsxs)(l.a,{dir:"ltf",children:[Object(h.jsx)(Qe.a,Object(u.a)(Object(u.a)({},t),{},{color:"primary",onClick:e.handleSave,children:"Save"})),Object(h.jsx)(Qe.a,Object(u.a)(Object(u.a)({},t),{},{type:"submit",children:"Save and continue editing"}))]})},Ke=r(223),Je=r(345),$e=r(932),et=Object($e.a)((function(e){return{gridItem:{padding:e.spacing(1,0)}}})),tt=function(e){var t=et(),r=e.GridContainerProps,a=e.GridItemProps,n=Object(Ke.a)(e,["GridContainerProps","GridItemProps"]);return Object(h.jsx)("form",Object(u.a)(Object(u.a)({},n),{},{children:Object(h.jsx)(Je.a,Object(u.a)(Object(u.a)({container:!0},r),{},{children:Object(h.jsx)(Je.a,Object(u.a)(Object(u.a)({className:t.gridItem,item:!0},a),{},{children:e.children}))}))}))},rt=Ne.object().shape({name:Ne.string().required().max(255).label("Name")}),at=function(e){var t=e.id,r=Object(Ye.a)({validationSchema:rt,defaultValues:{is_active:!0}}),n=r.register,c=r.handleSubmit,o=r.getValues,i=r.reset,s=r.watch,l=r.setValue,u=r.errors,b=r.triggerValidation,p=Object(d.b)().enqueueSnackbar,j=Object(P.f)(),f=Object(a.useState)(null),m=Object(D.a)(f,2),O=m[0],g=m[1],x=Object(a.useContext)(Ve);function v(e,t){return y.apply(this,arguments)}function y(){return(y=Object(E.a)(A.a.mark((function e(r,a){var n,c,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=O?H.update(null===O||void 0===O?void 0:O.id,r):H.create(r),e.next=4,n;case 4:c=e.sent,o=c.data,p("Category saved successfully",{variant:"success"}),setTimeout((function(){a?t?j.replace("/categories/".concat(o.data.id,"/edit")):j.push("/categories/".concat(o.data.id,"/edit")):j.push("/categories")})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),p("Error trying to save category",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){if(t){var e=!0;return function(){var r=Object(E.a)(A.a.mark((function r(){var a,n;return A.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,H.get(t);case 3:a=r.sent,n=a.data,e&&(g(n.data),i(n.data)),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0),p("Error trying to load category",{variant:"error"});case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(){return r.apply(this,arguments)}}()(),function(){e=!1}}}),[p,t,i]),Object(a.useEffect)((function(){n({name:"is_active"})}),[n]),Object(h.jsxs)(tt,{GridItemProps:{xs:12,md:6},onSubmit:c(v),children:[Object(h.jsx)(pe.a,{name:"name",label:"Name",fullWidth:!0,variant:"outlined",inputRef:n,error:void 0!==u.name,helperText:u.name&&u.name.message,InputLabelProps:{shrink:void 0!==o("name")||void 0},disabled:x}),Object(h.jsx)(pe.a,{inputRef:n,name:"description",label:"Description",multiline:!0,rows:"4",fullWidth:!0,variant:"outlined",margin:"normal",InputLabelProps:{shrink:void 0!==o("description")||void 0},disabled:x}),Object(h.jsx)(We.a,{disabled:x,control:Object(h.jsx)(He.a,{name:"is_active",color:"primary",onChange:function(){return l("is_active",!o().is_active)},checked:s("is_active")}),label:"Is Active?",labelPlacement:"end"}),Object(h.jsx)(Ze,{disabledButtons:x,handleSave:function(){return b().then((function(e){e&&v(o(),null)}))}})]})},nt=function(){var e=Object(P.h)().id;return console.log(e),Object(h.jsx)(F,{title:e?"Edit category":"Create category",children:Object(h.jsx)(at,{id:e||""})})},ct=new W(V,"cast_members"),ot={1:"Diretor",2:"Ator"},it={thumb_file:"Thumbnail",banner_file:"Banner",trailer_file:"Trailer",video_file:"Principal"},st=Object.values(ot),lt=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Name",width:"43%",options:{filter:!1}},{name:"type",label:"Type",options:{filterOptions:{names:st},customBodyRender:function(e,t,r){return ot[e]}}},{name:"created_at",label:"Created At",options:{filter:!1,customBodyRender:function(e,t,r){return Object(h.jsx)("span",{children:Object(B.a)(Object(L.a)(e),"dd/MM/yyyy")})}}},{name:"actions",label:"A\xe7\xf5es",options:{sort:!1,filter:!1,customBodyRender:function(e,t){return Object(h.jsx)(p.a,{color:"secondary",component:g.b,to:"/cast-members/".concat(t.rowData[0],"/edit"),children:Object(h.jsx)(Q.a,{})})}}}],ut=[15,25,50],dt=function(){var e=Object(d.b)().enqueueSnackbar,t=Object(a.useRef)(!0),r=Object(a.useState)([]),n=Object(D.a)(r,2),c=n[0],o=n[1],s=Object(a.useContext)(Ve),l=Object(a.useRef)(),b=Object(a.useMemo)((function(){return{createValidationSchema:function(){return Ne.object().shape({type:Ne.string().nullable().transform((function(e){return e&&st.includes(e)?e:void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(u.a)({},e.extraFilter.type&&{type:e.extraFilter.type}):void 0},getStateFromURL:function(e){return{type:e.get("type")}}}}),[]),p=Me({columns:lt,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:ut,tableRef:l,extraFilter:b}),j=p.columns,f=p.filterManager,m=p.filterState,O=p.debouncedFilterState,g=p.totalRecords,x=p.setTotalRecords,v=(0,p.cleanSearchText)(O.search),y=j.findIndex((function(e){return"type"===e.name})),C=j[y],P=m.extraFilter&&m.extraFilter.type;C.options.filterList=P?[P]:[];var k=Object(a.useCallback)(function(){var r=Object(E.a)(A.a.mark((function r(a){var n,c,i,s,l,d,b,p;return A.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a.search,c=a.page,i=a.per_page,s=a.sort,l=a.dir,d=a.type,r.prev=1,r.next=4,ct.list({queryParams:Object(u.a)({search:n,page:c,per_page:i,sort:s,dir:l},d&&{type:Object(oe.invert)(ot)[d]})});case 4:b=r.sent,p=b.data,t.current&&(o(p.data),x(p.meta.total)),r.next=15;break;case 9:if(r.prev=9,r.t0=r.catch(1),console.error(r.t0),!ct.isCancelledRequest(r.t0)){r.next=14;break}return r.abrupt("return");case 14:e("Error trying to list cast members",{variant:"error"});case 15:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}(),[e,x]);return Object(a.useEffect)((function(){return t.current=!0,k(Object(u.a)({search:v,page:O.pagination.page,per_page:O.pagination.per_page,sort:O.order.sort,dir:O.order.dir},O.extraFilter&&O.extraFilter.type&&{type:O.extraFilter.type})),function(){t.current=!1}}),[v,O.pagination.page,O.pagination.per_page,O.order,O.extraFilter,k]),Object(h.jsx)(i.a,{theme:ye(lt.length-1),children:Object(h.jsx)(ve,{title:"Cast Member List",columns:j,data:c,loading:s,debouncedSearchTime:300,ref:l,options:{serverSide:!0,searchText:m.search,page:m.pagination.page-1,rowsPerPage:m.pagination.per_page,rowsPerPageOptions:ut,count:g,onFilterChange:function(e,t,r){var a=j.findIndex((function(t){return t.name===e}));f.changeExtraFilter(Object(Te.a)({},e,t[a].length?t[a][0]:null))},customToolbar:function(){return Object(h.jsx)(Fe,{handleClick:function(){return f.resetFilter()}})},onSearchChange:function(e){return f.changeSearch(e)},onChangePage:function(e){return f.changePage(e)},onChangeRowsPerPage:function(e){return f.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return f.changeColumnSort(e,t)}}})})},bt=function(e){return Object(h.jsxs)(F,{title:"Cast Members List",children:[Object(h.jsx)(l.a,{dir:"rtl",paddingBottom:2,children:Object(h.jsx)(k.a,{title:"Add Cast Member",color:"secondary",size:"small",component:g.b,to:"/cast-members/create",children:Object(h.jsx)(R.a,{})})}),Object(h.jsx)(l.a,{children:Object(h.jsx)(dt,{})})]})},pt=r(279),jt=r(928),ft=r(965),ht=r(987),mt=r(931),Ot=Ne.object().shape({name:Ne.string().required().max(255).label("Name"),type:Ne.number().required().label("Type")}),gt=function(e){var t=e.id,r=Object(Ye.a)({validationSchema:Ot}),n=r.register,c=r.handleSubmit,o=r.getValues,i=r.reset,s=r.watch,l=r.setValue,u=r.errors,b=r.triggerValidation,p=Object(d.b)(),j=Object(P.f)(),f=Object(a.useState)(null),m=Object(D.a)(f,2),O=m[0],g=m[1],x=Object(a.useContext)(Ve);function v(e,t){return y.apply(this,arguments)}function y(){return(y=Object(E.a)(A.a.mark((function e(r,a){var n,c,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=O?ct.update(null===O||void 0===O?void 0:O.id,r):ct.create(r),e.next=4,n;case 4:c=e.sent,o=c.data,p.enqueueSnackbar("Cast Member saved successfully",{variant:"success"}),setTimeout((function(){a?t?j.replace("/cast-members/".concat(o.data.id,"/edit")):j.push("/cast-members/".concat(o.data.id,"/edit")):j.push("/cast-members")})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),p.enqueueSnackbar("Error trying to save cast member",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(E.a)(A.a.mark((function e(){var r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ct.get(t);case 3:r=e.sent,a=r.data,g(a.data),i(a.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),p.enqueueSnackbar("Error trying to load cast member",{variant:"error"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}t&&function(){e.apply(this,arguments)}()})),Object(a.useEffect)((function(){n({name:"type"})}),[n]),Object(h.jsxs)("form",{onSubmit:c(v),children:[Object(h.jsx)(pe.a,{name:"name",label:"Name",fullWidth:!0,variant:"outlined",inputRef:n,error:void 0!==u.name,helperText:u.name&&u.name.message,InputLabelProps:{shrink:void 0!==o("name")||void 0},disabled:x}),Object(h.jsxs)(pt.a,{margin:"normal",error:void 0!==u.type,disabled:x,children:[Object(h.jsx)(jt.a,{children:"Type"}),Object(h.jsxs)(ft.a,{name:"type",onChange:function(e){l("type",parseInt(e.target.value))},value:s("type")+"",children:[Object(h.jsx)(We.a,{label:"Director",value:"1",control:Object(h.jsx)(ht.a,{color:"primary"})}),Object(h.jsx)(We.a,{label:"Actor",value:"2",control:Object(h.jsx)(ht.a,{color:"primary"})})]}),u.type&&Object(h.jsx)(mt.a,{id:"type-helper-text",children:u.type.message})]}),Object(h.jsx)(Ze,{disabledButtons:x,handleSave:function(){return b().then((function(e){e&&v(o(),null)}))}})]})},xt=function(){var e=Object(P.h)().id;return Object(h.jsx)(F,{title:e?"Edit cast member":"Create cast member",children:Object(h.jsx)(gt,{id:e})})},vt=new W(V,"genres"),yt=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Name",width:"23%",options:{filter:!1}},{name:"is_active",label:"Is Active",options:{customBodyRender:function(e,t,r){return e?Object(h.jsx)(Z.a,{label:"Active",color:"primary"}):Object(h.jsx)(Z.a,{label:"Inactive",color:"secondary"})}},width:"4%"},{name:"categories",label:"Categories",width:"20%",options:{filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e,t,r){return e.map((function(e,t){return e.name})).join(", ")}}},{name:"created_at",label:"Created At",width:"10%",options:{filter:!1,customBodyRender:function(e,t,r){return Object(h.jsx)("span",{children:Object(B.a)(Object(L.a)(e),"dd/MM/yyyy")})}}},{name:"actions",label:"A\xe7\xf5es",options:{sort:!1,filter:!1,customBodyRender:function(e,t){return Object(h.jsx)(p.a,{color:"secondary",component:g.b,to:"/genres/".concat(t.rowData[0],"/edit"),children:Object(h.jsx)(Q.a,{})})}}}],Ct=[15,25,50],Pt={createValidationSchema:function(){return Ne.object().shape({categories:Ne.mixed().nullable().transform((function(e){return e&&""!==e?e.split(","):void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(u.a)({},e.extraFilter.categories&&{categories:e.extraFilter.categories.join(",")}):void 0},getStateFromURL:function(e){return{categories:e.get("categories")}}},kt=function(){var e=Object(d.b)().enqueueSnackbar,t=Object(a.useRef)(!0),r=Object(a.useState)([]),n=Object(D.a)(r,2),c=n[0],o=n[1],s=Object(a.useContext)(Ve),l=Object(a.useRef)(),b=Me({columns:yt,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:Ct,tableRef:l,extraFilter:Pt}),p=b.columns,j=b.filterManager,f=b.filterState,m=b.debouncedFilterState,O=b.totalRecords,g=b.setTotalRecords,x=(0,b.cleanSearchText)(m.search),v=p.findIndex((function(e){return"categories"===e.name})),y=p[v],C=f.extraFilter&&f.extraFilter.categories;y.options.filterList=C||[],Object(a.useEffect)((function(){var t=!0;return Object(E.a)(A.a.mark((function r(){var a,n;return A.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,H.list({queryParams:{all:""}});case 3:a=r.sent,n=a.data,t&&(y.options.filterOptions.names=n.data.map((function(e){return e.name}))),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),console.error(r.t0),e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))(),function(){t=!1}}),[y.options,e]);var P=Object(a.useCallback)(function(){var r=Object(E.a)(A.a.mark((function r(a){var n,c,i,s,l,d,b,p;return A.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a.search,c=a.page,i=a.per_page,s=a.sort,l=a.dir,d=a.categories,r.prev=1,r.next=4,vt.list({queryParams:Object(u.a)({search:n,page:c,per_page:i,sort:s,dir:l},d&&{categories:d.join(",")})});case 4:b=r.sent,p=b.data,t.current&&(o(p.data),g(p.meta.total)),r.next=15;break;case 9:if(r.prev=9,r.t0=r.catch(1),console.error(r.t0),!vt.isCancelledRequest(r.t0)){r.next=14;break}return r.abrupt("return");case 14:e("Error trying to list genres",{variant:"error"});case 15:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}(),[e,g]);return Object(a.useEffect)((function(){return t.current=!0,P(Object(u.a)({search:x,page:m.pagination.page,per_page:m.pagination.per_page,sort:m.order.sort,dir:m.order.dir},m.extraFilter&&m.extraFilter.categories&&{categories:m.extraFilter.categories.join(",")})),function(){t.current=!1}}),[m.extraFilter,m.order.dir,m.order.sort,m.pagination.page,m.pagination.per_page,P,x]),Object(h.jsx)(i.a,{theme:ye(yt.length-1),children:Object(h.jsx)(ve,{title:"Genre List",columns:p,data:c,loading:s,debouncedSearchTime:300,ref:l,options:{serverSide:!0,searchText:f.search,page:f.pagination.page-1,rowsPerPage:f.pagination.per_page,rowsPerPageOptions:Ct,count:O,onFilterChange:function(e,t,r){var a=p.findIndex((function(t){return t.name===e}));console.log(t),j.changeExtraFilter(Object(Te.a)({},e,t[a].length?t[a]:null))},customToolbar:function(){return Object(h.jsx)(Fe,{handleClick:function(){return j.resetFilter()}})},onSearchChange:function(e){return j.changeSearch(e)},onChangePage:function(e){return j.changePage(e)},onChangeRowsPerPage:function(e){return j.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return j.changeColumnSort(e,t)}}})})},St=function(e){return Object(h.jsxs)(F,{title:"List Genres",children:[Object(h.jsx)(l.a,{dir:"rtl",paddingBottom:2,children:Object(h.jsx)(k.a,{title:"Add Genre",color:"secondary",size:"small",component:g.b,to:"/genres/create",children:Object(h.jsx)(R.a,{})})}),Object(h.jsx)(l.a,{children:Object(h.jsx)(kt,{})})]})},wt=r(349),Ft=r(100),Tt=Ft.object().shape({name:Ft.string().required().max(255).label("Name"),categories_id:Ft.array().required().label("Categories")}),Rt=function(e){var t=e.id,r=Object(Ye.a)({validationSchema:Tt,defaultValues:{categories_id:[]}}),n=r.register,c=r.handleSubmit,o=r.getValues,i=r.reset,s=r.watch,l=r.setValue,b=r.errors,p=r.triggerValidation,j=Object(d.b)().enqueueSnackbar,f=Object(P.f)(),m=Object(a.useState)(null),O=Object(D.a)(m,2),g=O[0],x=O[1],v=Object(a.useState)([]),y=Object(D.a)(v,2),C=y[0],k=y[1],S=Object(a.useContext)(Ve);function w(e,t){return F.apply(this,arguments)}function F(){return(F=Object(E.a)(A.a.mark((function e(r,a){var n,c,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t?vt.update(null===g||void 0===g?void 0:g.id,r):vt.create(r),e.next=4,n;case 4:c=e.sent,o=c.data,j("Genre saved successfully",{variant:"success"}),setTimeout((function(){a?t?f.replace("/genres/".concat(o.data.id,"/edit")):f.push("/genres/".concat(o.data.id,"/edit")):f.push("/genres")})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),j("Error trying to save genre",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){Object(E.a)(A.a.mark((function e(){var r,a,n,c,o,s,l;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[H.list({queryParams:{all:""}})],t&&r.push(vt.get(t)),e.prev=2,e.next=5,Promise.all(r);case 5:a=e.sent,n=Object(D.a)(a,2),c=n[0],o=n[1],k(c.data.data),t&&(x(o.data.data),s=o.data.data.categories.map((function(e){return e.id})),l=Object(u.a)(Object(u.a)({},o.data.data),{},{categories_id:s}),i(l)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0),j("Error trying to load genre",{variant:"error"});case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))()}),[j,t,i]),Object(a.useEffect)((function(){n({name:"categories_id"})}),[n]),Object(h.jsxs)("form",{onSubmit:c(w),children:[Object(h.jsx)(pe.a,{name:"name",label:"Name",fullWidth:!0,variant:"outlined",inputRef:n,error:void 0!==b.name,helperText:b.name&&b.name.message,InputLabelProps:{shrink:void 0!==o("name")||void 0},disabled:S}),Object(h.jsxs)(pe.a,{select:!0,name:"categories_id",value:s("categories_id"),label:"Categories",margin:"normal",variant:"outlined",fullWidth:!0,onChange:function(e){l("categories_id",e.target.value)},SelectProps:{multiple:!0},error:void 0!==b.categories_id,helperText:b.categories_id&&b.categories_id.message,InputLabelProps:{shrink:!0},disabled:S,children:[Object(h.jsx)(wt.a,{value:"",disabled:!0,children:Object(h.jsx)("em",{children:"Select categories"})}),C.map((function(e,t){return Object(h.jsx)(wt.a,{value:e.id,children:e.name},t)}))]}),Object(h.jsx)(Ze,{disabledButtons:S,handleSave:function(){return p().then((function(e){e&&w(o(),null)}))}})]})},It=function(){var e=Object(P.h)().id;return Object(h.jsx)(F,{title:e?"Edit genre":"Create genre",children:Object(h.jsx)(Rt,{id:e||""})})},At=new W(V,"videos"),Et=r(992),Dt=r(967),Bt=r(968),Lt=r(969),Nt=r(970),Mt=function(e){var t=e.open,r=e.handleClose;return Object(h.jsxs)(Et.a,{open:t,onClose:function(){return r(!1)},children:[Object(h.jsx)(Dt.a,{children:"Exclus\xe3o de registros"}),Object(h.jsx)(Bt.a,{children:Object(h.jsx)(Lt.a,{children:"Deseja realmente excluir este(s) registro(s)?"})}),Object(h.jsxs)(Nt.a,{children:[Object(h.jsx)(Qe.a,{onClick:function(){return r(!1)},color:"primary",children:"Cancelar"}),Object(h.jsx)(Qe.a,{onClick:function(){return r(!0)},color:"primary",autoFocus:!0,children:"Excluir"})]})]})},qt=function(){var e=Object(a.useState)(!1),t=Object(D.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)({data:[]}),o=Object(D.a)(c,2),i=o[0],s=o[1];return Object(a.useEffect)((function(){i.data.length&&n(!0)}),[i]),{openDeleteDialog:r,setOpenDeleteDialog:n,rowsToDelete:i,setRowsToDelete:s}},Vt=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"title",label:"Titulo",width:"43%",options:{filter:!1}},{name:"genres",label:"G\xeaneros",width:"12%",options:{filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e,t,r){return e.map((function(e,t){return e.name})).join(", ")}}},{name:"categories",label:"Categories",width:"12%",options:{filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e,t,r){return e.map((function(e,t){return e.name})).join(", ")}}},{name:"created_at",label:"Created At",options:{filter:!1,customBodyRender:function(e,t,r){return Object(h.jsx)("span",{children:Object(B.a)(Object(L.a)(e),"dd/MM/yyyy")})}},width:"10%"},{name:"actions",label:"A\xe7\xf5es",options:{sort:!1,filter:!1,customBodyRender:function(e,t){return Object(h.jsx)(p.a,{color:"secondary",component:g.b,to:"/videos/".concat(t.rowData[0],"/edit"),children:Object(h.jsx)(Q.a,{})})}}}],Ut=[15,25,50],_t=function(){var e=Object(d.b)().enqueueSnackbar,t=Object(a.useRef)(!0),r=Object(a.useState)([]),n=Object(D.a)(r,2),c=n[0],o=n[1],s=Object(a.useContext)(Ve),l=qt(),u=l.openDeleteDialog,b=l.setOpenDeleteDialog,p=l.rowsToDelete,j=l.setRowsToDelete,f=Object(a.useRef)(),m=Me({columns:Vt,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:Ut,tableRef:f}),O=m.columns,g=m.filterManager,x=m.filterState,v=m.debouncedFilterState,y=m.totalRecords,C=m.setTotalRecords,P=m.cleanSearchText,k=m.changePage,S=P(v.search),w=Object(a.useCallback)(function(){var r=Object(E.a)(A.a.mark((function r(a){var n,c,i,s,l,d,p;return A.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a.search,c=a.page,i=a.per_page,s=a.sort,l=a.dir,r.prev=1,r.next=4,At.list({queryParams:{search:n,page:c,per_page:i,sort:s,dir:l}});case 4:d=r.sent,p=d.data,t.current&&(o(p.data),C(p.meta.total),u&&b(!1)),r.next=15;break;case 9:if(r.prev=9,r.t0=r.catch(1),console.error(r.t0),!H.isCancelledRequest(r.t0)){r.next=14;break}return r.abrupt("return");case 14:e("Error trying to list categories",{variant:"error"});case 15:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}(),[e,u,b,C]),F=Object(a.useCallback)((function(t){if(t){var r=p.data.map((function(e){return c[e.index].id})).join(",");At.deleteCollection({ids:r}).then((function(t){if(e("Registros exclu\xeddos com sucesso",{variant:"success"}),p.data.length===v.pagination.per_page&&v.pagination.page>1){var r=v.pagination.page-2;k(r)}else w({search:S,page:v.pagination.page,per_page:v.pagination.per_page,sort:v.order.sort,dir:v.order.dir})})).catch((function(t){console.error(t),e("N\xe3o foi poss\xedvel excluir os registros",{variant:"error"})}))}else b(!1)}),[w,S,v.order.dir,v.order.sort,v.pagination.page,v.pagination.per_page,c,k,p.data,b,e]);return Object(a.useEffect)((function(){return t.current=!0,w({search:S,page:v.pagination.page,per_page:v.pagination.per_page,sort:v.order.sort,dir:v.order.dir}),function(){t.current=!1}}),[v.order.dir,v.order.sort,v.pagination.page,v.pagination.per_page,w,S]),Object(h.jsxs)(i.a,{theme:ye(Vt.length-1),children:[Object(h.jsx)(Mt,{open:u,handleClose:F}),Object(h.jsx)(ve,{title:"Category List",columns:O,data:c,loading:s,debouncedSearchTime:300,ref:f,options:{serverSide:!0,searchText:x.search,page:x.pagination.page-1,rowsPerPage:x.pagination.per_page,rowsPerPageOptions:Ut,count:y,customToolbar:function(){return Object(h.jsx)(Fe,{handleClick:function(){return g.resetFilter()}})},onSearchChange:function(e){g.changeSearch(e)},onChangePage:function(e){return g.changePage(e)},onChangeRowsPerPage:function(e){return g.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return g.changeColumnSort(e,t)},onRowsDelete:function(e){return j(e),!1}}})]})},zt=function(e){return Object(h.jsxs)(F,{title:"List Categories",children:[Object(h.jsx)(l.a,{dir:"rtl",paddingBottom:2,children:Object(h.jsx)(k.a,{title:"Add Category",color:"secondary",size:"small",component:g.b,to:"/videos/create",children:Object(h.jsx)(R.a,{})})}),Object(h.jsx)(l.a,{children:Object(h.jsx)(_t,{})})]})},Gt=r(34),Wt=r(976),Ht=r(978),Yt=r(426),Qt=r.n(Yt),Xt=r(971),Zt=a.forwardRef((function(e,t){var r=Object(a.useRef)(),n=Object(a.useState)(""),c=Object(D.a)(n,2),o=c[0],i=c[1],s=Object(u.a)(Object(u.a)({variant:"outlined"},e.TextFieldProps),{},{InputProps:Object(u.a)(Object(u.a)({},e.TextFieldProps&&e.TextFieldProps.InputProps&&Object(u.a)({},e.TextFieldProps.InputProps)),{},{readOnly:!0,endAdornment:Object(h.jsx)(Xt.a,{position:"end",children:e.ButtonFile})}),value:o}),l=Object(u.a)(Object(u.a)({},e.InputFileProps),{},{hidden:!0,ref:r,onChange:function(t){var r=t.target.files;r.length&&i(Array.from(r).map((function(e){return e.name})).join(", ")),e.InputFileProps&&e.InputFileProps.onChange&&e.InputFileProps.onChange(t)}});return Object(a.useImperativeHandle)(t,(function(){return{openWindow:function(){return r.current.click()},clear:function(){return i("")}}})),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",Object(u.a)({type:"file"},l)),Object(h.jsx)(pe.a,Object(u.a)({},s))]})})),Kt=a.forwardRef((function(e,t){var r=Object(a.useRef)(),n=e.accept,c=e.label,o=e.setValue,i=e.error,s=e.disabled;return Object(a.useImperativeHandle)(t,(function(){return{clear:function(){return r.current.clear()}}})),Object(h.jsx)(pt.a,Object(u.a)(Object(u.a)({error:void 0!==i,disabled:!0===s,fullWidth:!0,margin:"normal"},e.FormControlProps),{},{children:Object(h.jsx)(Zt,{ref:r,TextFieldProps:{label:c,InputLabelProps:{shrink:!0},style:{backgroundColor:"#ffffff"}},InputFileProps:{accept:n,onChange:function(e){var t=e.target.files;t.length&&o(t[0])}},ButtonFile:Object(h.jsx)(Qe.a,{endIcon:Object(h.jsx)(Qt.a,{}),variant:"contained",color:"primary",onClick:function(){return r.current.openWindow()},children:"Adicionar"})})}))})),Jt=Object(b.a)({root:{width:"36px",height:"36px",fontSize:"1.2em",color:"#fff",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"}}),$t={L:"#39B549",10:"#20A3D4",12:"#E79738",14:"#E35E00",16:"#d00003",18:"#000000"},er=function(e){var t=Jt();return Object(h.jsx)(y.a,{className:t.root,style:{backgroundColor:$t[e.rating]},children:e.rating})},tr=[{value:"L",control:Object(h.jsx)(ht.a,{color:"primary"}),label:Object(h.jsx)(er,{rating:"L"}),labelPlacement:"top"},{value:"10",control:Object(h.jsx)(ht.a,{color:"primary"}),label:Object(h.jsx)(er,{rating:"10"}),labelPlacement:"top"},{value:"12",control:Object(h.jsx)(ht.a,{color:"primary"}),label:Object(h.jsx)(er,{rating:"12"}),labelPlacement:"top"},{value:"14",control:Object(h.jsx)(ht.a,{color:"primary"}),label:Object(h.jsx)(er,{rating:"14"}),labelPlacement:"top"},{value:"16",control:Object(h.jsx)(ht.a,{color:"primary"}),label:Object(h.jsx)(er,{rating:"16"}),labelPlacement:"top"},{value:"18",control:Object(h.jsx)(ht.a,{color:"primary"}),label:Object(h.jsx)(er,{rating:"18"}),labelPlacement:"top"}],rr=function(e){var t=e.value,r=e.setValue,a=e.error,n=e.disabled;return Object(h.jsxs)(pt.a,Object(u.a)(Object(u.a)({error:void 0!==a,disabled:!0===n},e.FormControlProps),{},{children:[Object(h.jsx)(jt.a,{component:"legend",children:"Classifica\xe7\xe3o"}),Object(h.jsx)(l.a,{paddingTop:1,children:Object(h.jsx)(ft.a,{name:"rating",onChange:function(e){r(e.target.value)},value:t,row:!0,children:tr.map((function(e,t){return Object(h.jsx)(We.a,Object(u.a)({},e),t)}))})}),a&&Object(h.jsx)(mt.a,{children:a.message})]}))},ar=r(986),nr=r(972),cr=r(215),or=a.forwardRef((function(e,t){var r=e.AutocompleteProps,n=e.debounceTime,c=void 0===n?300:n,o=e.fetchOptions,i=r,s=i.freeSolo,l=void 0!==s&&s,d=i.onOpen,b=i.onClose,p=i.onInputChange,j=Object(a.useState)(!1),f=Object(D.a)(j,2),m=f[0],O=f[1],g=Object(a.useState)(""),x=Object(D.a)(g,2),v=x[0],y=x[1],C=Object(cr.useDebounce)(v,c),P=Object(D.a)(C,1)[0],k=Object(a.useState)(!1),S=Object(D.a)(k,2),w=S[0],F=S[1],T=Object(a.useState)([]),R=Object(D.a)(T,2),I=R[0],B=R[1],L=Object(u.a)({margin:"normal",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0}},e.TextFieldProps&&Object(u.a)({},e.TextFieldProps)),N=Object(u.a)(Object(u.a)({loadingText:"Carregando...",noOptionsText:"Nenhum item encontrado"},r&&Object(u.a)({},r)),{},{open:m,loading:w,options:I,inputValue:v,onOpen:function(){O(!0),d&&d()},onClose:function(){O(!1),b&&b()},onInputChange:function(e,t){y(t),p&&p()},renderInput:function(e){return Object(h.jsx)(pe.a,Object(u.a)(Object(u.a)(Object(u.a)({},e),L),{},{InputProps:Object(u.a)(Object(u.a)({},e.InputProps),{},{endAdornment:Object(h.jsxs)(h.Fragment,{children:[w&&Object(h.jsx)(nr.a,{color:"inherit",size:20}),e.InputProps.endAdornment]})})}))}});return Object(a.useEffect)((function(){m||l||B([])}),[m,l]),Object(a.useEffect)((function(){if(m&&(""!==P||!l)){var e=!0;return function(){var t=Object(E.a)(A.a.mark((function t(){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return F(!0),t.prev=1,t.next=4,o(P);case 4:r=t.sent,e&&(console.log("catmembers",r),B(r));case 6:return t.prev=6,F(!1),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[1,,6,9]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}}),[l,P,m,o]),Object(a.useImperativeHandle)(t,(function(){return{clear:function(){console.log("TESTEEEEEEEEEEE"),y(""),B([]),console.log(v)}}})),Object(h.jsx)(ar.a,Object(u.a)({},N))})),ir=Object(b.a)((function(e){return Object(x.a)({root:{backgroundColor:"#f1f1f1",borderRadius:"4px",padding:e.spacing(1,1),color:e.palette.secondary.main}})})),sr=function(e){var t=ir();return Object(h.jsx)(Je.a,Object(u.a)(Object(u.a)({container:!0,wrap:"wrap",className:t.root},e),{},{children:e.children}))},lr=r(117),ur=r.n(lr),dr=function(e){var t=e.onDelete,r=e.children,a=Object(Ke.a)(e,["onDelete","children"]);return Object(h.jsx)(Je.a,Object(u.a)(Object(u.a)({item:!0},a),{},{children:Object(h.jsxs)(Je.a,{container:!0,alignItems:"center",spacing:3,children:[Object(h.jsx)(Je.a,{item:!0,xs:1,children:Object(h.jsx)(p.a,{size:"small",color:"inherit",onClick:t,children:Object(h.jsx)(ur.a,{})})}),Object(h.jsx)(Je.a,{item:!0,xs:10,md:11,children:r})]})}))},br=function(e,t){var r=Object(d.b)();return{addItem:function(a){a&&""!==a&&(e.find((function(e){return e.id===a.id}))?r.enqueueSnackbar("Item j\xe1 adicionado",{variant:"info"}):(e.unshift(a),t(e)))},removeItem:function(r){var a=e.findIndex((function(e){return e.id===r.id}));-1!==a&&(e.splice(a,1),t(e))}}},pr=function(){var e=Object(d.b)().enqueueSnackbar;return Object(a.useCallback)(function(){var t=Object(E.a)(A.a.mark((function t(r){var a,n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r;case 3:return a=t.sent,n=a.data,t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),console.error(t.t0),q.a.isCancel(t.t0)||e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),[e])};function jr(e,t){return e.filter((function(e){return 0!==e.categories.filter((function(e){return e.id===t.id})).length}))}var fr=a.forwardRef((function(e,t){var r=e.genres,n=e.setGenres,c=e.error,o=e.disabled,i=e.categories,s=e.setCategories,l=pr(),d=br(r,n),b=d.addItem,p=d.removeItem,j=br(i,s).removeItem,f=Object(a.useRef)(),m=Object(ie.a)();return Object(a.useImperativeHandle)(t,(function(){return{clear:function(){return f.current.clear()}}})),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(or,{ref:f,fetchOptions:function(e){return l(vt.list({queryParams:{search:e,all:""}})).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},AutocompleteProps:{clearOnEscape:!0,freeSolo:!0,getOptionSelected:function(e,t){return e.id===t.id},getOptionLabel:function(e){return e.name},onChange:function(e,t){return b(t)},disabled:o},TextFieldProps:{label:"G\xearero",error:void 0!==c}}),Object(h.jsx)(mt.a,{style:{height:m.spacing(3),lineHeight:1.1},children:"Escolha os g\xeaneros do v\xeddeos"}),Object(h.jsxs)(pt.a,Object(u.a)(Object(u.a)({fullWidth:!0,margin:"normal",error:void 0!==c,disabled:!0===o},e.FormControlProps),{},{children:[Object(h.jsx)(sr,{children:r.map((function(e,t){return Object(h.jsx)(dr,{onDelete:function(){i.filter((function(t){var a=jr(r,t);return 1===a.length&&a[0].id===e.id})).forEach((function(e){return j(e)})),p(e)},xs:12,children:Object(h.jsx)(y.a,{noWrap:!0,children:e.name})},t)}))}),c&&Object(h.jsx)(mt.a,{children:c.message})]}))]})})),hr=r(225),mr=Object(b.a)((function(e){return{genresSubtitle:{color:hr.a[800],fontSize:"0.8rem"}}})),Or=a.forwardRef((function(e,t){var r=e.categories,n=e.setCategories,c=e.genres,o=e.error,i=e.disabled,s=mr(),l=pr(),d=br(r,n),b=d.addItem,p=d.removeItem,j=Object(a.useRef)(),f=Object(ie.a)(),m=Object(a.useCallback)((function(e){return l(H.list({queryParams:{genres:c.map((function(e){return e.id})).join(","),all:""}})).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}),[l,c]);return Object(a.useImperativeHandle)(t,(function(){return{clear:function(){return j.current.clear()}}})),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(or,{ref:j,fetchOptions:m,AutocompleteProps:{clearOnEscape:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},onChange:function(e,t){return b(t)},disabled:!0===i||!c.length},TextFieldProps:{label:"Categorias",error:!(void 0===o||!c.length)}}),Object(h.jsx)(mt.a,{style:{height:f.spacing(3),lineHeight:1.1},children:"Escolha pelo menos uma categoria de cada g\xeanero"}),Object(h.jsxs)(pt.a,Object(u.a)(Object(u.a)({fullWidth:!0,margin:"normal",error:void 0!==o,disabled:!0===i},e.FormControlProps),{},{children:[Object(h.jsx)(sr,{children:r.map((function(e,t){var r=jr(c,e).map((function(e){return e.name})).join(",");return Object(h.jsxs)(dr,{onDelete:function(){return p(e)},xs:12,children:[Object(h.jsx)(y.a,{noWrap:!0,children:e.name}),Object(h.jsxs)(y.a,{noWrap:!0,className:s.genresSubtitle,children:["G\xeaneros: ",r]})]},t)}))}),o&&c.length?Object(h.jsx)(mt.a,{children:o.message}):null]}))]})})),gr=a.forwardRef((function(e,t){var r=pr(),n=e.error,c=e.disabled,o=e.castMembers,i=e.setCastMembers,s=br(o,i),l=s.addItem,d=s.removeItem,b=Object(a.useRef)(),p=Object(a.useCallback)((function(e){return r(ct.list({queryParams:{all:""}})).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}),[r]);return Object(a.useImperativeHandle)(t,(function(){return{clear:function(){return b.current.clear()}}})),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(or,{ref:b,fetchOptions:p,AutocompleteProps:{clearOnEscape:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},onChange:function(e,t){return l(t)},disabled:!0===c},TextFieldProps:{label:"Elenco",error:void 0!==n}}),Object(h.jsxs)(pt.a,Object(u.a)(Object(u.a)({fullWidth:!0,margin:"normal",error:void 0!==n,disabled:!0===c},e.FormControlProps),{},{children:[Object(h.jsx)(sr,{children:o.map((function(e,t){return Object(h.jsx)(dr,{onDelete:function(){return d(e)},xs:12,md:6,children:Object(h.jsx)(y.a,{noWrap:!0,children:e.name})},t)}))}),n&&o.length?Object(h.jsx)(mt.a,{children:n.message}):null]}))]})})),xr=function(e,t){var r=Object(d.b)().enqueueSnackbar;Object(a.useEffect)((function(){var a=0!==Object.keys(t).length;e>0&&a&&r("Formul\xe1rio inv\xe1lido. Reveja os campos marcados de vermelhos.",{variant:"error"})}),[e,t,r])},vr=r(977),yr=r(959),Cr=r(962),Pr=r(219),kr=r.n(Pr),Sr=r(427),wr=r.n(Sr),Fr=r(929),Tr=r(974),Rr=r(347),Ir=r(975),Ar=r(218),Er=r.n(Ar),Dr=r(966);function Br(e){return 1===e.progress||Lr(e)}function Lr(e){return Nr(e)?e.files.some((function(e){return e.error})):void 0!==e.error}function Nr(e){return"video"in e}var Mr,qr=Object(b.a)({progressContainer:{position:"relative"},progress:{position:"absolute",left:0},progressBackground:{color:hr.a[300]}}),Vr=function(e){var t=e.uploadOrFile,r=e.size,a=qr(),n=Lr(t);return Object(h.jsx)(Dr.a,{in:t.progress<1,timeout:{enter:100,exit:2e3},children:Object(h.jsxs)("div",{className:a.progressContainer,children:[Object(h.jsx)(nr.a,{variant:"static",value:100,className:a.progressBackground,size:r}),Object(h.jsx)(nr.a,{className:a.progress,variant:"static",value:n?0:100*t.progress,size:r})]})})},Ur=r(973),_r=r(216),zr=r.n(_r),Gr=r(217),Wr=r.n(Gr),Hr=r(62),Yr=r(163),Qr=r.n(Yr),Xr=Object(Re.createActions)({addUpload:["payload"],removeUpload:["payload"],updateProgress:["payload"],setUploadError:["payload"]}),Zr=Xr.Types,Kr=Xr.Creators,Jr={uploads:[]},$r=Object(Re.createReducer)(Jr,(Mr={},Object(Te.a)(Mr,Zr.ADD_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr,t=arguments.length>1?arguments[1]:void 0;if(!t.payload.files.length)return e;var r=ra(e,t.payload.video.id);if(-1!==r&&e.uploads[r].progress<1)return e;var a=-1===r?e.uploads:Qr()(e.uploads,{$splice:[[r,1]]});return{uploads:[].concat(Object(Gt.a)(a),[{video:t.payload.video,progress:0,files:t.payload.files.map((function(e){return{fileField:e.fileField,filename:e.file.name,progress:0}}))}])}})),Object(Te.a)(Mr,Zr.REMOVE_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr,t=arguments.length>1?arguments[1]:void 0,r=e.uploads.filter((function(e){return e.video.id!==t.payload.id}));if(r.length===e.uploads.length)return e;return{uploads:r}})),Object(Te.a)(Mr,Zr.UPDATE_PROGRESS,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr,t=arguments.length>1?arguments[1]:void 0,r=t.payload.video.id,a=t.payload.fileField,n=ea(e,r,a),c=n.indexUpload,o=n.indexFile;if(void 0===typeof c)return e;var i=e.uploads[c],s=i.files[o];if(s.progress===t.payload.progress)return e;var l=Qr()(e.uploads,Object(Te.a)({},c,{$apply:function(e){var r=Qr()(e.files,Object(Te.a)({},o,{$set:Object(u.a)(Object(u.a)({},s),{},{progress:t.payload.progress})})),a=ta(r);return Object(u.a)(Object(u.a)({},e),{},{progress:a,files:r})}}));return{uploads:l}})),Object(Te.a)(Mr,Zr.SET_UPLOAD_ERROR,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr,t=arguments.length>1?arguments[1]:void 0,r=t.payload.video.id,a=t.payload.fileField,n=ea(e,r,a),c=n.indexUpload,o=n.indexFile;if(void 0===typeof c)return e;var i=e.uploads[c],s=i.files[o],l=Qr()(e.uploads,Object(Te.a)({},c,{files:Object(Te.a)({},o,{$set:Object(u.a)(Object(u.a)({},s),{},{error:t.payload.error,progress:1})})}));return{uploads:l}})),Mr));function ea(e,t,r){var a=ra(e,t);if(-1===a)return{};var n=function(e,t){return e.findIndex((function(e){return e.fileField===t}))}(e.uploads[a].files,r);return-1===n?{}:{indexUpload:a,indexFile:n}}function ta(e){var t=e.length;return t?e.reduce((function(e,t){return e+t.progress}),0)/t:0}function ra(e,t){return e.uploads.findIndex((function(e){return e.video.id===t}))}var aa=Object(b.a)((function(e){return{successIcon:{color:e.palette.success.main},errorIcon:{color:e.palette.error.main}}})),na=function(e){var t=e.upload,r=e.hover,n=aa(),c=Object(Hr.b)(),o=Lr(t),i=Object(a.useState)(!1),s=Object(D.a)(i,2),l=s[0],u=s[1],d=Object(cr.useDebounce)(l,2500),b=Object(D.a)(d,1)[0];return Object(a.useEffect)((function(){u(Br(t))}),[t]),b?Object(h.jsx)(Dr.a,{in:l,timeout:{enter:1e3},children:Object(h.jsxs)(Ur.a,{children:[Object(h.jsxs)("span",{hidden:r,children:[1===t.progress&&!o&&Object(h.jsx)(p.a,{className:n.successIcon,edge:"end",children:Object(h.jsx)(zr.a,{})}),o&&Object(h.jsx)(p.a,{className:n.errorIcon,edge:"end",children:Object(h.jsx)(Wr.a,{})})]}),Object(h.jsx)("span",{hidden:!r,children:Object(h.jsx)(p.a,{color:"primary",edge:"end",onClick:function(){return c(Kr.removeUpload({id:t.video.id}))},children:Object(h.jsx)(ur.a,{})})})]})}):null},ca=Object(b.a)((function(e){return{listItem:{paddingTop:"7px",paddingBottom:"7px",height:"53px"},movieIcon:{color:e.palette.error.main,minWidth:"40px"},listItemText:{marginLeft:"6px",marginRight:"24px",color:e.palette.text.secondary}}})),oa=function(e){var t=e.upload,r=ca(),n=Lr(t),c=Object(a.useState)(!1),o=Object(D.a)(c,2),i=o[0],s=o[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Pe.a,{disableFocusListener:!0,disableTouchListener:!0,title:n?"N\xe3o foi poss\xedvel fazer o upload, clique para mais detalhes":"",placement:"left",children:Object(h.jsxs)(Fr.a,{className:r.listItem,button:!0,onMouseOver:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:[Object(h.jsx)(Tr.a,{className:r.movieIcon,children:Object(h.jsx)(Er.a,{})}),Object(h.jsx)(Rr.a,{className:r.listItemText,primary:Object(h.jsx)(y.a,{noWrap:!0,variant:"subtitle2",color:"inherit",children:t.video.title})}),Object(h.jsx)(Vr,{size:30,uploadOrFile:t}),Object(h.jsx)(na,{upload:t,hover:i})]})}),Object(h.jsx)(Ir.a,{component:"li"})]})},ia=Object(b.a)((function(e){return{card:{width:450},cardActionRoot:{padding:"8px 8px 8px 16px",backgroundColor:e.palette.primary.main},title:{fontWeight:"bold",color:e.palette.primary.contrastText},icons:{marginLeft:"auto !important",color:e.palette.primary.contrastText},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},list:{paddingTop:0,paddingBottom:0}}})),sa=a.forwardRef((function(e,t){var r=e.id,n=ia(),c=Object(d.b)().closeSnackbar,o=Object(a.useState)(!0),i=Object(D.a)(o,2),s=i[0],l=i[1],u=Object(Hr.c)((function(e){return e.upload.uploads}));console.log("SnackbarUpload - uploads",u);var b=function(e){return e.filter((function(e){return!Br(e)})).length}(u);return Object(h.jsxs)(Wt.a,{ref:t,className:n.card,children:[Object(h.jsxs)(vr.a,{classes:{root:n.cardActionRoot},children:[Object(h.jsxs)(y.a,{variant:"subtitle2",className:n.title,children:["Fazendo upload de ",b," v\xeddeo(s)"]}),Object(h.jsxs)("div",{className:n.icons,children:[Object(h.jsx)(p.a,{color:"inherit",onClick:function(){return l(!s)},className:wr()(n.expand,Object(Te.a)({},n.expandOpen,!s)),children:Object(h.jsx)(kr.a,{})}),Object(h.jsx)(p.a,{color:"inherit",onClick:function(){return c(r)},children:Object(h.jsx)(f.a,{})})]})]}),Object(h.jsx)(yr.a,{in:s,children:Object(h.jsx)(Cr.a,{className:n.list,children:u.map((function(e,t){return Object(h.jsx)(oa,{upload:e},t)}))})})]})})),la=Object(b.a)((function(e){return{cardUpload:{borderRadius:"4px",backgroundColor:"#f5f5f5",margin:e.spacing(2,0)},cardOpened:{borderRadius:"4px",backgroundColor:"#f5f5f5"},cardContentOpened:{paddingBottom:e.spacing(2)+"px !important"}}})),ua=Ne.object().shape({title:Ne.string().label("T\xedtulo").required().max(255),description:Ne.string().label("Sinopse").required(),year_launched:Ne.number().label("Ano de lan\xe7amento").required().min(1),duration:Ne.number().label("Dura\xe7\xe3o").required().min(1),rating:Ne.string().label("Classifica\xe7\xe3o").required(),cast_members:Ne.array().label("Elenco").required(),genres:Ne.array().label("G\xeaneros").required().test({message:"Cada g\xeanero escolhido precisa ter pelo menos uma categoria selecionada",test:function(e){var t=this;return e.every((function(e){return 0!==e.categories.filter((function(e){return t.parent.categories.map((function(e){return e.id})).includes(e.id)})).length}))}}),categories:Ne.array().label("Categorias").required()}),da=Object.keys(it),ba=function(e){var t=e.id,r=la(),n=Object(Ye.a)({validationSchema:ua,defaultValues:{rating:null,cast_members:[],genres:[],categories:[],opened:!1}}),c=n.register,o=n.handleSubmit,i=n.getValues,s=n.reset,l=n.watch,u=n.setValue,b=n.errors,p=n.triggerValidation,j=n.formState;xr(j.submitCount,b);var f=Object(d.b)().enqueueSnackbar,m=Object(P.f)(),O=Object(a.useState)(null),g=Object(D.a)(O,2),x=g[0],v=g[1],C=Object(a.useContext)(Ve),k=Object(ie.a)(),S=Object(se.a)(k.breakpoints.up("md")),w=Object(a.useRef)(),F=Object(a.useRef)(),T=Object(a.useRef)(),R=Object(a.useRef)(Object(oe.zipObject)(da,da.map((function(){return Object(a.createRef)()})))),I=Object(Hr.c)((function(e){return e.upload.uploads}));console.log("uploads",I);var B=Object(Hr.b)(),L=Object(a.useCallback)((function(e){Object.keys(R.current).forEach((function(e){return R.current[e].current.clear()})),w.current.clear(),F.current.clear(),T.current.clear()}),[R,w,F,T]);function N(e,t){return M.apply(this,arguments)}function M(){return(M=Object(E.a)(A.a.mark((function e(r,a){var n,c,o,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(oe.omit)(r,[].concat(Object(Gt.a)(da),["cast_members","genres","categories"]))).cast_members_id=r.cast_members.map((function(e){return e.id})),n.categories_id=r.categories.map((function(e){return e.id})),n.genres_id=r.genres.map((function(e){return e.id})),e.prev=4,c=x?At.update(x.id,n):At.create(n),e.next=8,c;case 8:o=e.sent,i=o.data,f("Video saved successfully",{variant:"success"}),q(i.data),t&&L(x),setTimeout((function(){a?t?m.replace("/videos/".concat(i.data.id,"/edit")):m.push("/videos/".concat(i.data.id,"/edit")):m.push("/videos")})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),console.error(e.t0),f("Error trying to save video",{variant:"error"});case 20:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function q(e){var t=da.filter((function(e){return i()[e]})).map((function(e){return{fileField:e,file:i()[e]}}));t.length&&(B(Kr.addUpload({video:e,files:t})),f("",{key:"snackbar-upload",persist:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},content:function(e,t){var r=e;return Object(h.jsx)(sa,{id:r})}}))}return Object(a.useEffect)((function(){["rating","opened","cast_members","genres","categories"].concat(Object(Gt.a)(da)).forEach((function(e){return c({name:e})}))}),[c]),Object(a.useEffect)((function(){if(t){var e=!0;return function(){var r=Object(E.a)(A.a.mark((function r(){var a,n;return A.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,At.get(t);case 3:a=r.sent,n=a.data,e&&(v(n.data),s(n.data)),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0),f("Error trying to load video",{variant:"error"});case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(){return r.apply(this,arguments)}}()(),function(){e=!1}}}),[f,t,s]),Object(h.jsxs)(tt,{GridItemProps:{xs:12},onSubmit:o(N),children:[Object(h.jsxs)(Je.a,{container:!0,spacing:5,children:[Object(h.jsxs)(Je.a,{item:!0,xs:12,md:6,children:[Object(h.jsx)(pe.a,{name:"title",label:"T\xedtulo",variant:"outlined",fullWidth:!0,inputRef:c,disabled:C,InputLabelProps:{shrink:!0},error:void 0!==b.title,helperText:b.title&&b.title.message}),Object(h.jsx)(pe.a,{name:"description",label:"Sinopse",multiline:!0,rows:"4",margin:"normal",variant:"outlined",fullWidth:!0,inputRef:c,disabled:C,InputLabelProps:{shrink:!0},error:void 0!==b.description,helperText:b.description&&b.description.message}),Object(h.jsxs)(Je.a,{container:!0,spacing:1,children:[Object(h.jsx)(Je.a,{item:!0,xs:6,children:Object(h.jsx)(pe.a,{name:"year_launched",label:"Ano de lan\xe7amento",type:"number",margin:"normal",variant:"outlined",fullWidth:!0,inputRef:c,disabled:C,InputLabelProps:{shrink:!0},error:void 0!==b.year_launched,helperText:b.year_launched&&b.year_launched.message})}),Object(h.jsx)(Je.a,{item:!0,xs:6,children:Object(h.jsx)(pe.a,{name:"duration",label:"Dura\xe7\xe3o",type:"number",margin:"normal",variant:"outlined",fullWidth:!0,inputRef:c,disabled:C,InputLabelProps:{shrink:!0},error:void 0!==b.duration,helperText:b.duration&&b.duration.message})})]}),Object(h.jsx)(Je.a,{container:!0,children:Object(h.jsx)(Je.a,{item:!0,xs:12,children:Object(h.jsx)(gr,{ref:w,castMembers:l("cast_members"),setCastMembers:function(e){return u("cast_members",e,!0)},error:b.cast_members,disabled:C})})}),Object(h.jsxs)(Je.a,{container:!0,spacing:2,children:[Object(h.jsx)(Je.a,{item:!0,xs:12,md:6,children:Object(h.jsx)(fr,{ref:F,genres:l("genres"),setGenres:function(e){return u("genres",e,!0)},categories:l("categories"),setCategories:function(e){return u("categories",e,!0)},error:b.genres,disabled:C})}),Object(h.jsx)(Je.a,{item:!0,xs:12,md:6,children:Object(h.jsx)(Or,{ref:T,categories:l("categories"),setCategories:function(e){return u("categories",e,!0)},genres:l("genres"),error:b.categories,disabled:C})})]})]}),Object(h.jsxs)(Je.a,{item:!0,xs:12,md:6,children:[Object(h.jsx)(rr,{value:l("rating"),setValue:function(e){return u("rating",e,!0)},error:b.rating,disabled:C,FormControlProps:{margin:S?"none":"normal"}}),Object(h.jsx)("br",{}),Object(h.jsx)(Wt.a,{className:r.cardUpload,children:Object(h.jsxs)(Ht.a,{children:[Object(h.jsx)(y.a,{color:"primary",variant:"h6",children:"Imagens"}),Object(h.jsx)(Kt,{ref:R.current.thumb_file,accept:"image/*",label:"Thumb",setValue:function(e){return u("thumb_file",e)}}),Object(h.jsx)(Kt,{ref:R.current.banner_file,accept:"image/*",label:"Banner",setValue:function(e){return u("banner_file",e)}})]})}),Object(h.jsx)(Wt.a,{className:r.cardUpload,children:Object(h.jsxs)(Ht.a,{children:[Object(h.jsx)(y.a,{color:"primary",variant:"h6",children:"Videos"}),Object(h.jsx)(Kt,{ref:R.current.trailer_file,accept:"video/mp4",label:"Trailer",setValue:function(e){return u("trailer_file",e)}}),Object(h.jsx)(Kt,{ref:R.current.video_file,accept:"video/mp4",label:"Principal",setValue:function(e){return u("video_file",e)}})]})}),Object(h.jsx)(Wt.a,{className:r.cardUpload,children:Object(h.jsx)(Ht.a,{className:r.cardContentOpened,children:Object(h.jsx)(We.a,{control:Object(h.jsx)(He.a,{name:"opened",color:"primary",onChange:function(){return u("opened",!i().opened)},checked:l("opened"),disabled:C}),label:Object(h.jsx)(y.a,{color:"primary",variant:"subtitle2",children:"Quero que este conte\xfado apare\xe7a na se\xe7\xe3o lan\xe7amentos"}),labelPlacement:"end"})})})]})]}),Object(h.jsx)(Ze,{disabledButtons:C,handleSave:function(){return p().then((function(e){e&&N(i(),null)}))}})]})},pa=function(){var e=Object(P.h)().id;return Object(h.jsx)(F,{title:e?"Edit video":"Create video",children:Object(h.jsx)(ba,{id:e||""})})},ja=function(e){return Object(h.jsx)(F,{title:"Dashboard"})},fa=r(989),ha=r(979),ma=r(980),Oa=Object(b.a)((function(e){return{successIcon:{color:e.palette.success.main,marginLeft:e.spacing(1)},errorIcon:{color:e.palette.error.main,marginLeft:e.spacing(1)},divider:{height:"20px",marginLeft:e.spacing(1),marginRight:e.spacing(1)}}})),ga=function(e){var t=e.uploadOrFile,r=Oa(),n=Object(Hr.b)(),c=Object(a.useState)(!1),o=Object(D.a)(c,2),i=o[0],s=o[1],l=Object(Le.a)(i,2500),u=Object(D.a)(l,1)[0],d=Lr(t),b=t.video?t.video.id:"",j=Nr(t);return Object(a.useEffect)((function(){s(Br(t))}),[t]),u?Object(h.jsx)(Dr.a,{in:i,timeout:{enter:1e3},children:Object(h.jsxs)(h.Fragment,{children:[1===t.progress&&!d&&Object(h.jsx)(zr.a,{className:r.successIcon}),d&&Object(h.jsx)(Wr.a,{className:r.errorIcon}),j&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Ir.a,{className:r.divider,orientation:"vertical"}),Object(h.jsx)(p.a,{onClick:function(){n(Kr.removeUpload({id:b}))},children:Object(h.jsx)(ur.a,{color:"primary"})}),Object(h.jsx)(p.a,{component:g.b,to:"/videos/".concat(b,"/edit"),children:Object(h.jsx)(Q.a,{color:"primary"})})]})]})}):null},xa=(r(429),Object(b.a)((function(e){return{gridTitle:{display:"flex",color:"#999999"},icon:{color:e.palette.error.main,minWidth:"40px"}}}))),va=function(e){var t=e.uploadOrFile,r=xa();return Object(h.jsx)(Fr.a,{children:Object(h.jsxs)(Je.a,{container:!0,alignItems:"center",children:[Object(h.jsxs)(Je.a,{className:r.gridTitle,item:!0,xs:12,md:9,children:[Object(h.jsx)(Er.a,{className:r.icon}),Object(h.jsx)(y.a,{color:"inherit",children:e.children})]}),Object(h.jsx)(Je.a,{item:!0,xs:12,md:3,children:Object(h.jsxs)(Je.a,{container:!0,direction:"row",alignItems:"center",justify:"flex-end",children:[Object(h.jsx)(Vr,{size:48,uploadOrFile:t}),Object(h.jsx)(ga,{uploadOrFile:t})]})})]})})},ya=Object(b.a)((function(e){return{panelSummary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},expandedIcon:{color:e.palette.primary.contrastText}}})),Ca=[{name:"dashboard",label:"Dashboard",path:"/",component:ja,exact:!0},{name:"categories.list",label:"Categories",path:"/categories",component:Ge,exact:!0},{name:"categories.create",label:"Create Category",path:"/categories/create",component:nt,exact:!0},{name:"categories.edit",label:"Edit category",path:"/categories/:id/edit",component:nt,exact:!0},{name:"cast_members.list",label:"Cast Members",path:"/cast-members",component:bt,exact:!0},{name:"cast_members.create",label:"Create cast member",path:"/cast-members/create",component:xt,exact:!0},{name:"cast_members.edit",label:"Edit cast member",path:"/cast-members/:id/edit",component:xt,exact:!0},{name:"genres.list",label:"Genres",path:"/genres",component:St,exact:!0},{name:"genres.create",label:"Create Genre",path:"/genres/create",component:It,exact:!0},{name:"genres.edit",label:"Edit Genre",path:"/genres/:id/edit",component:It,exact:!0},{name:"videos.list",label:"Videos",path:"/videos",component:zt,exact:!0},{name:"videos.create",label:"Create Video",path:"/videos/create",component:pa,exact:!0},{name:"videos.edit",label:"Edit Video",path:"/videos/:id/edit",component:pa,exact:!0},{name:"uploads",label:"Uploads",path:"/uploads",component:function(){var e=ya(),t=Object(Hr.c)((function(e){return e.upload.uploads}));return Object(h.jsx)(F,{title:"Uploads",children:t.map((function(t,r){return Object(h.jsx)(Wt.a,{elevation:5,children:Object(h.jsxs)(Ht.a,{children:[Object(h.jsx)(va,{uploadOrFile:t,children:t.video.title}),Object(h.jsxs)(fa.a,{style:{margin:0},children:[Object(h.jsx)(ha.a,{className:e.panelSummary,expandIcon:Object(h.jsx)(kr.a,{className:e.expandedIcon}),children:Object(h.jsx)(y.a,{children:"Ver detalhes"})}),Object(h.jsx)(ma.a,{style:{padding:"0px"},children:Object(h.jsx)(Je.a,{item:!0,xs:12,children:Object(h.jsx)(Cr.a,{dense:!0,style:{padding:"0px"},children:t.files.map((function(e,t){return Object(h.jsxs)(a.Fragment,{children:[Object(h.jsx)(Ir.a,{}),Object(h.jsx)(va,{uploadOrFile:e,children:"".concat(it[e.fileField]," - ").concat(e.filename)})]},t)}))})})})]})]})},r)}))})},exact:!0}],Pa=r(430),ka=r.n(Pa),Sa={};Ca.forEach((function(e){return Sa[e.path]=e.label}));var wa=Object(b.a)((function(e){return Object(x.a)({linkRouter:{color:e.palette.secondary.main,"&:focus, &:active":{color:e.palette.secondary.main},"&:hover":{color:e.palette.secondary.dark}}})})),Fa=function(e){return Object(h.jsx)(v.a,Object(u.a)(Object(u.a)({},e),{},{component:g.b}))};function Ta(){var e=wa();return Object(h.jsx)(S.a,{children:Object(h.jsx)(l.a,{paddingTop:2,paddingBottom:1,children:Object(h.jsx)(P.a,{children:function(t){return function(t){var r=t.pathname.split("/").filter((function(e){return e}));return r.unshift("/"),Object(h.jsx)(C.a,{"aria-label":"breadcrumb",children:r.map((function(t,a){var n=a===r.length-1,c="".concat(r.slice(0,a+1).join("/").replace("//","/")),o=Object.keys(Sa).find((function(e){return new ka.a(e).match(c)}));return void 0!==o&&(n?Object(h.jsx)(y.a,{color:"textPrimary",children:Sa[o]},c):Object(h.jsx)(Fa,{color:"inherit",to:c,className:e.linkRouter,children:Sa[o]},c))}))})}(t.location)}})})})}var Ra=r(982),Ia=r(354),Aa=r(433),Ea=r(431),Da=r.n(Ea),Ba={dashboard:"Dashboard","categories.list":"Categories","cast_members.list":"Cast Members","genres.list":"Genres","videos.list":"Videos",uploads:"Uploads"},La=Ca.filter((function(e){return Object.keys(Ba).includes(e.name)})),Na=function(){var e=a.useState(null),t=Object(D.a)(e,2),r=t[0],n=t[1],c=Boolean(r),o=function(){return n(null)};return Object(h.jsxs)(a.Fragment,{children:[Object(h.jsx)(p.a,{edge:"start",color:"inherit","aria-label":"open drawer","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){return n(e.currentTarget)},children:Object(h.jsx)(Da.a,{})}),Object(h.jsx)(Aa.a,{id:"menu-appbar",open:c,anchorEl:r,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null,children:Object.keys(Ba).map((function(e,t){var r=La.find((function(t){return t.name===e}));return Object(h.jsx)(wt.a,{component:g.b,to:r.path,onClick:o,children:Ba[e]},t)}))})]})},Ma=Object(b.a)((function(e){return{toolbar:{backgroundColor:"#000000"},title:{flexGrow:1,textAlign:"center"},logo:Object(Te.a)({width:100},e.breakpoints.up("sm"),{width:170})}})),qa=function(){var e=Ma();return Object(h.jsx)("div",{children:Object(h.jsx)(Ra.a,{children:Object(h.jsxs)(Ia.a,{className:e.toolbar,children:[Object(h.jsx)(Na,{}),Object(h.jsx)(y.a,{className:e.title,children:Object(h.jsx)("img",{src:"data:image/png;base64,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",alt:"CodeFlix",className:e.logo})}),Object(h.jsx)(Qe.a,{color:"inherit",children:"Login"})]})})})},Va=function(){return Object(h.jsx)(P.c,{children:Ca.map((function(e,t){return Object(h.jsx)(P.a,{path:e.path,component:e.component,exact:!0===e.exact},t)}))})},Ua=r(983);function _a(e){return Object(u.a)(Object(u.a)({},e),{},{palette:Object(u.a)(Object(u.a)({},e.palette),{},{primary:e.palette.error,type:"dark"})})}var za=function(){var e=Object(a.useContext)(Ve);return Object(h.jsx)(i.a,{theme:_a,children:Object(h.jsx)(Dr.a,{in:e,children:Object(h.jsx)(Ua.a,{color:"primary",style:{position:"fixed",width:"100%",zIndex:9999}})})})},Ga=function(e){var t=Object(a.useState)(!1),r=Object(D.a)(t,2),n=r[0],c=r[1],o=Object(a.useState)(0),i=Object(D.a)(o,2),s=i[0],l=i[1];function u(){l((function(e){return e-1}))}function d(e){return!e.headers||!e.headers.hasOwnProperty("x-ignore-loading")}return Object(a.useMemo)((function(){var e=!0,t=function(e,t){var r,a=[],n=Object(N.a)(U);try{for(n.s();!(r=n.n()).done;){var c=r.value.interceptors.request.use(e,t);a.push(c)}}catch(o){n.e(o)}finally{n.f()}return a}((function(t){return e&&d(t)&&(c(!0),l((function(e){return e+1}))),t})),r=function(e,t){var r,a=[],n=Object(N.a)(U);try{for(n.s();!(r=n.n()).done;){var c=r.value.interceptors.response.use(e,t);a.push(c)}}catch(o){n.e(o)}finally{n.f()}return a}((function(t){return e&&d(t.config)&&u(),t}),(function(t){return e&&d(t.config)&&u(),Promise.reject(t)}));return function(){e=!1,t.forEach((function(e,t){return U[t].interceptors.request.eject(e)})),function(e){e.forEach((function(e,t){return U[t].interceptors.response.eject(e)}))}(r)}}),[]),Object(a.useEffect)((function(){s||c(!1)}),[s]),Object(h.jsx)(Ve.Provider,{value:n,children:e.children})},Wa=function(){return Object(h.jsx)(n.a.Fragment,{children:Object(h.jsx)(Ga,{children:Object(h.jsx)(i.a,{theme:ee,children:Object(h.jsxs)(O,{children:[Object(h.jsx)(s.a,{}),Object(h.jsxs)(g.a,{basename:"/admin",children:[Object(h.jsx)(za,{}),Object(h.jsx)(qa,{}),Object(h.jsxs)(l.a,{paddingTop:"70px",children:[Object(h.jsx)(Ta,{}),Object(h.jsx)(Va,{})]})]})]})})})})},Ha=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,993)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),a(e),n(e),c(e),o(e)}))},Ya=r(106),Qa=r(162),Xa=r(86),Za=A.a.mark(Ja),Ka=A.a.mark($a);function Ja(){var e,t,r,a,n,c,o;return A.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Xa.a)(Zr.ADD_UPLOAD);case 2:e=i.sent;case 3:return i.next=6,Object(Xa.e)(e);case 6:t=i.sent,r=t.payload,a=Object(N.a)(r.files),i.prev=9,a.s();case 11:if((n=a.n()).done){i.next=25;break}return c=n.value,i.prev=13,i.next=16,Object(Xa.c)($a,{video:r.video,fileInfo:c});case 16:o=i.sent,console.log("uploadWatcherSaga response",o),i.next=23;break;case 20:i.prev=20,i.t0=i.catch(13),console.log("Error uploadWatcherSaga",i.t0);case 23:i.next=11;break;case 25:i.next=30;break;case 27:i.prev=27,i.t1=i.catch(9),a.e(i.t1);case 30:return i.prev=30,a.f(),i.finish(30);case 33:console.log("uploadWatcherSaga",r),i.next=3;break;case 36:case"end":return i.stop()}}),Za,null,[[9,27,30,33],[13,20]])}function $a(e){var t,r,a,n,c,o;return A.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.video,r=e.fileInfo,i.next=3,Object(Xa.c)(en,{id:t.id,fileInfo:r});case 3:a=i.sent;case 4:return i.prev=5,i.next=8,Object(Xa.e)(a);case 8:if(n=i.sent,c=n.progress,o=n.response,console.log("response",r.fileField,o),!o){i.next=14;break}return i.abrupt("return",o);case 14:return console.log("progress",r.fileField,c),console.log("updateProgress",r.fileField),i.next=18,Object(Xa.d)(Kr.updateProgress({video:t,fileField:r.fileField,progress:c}));case 18:i.next=26;break;case 20:return i.prev=20,i.t0=i.catch(5),console.log("Error",r.fileField,i.t0),i.next=25,Object(Xa.d)(Kr.setUploadError({video:t,fileField:r.fileField,error:i.t0}));case 25:throw i.t0;case 26:i.next=4;break;case 28:case"end":return i.stop()}}),Ka,null,[[5,20]])}function en(e){var t=e.id,r=e.fileInfo;return Object(Qa.c)((function(e){At.partialUpdate(t,Object(Te.a)({_method:"PATCH"},r.fileField,r.file),{http:{usePost:!0},config:{headers:{"x-ignore-loading":!0},onUploadProgress:function(t){if(t.lengthComputable){console.log(">>>>",t);var r=t.loaded/t.total;e({progress:r})}}}}).then((function(t){return e({response:t})})).catch((function(t){return e(t)})).finally((function(){return e(Qa.a)}));return function(){}}))}var tn=A.a.mark(rn);function rn(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Xa.b)([Ja()]);case 2:case"end":return e.stop()}}),tn)}var an=Object(Qa.b)(),nn=Object(Ya.d)(Object(Ya.b)({upload:$r}),Object(Ya.a)(an));an.run(rn);var cn=nn;o.a.render(Object(h.jsx)(Hr.a,{store:cn,children:Object(h.jsx)(Wa,{})}),document.getElementById("root")),Ha()}},[[915,1,2]]]);
//# sourceMappingURL=main.dc023ae6.chunk.js.map