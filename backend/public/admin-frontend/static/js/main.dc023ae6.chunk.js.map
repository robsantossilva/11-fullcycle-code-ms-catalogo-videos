{"version":3,"sources":["util/vendor/yup.ts","components/SnackbarProvider.tsx","components/Page.tsx","util/http/index.ts","util/http/http-resource.ts","util/http/category-http.ts","theme.ts","components/Badge.tsx","components/Table/DebouncedTableSearch.js","components/Table/index.tsx","components/Table/FilterResetButton.tsx","store/filter/index.ts","hooks/useFilter.ts","components/loading/LoadingContext.tsx","pages/category/Table.tsx","pages/category/PageList.tsx","components/SubmitActions.tsx","components/DefaultForm.tsx","pages/category/Form.tsx","pages/category/PageForm.tsx","util/http/cast-member-http.ts","util/models.ts","pages/cast-member/Table.tsx","pages/cast-member/PageList.tsx","pages/cast-member/Form.tsx","pages/cast-member/PageForm.tsx","util/http/genre-http.ts","pages/genre/Table.tsx","pages/genre/PageList.tsx","pages/genre/Form.tsx","pages/genre/PageForm.tsx","util/http/video-http.ts","components/DeleteDialog.tsx","hooks/useDeleteCollection.ts","pages/video/Table.tsx","pages/video/PageList.tsx","components/InputFile.tsx","pages/video/Form/UploadField.tsx","components/Rating.tsx","pages/video/Form/RatingField.tsx","components/AsyncAutocomplete.tsx","components/GridSelected.tsx","components/GridSelectedItem.tsx","hooks/useCollectionManager.ts","hooks/useHttpHandled.ts","util/model-filters.ts","pages/video/Form/GenreField.tsx","pages/video/Form/CategoryField.tsx","pages/video/Form/CastMemberField.tsx","hooks/useSnackbarFormError.ts","store/upload/getters.ts","components/UploadProgress.tsx","store/upload/index.ts","components/SnackbarUpload/UploadAction.tsx","components/SnackbarUpload/UploadItem.tsx","components/SnackbarUpload/index.tsx","pages/video/Form/index.tsx","pages/video/PageForm.tsx","pages/Dashboard.tsx","pages/uploads/UploadAction.tsx","pages/uploads/UploadItem.tsx","pages/uploads/index.tsx","routes/index.tsx","components/Breadcrumbs.tsx","components/Navbar/Menu.tsx","components/Navbar/index.tsx","static/img/logo.png","routes/AppRouter.tsx","components/Spinner.tsx","components/loading/LoadingProvider.tsx","App.tsx","reportWebVitals.ts","store/upload/sagas.ts","store/root-saga.ts","store/index.ts","index.tsx"],"names":["setLocale","mixed","required","notType","string","max","number","min","useStyles","makeStyles","theme","variantSuccess","backgroundColor","palette","success","main","variantError","error","variantInfo","primary","SnackbarProvider","props","snackbarProviderRef","classes","defaultProps","autoHideDuration","maxSnack","anchorOrigin","horizontal","vertical","preventDuplicate","ref","el","action","key","IconButton","color","style","fontSize","onClick","closeSnackbar","children","useStyle","title","Page","Container","Typography","className","component","variant","Box","paddingTop","httpVideo","axios","create","baseURL","process","instances","HttpResource","http","resource","cancelList","options","this","cancel","CancelToken","source","config","cancelToken","token","queryParams","params","get","id","data","sendData","makeSendData","post","usePost","put","patch","delete","isCancel","containsFile","getFormData","serialize","booleansAsIntegers","Object","values","filter","File","length","categoryHttp","contrastText","secondary","dark","background","default","green","red","createTheme","overrides","MUIDataTable","paper","boxShadow","MUIDataTableToolbar","root","minHeight","icon","iconActive","MUIDataTableHeadCell","fixedHeader","paddingBottom","sortActive","sortAction","alignItems","sortLabelRoot","MUIDataTableSelectCell","headerCell","MUIDataTableBodyCell","MUIDataTableToolbarSelect","iconButton","MUIDataTableBodyRow","MUIDataTablePagination","MUIDataTableFilterList","marginBottom","localTheme","BadgeYes","label","Chip","BadgeNo","DebouncedTableSearch","handleTextChange","event","value","target","setState","text","debouncedOnSearch","onSearch","onKeyDown","keyCode","onHide","searchText","undefined","state","debounce","bind","debounceTime","prevProps","prevState","snapshot","e","document","addEventListener","removeEventListener","Grow","appear","in","timeout","rootRef","searchIcon","TextField","autoFocus","InputProps","textLabels","toolbar","search","onChange","fullWidth","inputRef","searchField","placeholder","searchPlaceholder","clearIcon","React","PureComponent","withStyles","display","flex","marginTop","marginRight","name","Table","columns","debouncedSearchTime","cloneDeep","useTheme","isSmOrDown","useMediaQuery","breakpoints","down","newProps","merge","print","download","body","noMatch","toolTip","pagination","next","previous","rowsPerPage","displayRows","downloadCsv","viewColumns","filterTable","all","reset","titleAria","selectedRows","deleteAria","customSearchRender","handleSearch","hideSearch","forEach","column","width","setColumnsWith","map","omit","loading","applyLoading","responsive","tableBodyHeight","window","innerHeight","originalProps","makeActionStyles","copyTheme","selector","FilterResetButton","Tooltip","handleClick","createActions","setSearch","setPage","setPerPage","setOrder","setReset","updateExtraFilter","Types","Creators","INITIAL_STATE","page","per_page","order","sort","dir","reducer","createReducer","SET_SEARCH","payload","SET_PAGE","SET_PER_PAGE","SET_ORDER","SET_RESET","update","UPDATE_EXTRA_FILTER","extraFilter","useFilter","history","useHistory","location","useLocation","locationSearch","locationPathname","pathname","locationState","rowsPerPageOptions","schema","useMemo","yup","shape","transform","isNaN","parseInt","includes","nullable","toLowerCase","createValidationSchema","stateFromURL","URLSearchParams","substr","cast","getStateFromURL","cleanSearchText","useCallback","newText","formatSearchParams","useReducer","filterState","dispatch","filterManager","FilterManager","useDebounce","debouncedFilterState","useEffect","replace","newLocation","oldState","nextState","isEqual","push","useState","totalRecords","setTotalRecords","changePage","tableRef","current","changeRowsPerPage","perPage","changedColumn","direction","resetTablePagination","sortDirection","LoadingContext","createContext","columnsDefinition","filterOptions","names","customBodyRender","tableMeta","updateValue","format","parseISO","Link","to","rowData","enqueueSnackbar","useSnackbar","subscribed","useRef","setData","useContext","getData","a","list","meta","total","console","isCancelledRequest","serverSide","count","customToolbar","resetFilter","onSearchChange","changeSearch","onChangePage","onChangeRowsPerPage","onColumnSortChange","changeColumnSort","PageList","Fab","size","submit","margin","spacing","SubmitActions","buttonProps","disabled","disabledButtons","Button","handleSave","type","gridItem","padding","DefaultForm","GridContainerProps","GridItemProps","other","Grid","container","item","validationSchema","Form","useForm","defaultValues","is_active","register","handleSubmit","getValues","watch","setValue","errors","triggerValidation","category","setCategory","onSubmit","formData","setTimeout","isSubscribed","log","xs","md","helperText","message","InputLabelProps","shrink","multiline","rows","FormControlLabel","control","Checkbox","checked","labelPlacement","then","isValid","PageForm","useParams","castMemberHttp","CastMemberTypeMap","1","2","VideoFileFieldsMap","castMemberNames","debouncedState","indexColumnType","findIndex","c","columnType","typeFilterValue","filterList","invert","onFilterChange","columnIndex","changeExtraFilter","snackbar","castMember","setCastMember","getCastMember","FormControl","FormLabel","RadioGroup","Radio","FormHelperText","genreHttp","filterType","i","join","categories","split","indexColumnCategories","columnCategories","categoriesFilterValue","categories_id","genre","setGenre","setCategories","promises","Promise","categoriesResponse","genreResponse","dataForm","select","SelectProps","multiple","MenuItem","videoHttp","DeleteDialog","open","handleClose","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","useDeleteCollection","openDeleteDialog","setOpenDeleteDialog","rowsToDelete","setRowsToDelete","deleteRows","confirmed","ids","index","deleteCollection","response","catch","onRowsDelete","rowsDeleted","InputFile","fileRef","filename","setFilename","textFieldProps","TextFieldProps","readOnly","endAdornment","InputAdornment","position","ButtonFile","inputFileProps","InputFileProps","hidden","files","Array","from","file","useImperativeHandle","openWindow","click","clear","UploadField","accept","FormControlProps","endIcon","height","borderRadius","justifyContent","backgroundColors","Rating","rating","ratings","RatingField","row","AsyncAutocomplete","AutocompleteProps","fetchOptions","freeSolo","onOpen","onInputChange","setOpen","setSearchText","debouncedSearchText","setLoading","setOptions","autocompleteProps","loadingText","noOptionsText","inputValue","v","renderInput","CircularProgress","Autocomplete","createStyles","GridSelected","wrap","GridSelectedItem","onDelete","useCollectionManager","collection","setCollection","addItem","find","unshift","removeItem","splice","useHttpHandled","request","getGenresFromCategory","genres","cat","GenreField","setGenres","autocompleteHttp","removeCategory","autocompleteRef","clearOnEscape","getOptionSelected","option","getOptionLabel","lineHeight","genresFromCategory","noWrap","genresSubtitle","grey","CategoryField","CastMemberField","castMembers","setCastMembers","useSnackbarFormError","submitCount","hasError","keys","isFinished","obj","progress","isUploadType","some","progressContainer","left","progressBackground","UploadProgress","uploadOrFile","Fade","enter","exit","addUpload","removeUpload","updateProgress","setUploadError","uploads","ADD_UPLOAD","findIndexUpload","video","$splice","fileField","REMOVE_UPLOAD","upload","UPDATE_PROGRESS","videoId","findIndexUploadAndFile","indexUpload","indexFile","$apply","$set","calculateGlobalProgress","SET_UPLOAD_ERROR","findIndexFile","countFiles","reduce","sum","successIcon","errorIcon","UploadAction","hover","useDispatch","show","setShow","debouncedShow","ListItemSecondaryAction","edge","listItem","movieIcon","minWidth","listItemText","marginLeft","UploadItem","itemHover","setItemHover","disableFocusListener","disableTouchListener","placement","ListItem","button","onMouseOver","onMouseLeave","ListItemIcon","ListItemText","Divider","card","cardActionRoot","fontWeight","icons","expand","transition","transitions","duration","shortest","expandOpen","SnackbarUpload","expanded","setExpanded","useSelector","totalInProgress","countInProgress","Card","CardActions","classnames","Collapse","List","cardUpload","cardOpened","cardContentOpened","description","year_launched","cast_members","test","every","parent","fileFields","opened","formState","setVideo","isGreaterMd","up","castMemberRef","genreRef","categoryRef","uploadsRef","zipObject","createRef","resetForm","field","cast_member","uploadFiles","persist","content","CardContent","Dashboard","divider","activeActions","orientation","gridTitle","justify","panelSummary","expandedIcon","routes","path","exact","CategoryList","CategoryForm","CastMemberList","CastMemberForm","GenreList","GenreForm","VideoList","VideoForm","elevation","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","dense","breadcrumbNameMap","route","linkRouter","LinkRouter","RouterLink","Breadcrumbs","pathnames","x","aria-label","last","slice","RouteParser","match","makeBreadcrumbs","listRoutes","menuRoutes","Menu","anchorEl","setAnchorEl","Boolean","aria-controls","aria-haspopup","currentTarget","transformOrigin","getContentAnchorEl","routeName","flexGrow","textAlign","logo","Navbar","AppBar","Toolbar","src","alt","AppRouter","makeLocalTheme","Spinner","LinearProgress","zIndex","LoadingProvider","countRequest","setCountRequest","decrementCountRequest","prevCountRequest","ignoreLoading","headers","hasOwnProperty","requestIds","onFulfilled","onRejected","interceptors","use","addGlobalRequestInterceptor","responseIds","addGlobalResponseInterceptor","reject","eject","removeGlobalResponseInterceptor","Provider","App","Fragment","CssBaseline","basename","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","uploadWatcherSaga","uploadFile","actionChannel","newFilesChannel","take","fileInfo","call","f","sendUpload","channel","eventChannel","emitter","partialUpdate","_method","onUploadProgress","progressEvent","lengthComputable","loaded","finally","END","rootSaga","sagaMiddleware","createSagaMiddleware","store","createStore","combineReducers","applyMiddleware","run","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.dc023ae6.chunk.js","sourcesContent":["/* eslint-disable no-template-curly-in-string */\nimport { LocaleObject, setLocale } from 'yup';\n\nconst ptBR: LocaleObject = {\n    mixed: {\n        required: '${path} é requerido',\n        notType: '${path} é inválido'\n    },\n    string: {\n        max: '${path} precisa ter no máximo ${max} caracteres'\n    },\n    number: {\n        min: '${path} precisa ser no mínimo ${min}'\n    }\n}\n\nsetLocale(ptBR);\n\nexport * from 'yup';","import * as React from 'react';\nimport {SnackbarProvider as NotistackProvider, SnackbarProviderProps} from 'notistack';\nimport { IconButton, makeStyles, Theme } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return {\n        variantSuccess:{\n            backgroundColor: theme.palette.success.main\n        },\n        variantError:{\n            backgroundColor: theme.palette.error.main\n        },\n        variantInfo:{\n            backgroundColor: theme.palette.primary.main\n        },\n    }\n})\n\nexport const SnackbarProvider: React.FC<SnackbarProviderProps> = (props) => {\n    let snackbarProviderRef;\n    const classes = useStyles();\n\n    const defaultProps: SnackbarProviderProps = {\n        ...props,\n        classes,\n        autoHideDuration: 3000,\n        maxSnack: 3,\n        anchorOrigin: {\n            horizontal: 'right',\n            vertical: 'top'\n        },\n        preventDuplicate: true,\n        ref: (el) => (snackbarProviderRef = el),\n        action: (key) => (\n            <>\n                <IconButton \n                    color={\"inherit\"} \n                    style={{fontSize:20}}\n                    onClick={() => snackbarProviderRef.closeSnackbar(key)}\n                >\n                    <CloseIcon />\n                </IconButton>\n            </>\n        )\n    }\n\n    return (\n        <NotistackProvider {...defaultProps}>\n            {props.children}\n        </NotistackProvider>\n    );\n}\n","import { Box, Container, makeStyles, Typography } from '@material-ui/core';\nimport * as React from 'react';\n\nconst useStyle = makeStyles({\n    title: {\n        color: '#999999'\n    }\n})\n\ntype PageProps = {\n    title: string\n}\n\nexport const Page: React.FC<PageProps> = (props) => {\n\n    const classes = useStyle();\n\n    return (\n        <Container>\n            <Typography className={classes.title} component=\"h1\" variant=\"h5\">\n                {props.title}\n            </Typography>\n            <Box paddingTop={2}>\n                {props.children}\n            </Box>\n        </Container>\n    );\n}","import axios, { AxiosError, AxiosRequestConfig, AxiosResponse } from 'axios';\n\nexport const httpVideo = axios.create({\n    baseURL: process.env.REACT_APP_MICRO_VIDEO_API_URL\n});\n\nconst instances = [httpVideo];\n\nexport function addGlobalRequestInterceptor(\n    onFulfilled?: (value: AxiosRequestConfig) => AxiosRequestConfig | Promise<AxiosRequestConfig>,\n    onRejected?: (error: any) => any\n) {\n    const ids: number[] = [];\n    for (let i of instances) {\n        const id = i.interceptors.request.use(onFulfilled, onRejected);\n        ids.push(id);\n    }\n    return ids;\n}\n\nexport function removeGlobalRequestInterceptor(ids: number[]) {\n    ids.forEach(\n        (id, index) => instances[index].interceptors.request.eject(id)\n    )\n}\n\nexport function addGlobalResponseInterceptor(\n    onFulfilled?: (value: AxiosResponse) => AxiosResponse | Promise<AxiosResponse>,\n    onRejected?: (error: AxiosError) => any\n) {\n    const ids: number[] = [];\n    for (let i of instances) {\n        const id = i.interceptors.response.use(onFulfilled, onRejected);\n        ids.push(id);\n    }\n    return ids;\n}\n\nexport function removeGlobalResponseInterceptor(ids: number[]) {\n    ids.forEach(\n        (id, index) => instances[index].interceptors.response.eject(id)\n    )\n}\n","import axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse, CancelTokenSource } from \"axios\";\nimport {serialize} from \"object-to-formdata\";\n\nexport default class HttpResource {\n\n    private cancelList: CancelTokenSource | null = null;\n\n    constructor(protected http: AxiosInstance, protected resource) {\n\n    }\n\n    list<T = any>(options?: { queryParams? }): Promise<AxiosResponse<T>> {\n        if (this.cancelList) {\n            this.cancelList.cancel('list request cancelled');\n        }\n        this.cancelList = axios.CancelToken.source();\n\n        const config: AxiosRequestConfig = {\n            cancelToken: this.cancelList.token\n        };\n        if(options && options.queryParams) config.params = options.queryParams; \n        return this.http.get<T>(this.resource, config);\n    }\n\n    get<T = any>(id): Promise<AxiosResponse<T>> {\n        return this.http.get<T>(`${this.resource}/${id}`);\n    }\n\n    create<T = any>(data): Promise<AxiosResponse<T>> {\n        let sendData = this.makeSendData(data);\n        return this.http.post<T>(this.resource, sendData);\n    }\n\n    update<T = any>(id, data, options?: { http?: { usePost: boolean }, config?: AxiosRequestConfig }): Promise<AxiosResponse<T>> {\n        let sendData = this.makeSendData(data);\n        const {http, config} = (options || {}) as any;\n        return !options || !http || !http.usePost\n            ? this.http.put<T>(`${this.resource}/${id}`, sendData, config)\n            : this.http.post<T>(`${this.resource}/${id}`, sendData, config)\n    }\n\n    partialUpdate<T = any>(id, data, options?: { http?: { usePost: boolean }, config?: AxiosRequestConfig }): Promise<AxiosResponse<T>> {\n        let sendData = this.makeSendData(data);\n        const {http, config} = (options || {}) as any;\n        return !options || !http || !http.usePost\n            ? this.http.patch<T>(`${this.resource}/${id}`, sendData, config)\n            : this.http.post<T>(`${this.resource}/${id}`, sendData, config)\n    }\n\n    delete<T = any>(id): Promise<AxiosResponse<T>> {\n        return this.http.delete<T>(`${this.resource}/${id}`);\n    }\n\n    deleteCollection<T = any>(queryParams): Promise<AxiosResponse<T>> {\n        const config:AxiosRequestConfig = {};\n        if (queryParams) {\n            config['params'] = queryParams;\n        }\n        return this.http.delete<T>(`${this.resource}`, config)\n    }\n\n    isCancelledRequest(error) {\n        return axios.isCancel(error);\n    }\n\n    private makeSendData(data){\n        return this.containsFile(data) ? this.getFormData(data) : data;\n    }\n\n    private getFormData(data) {\n        // const formData = new FormData();\n        // Object\n        //     .keys(data)\n        //     .forEach(key => {\n        //         let value = data[key];\n        //         if (typeof value === \"undefined\") {\n        //             return;\n        //         }\n        //         if (typeof value === \"boolean\") {\n        //             value = value ? 1 : 0;\n        //         }\n        //         if(value instanceof Array){\n        //             value.forEach(v => formData.append(`${key}[]`, v))\n        //             return;\n        //         }\n        //         formData.append(key, value)\n        //     });\n        return serialize(data, {booleansAsIntegers: true});\n    }\n\n    private containsFile(data) {\n        return Object\n            .values(data)\n            .filter(el => el instanceof File).length !== 0\n    }\n}","import { httpVideo } from \".\";\nimport HttpResource from \"./http-resource\";\n\nconst categoryHttp = new HttpResource(httpVideo, \"categories\");\n\nexport default categoryHttp;","import {createTheme} from \"@material-ui/core\";\nimport {PaletteOptions, SimplePaletteColorOptions} from \"@material-ui/core/styles/createPalette\";\nimport {green, red} from \"@material-ui/core/colors\";\n\nconst palette: PaletteOptions = {\n    primary: {\n        main: '#79aec8',\n        contrastText: '#fff'\n    },\n    secondary: {\n        main: '#4db5ab',\n        contrastText: '#fff',\n        dark: \"#055a52\"\n    },\n    background: {\n        default: '#fafafa'\n    },\n    success: {\n        main: green[\"500\"],\n        contrastText: '#fff'\n    },\n    error: {\n        main: red[\"500\"]\n    },\n};\n\nconst theme = createTheme({\n    palette,\n    overrides: {\n        MUIDataTable: {\n            paper: {\n                boxShadow: \"none\",\n            }\n        },\n        MUIDataTableToolbar: {\n            root: {\n                minHeight: '58px',\n                backgroundColor: palette!.background!.default\n            },\n            icon: {\n                color: (palette!.primary as SimplePaletteColorOptions).main,\n                '&:hover, &:active, &.focus': {\n                    color: (palette!.secondary as SimplePaletteColorOptions).dark\n                },\n            },\n            iconActive: {\n                color: (palette!.secondary as SimplePaletteColorOptions).dark,\n                '&:hover, &:active, &.focus': {\n                    color: (palette!.secondary as SimplePaletteColorOptions).dark\n                },\n            }\n        },\n        MUIDataTableHeadCell: {\n            fixedHeader: {\n                paddingTop: 8,\n                paddingBottom: 8,\n                backgroundColor: (palette!.primary as SimplePaletteColorOptions).main,\n                color: '#ffffff',\n                '&[aria-sort]':{\n                    backgroundColor: '#459ac4',\n                }\n            },\n            sortActive: {\n                color: '#fff'\n            },\n            sortAction:{\n                color: '#fff',\n                alignItems: 'center'\n            },\n            sortLabelRoot: {\n                '& svg': {\n                    color: '#fff !important'\n                }\n            }\n        },\n        MUIDataTableSelectCell: {\n            headerCell: {\n                backgroundColor: (palette!.primary as SimplePaletteColorOptions).main,\n                '& span': {\n                    color: '#fff !important'\n                }\n            },\n        },\n        MUIDataTableBodyCell: {\n            root: {\n                color: (palette!.secondary as SimplePaletteColorOptions).main,\n                '&:hover, &:active, &.focus': {\n                    color: (palette!.secondary as SimplePaletteColorOptions).main,\n                },\n            },\n        },\n        MUIDataTableToolbarSelect:{\n            title: {\n                color: (palette!.primary as SimplePaletteColorOptions).main,\n            },\n            iconButton:{\n                color: (palette!.primary as SimplePaletteColorOptions).main,\n            }\n        },\n        MUIDataTableBodyRow: {\n            root: {\n                '&:nth-child(odd)': {\n                    backgroundColor: palette!.background!.default\n                }\n            }\n        },\n        MUIDataTablePagination: {\n            root: {\n                color: (palette!.primary as SimplePaletteColorOptions).main,\n            }\n        },\n        MUIDataTableFilterList: {\n            root: {\n                marginBottom: '16px'\n            }\n        }\n    }\n});\n\nexport default theme;","import * as React from 'react';\nimport {Chip, MuiThemeProvider, createTheme} from \"@material-ui/core\";\nimport theme from \"../theme\";\n\nconst localTheme = createTheme({\n    palette: {\n        primary: theme.palette.success,\n        secondary: theme.palette.error\n    }\n});\n\nexport const BadgeYes = ({label}) => {\n    return (\n        <MuiThemeProvider theme={localTheme}>\n            <Chip label={label} color=\"primary\"/>\n        </MuiThemeProvider>\n    );\n};\n\nexport const BadgeNo = ({label}) => {\n    return (\n        <MuiThemeProvider theme={localTheme}>\n            <Chip label={label} color=\"secondary\"/>\n        </MuiThemeProvider>\n    );\n};","import React from 'react';\nimport Grow from '@material-ui/core/Grow';\nimport TextField from '@material-ui/core/TextField';\nimport SearchIcon from '@material-ui/icons/Search';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport {withStyles} from '@material-ui/core/styles';\nimport {debounce} from 'lodash';\n\nconst defaultSearchStyles = theme => ({\n    main: {\n        display: 'flex',\n        flex: '1 0 auto',\n    },\n    searchIcon: {\n        color: theme.palette.text.secondary,\n        marginTop: '10px',\n        marginRight: '8px',\n    },\n    searchText: {\n        flex: '0.8 0',\n    },\n    clearIcon: {\n        '&:hover': {\n            color: theme.palette.error.main,\n        },\n    },\n});\n\n//pura - , impura\nclass DebouncedTableSearch extends React.PureComponent {\n\n    constructor(props) {\n        super(props);\n        const {searchText} = this.props;\n        let value = searchText;\n        if (searchText && searchText.value !== undefined) {\n            value = searchText.value;\n        }\n        this.state = {\n            text: value\n        };\n        this.debouncedOnSearch = debounce(this.debouncedOnSearch.bind(this), this.props.debounceTime);\n    }\n\n    handleTextChange = event => {\n        const value = event.target.value;\n\n        this.setState({\n            text: value\n        }, () => this.debouncedOnSearch(value))\n    };\n\n    debouncedOnSearch = value => {\n        this.props.onSearch(value)\n    };\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        const {searchText} = this.props;\n        if (searchText && searchText.value !== undefined && prevProps.searchText !== this.props.searchText) {\n            const value = searchText.value;\n            if (value) {\n                this.setState({\n                    text: value\n                }, () => this.props.onSearch(value))\n            } else {\n                try {\n                    this.props.onHide()\n                } catch (e) {\n\n                }\n            }\n        }\n    }\n\n\n    componentDidMount() {\n        document.addEventListener('keydown', this.onKeyDown, false);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('keydown', this.onKeyDown, false);\n    }\n\n    onKeyDown = event => {\n        if (event.keyCode === 27) {\n            this.props.onHide();\n        }\n    };\n\n    render() {\n        const {classes, options, onHide} = this.props;\n        let value = this.state.text;\n\n        return (\n            <Grow appear in={true} timeout={300}>\n                <div className={classes.main} ref={el => (this.rootRef = el)}>\n                    <SearchIcon className={classes.searchIcon}/>\n                    <TextField\n                        className={classes.searchText}\n                        autoFocus={true}\n                        InputProps={{\n                            'data-test-id': options.textLabels.toolbar.search,\n                            'aria-label': options.textLabels.toolbar.search,\n                        }}\n                        value={value || ''}\n                        onChange={this.handleTextChange}\n                        fullWidth={true}\n                        inputRef={el => (this.searchField = el)}\n                        placeholder={options.searchPlaceholder}\n                    />\n                    <IconButton className={classes.clearIcon} onClick={onHide}>\n                        <ClearIcon/>\n                    </IconButton>\n                </div>\n            </Grow>\n        );\n    }\n}\n\nexport default withStyles(defaultSearchStyles, {name: 'MUIDataTableSearch'})(DebouncedTableSearch);","import * as React from 'react';\nimport MUIDataTable, { MUIDataTableColumn, MUIDataTableOptions, MUIDataTableProps } from 'mui-datatables';\nimport {merge, omit, cloneDeep} from 'lodash';\nimport { MuiThemeProvider, Theme, useMediaQuery, useTheme } from '@material-ui/core';\nimport DebouncedTableSearch from './DebouncedTableSearch';\nimport { RefAttributes } from 'react';\n\nexport interface TableColumn extends MUIDataTableColumn {\n    width?: string\n}\n\nconst makeDefaultOptions = (debouncedSearchTime?): MUIDataTableOptions => ({\n    print: false,\n    download: false,\n    textLabels: {\n        body: {\n            noMatch: \"Nenhum registro encontrado\",\n            toolTip: \"Classificar\",\n        },\n        pagination: {\n            next: \"Próxima página\",\n            previous: \"Página anterior\",\n            rowsPerPage: \"Por página:\",\n            displayRows: \"de\",\n        },\n        toolbar: {\n            search: \"Busca\",\n            downloadCsv: \"Download CSV\",\n            print: \"Imprimir\",\n            viewColumns: \"Ver Colunas\",\n            filterTable: \"Filtrar Tabelas\",\n        },\n        filter: {\n            all: \"Todos\",\n            title: \"FILTROS\",\n            reset: \"LIMPAR\",\n        },\n        viewColumns: {\n            title: \"Ver Colunas\",\n            titleAria: \"Ver/Esconder Colunas da Tabela\",\n        },\n        selectedRows: {\n            text: \"registros(s) selecionados\",\n            delete: \"Excluir\",\n            deleteAria: \"Excluir registros selecionados\",\n        },\n    },\n    customSearchRender: (\n        searchText: string,\n        handleSearch: any,\n        hideSearch: any,\n        options: any,\n    ) => {\n        return <DebouncedTableSearch  \n            searchText={searchText}\n            onSearch={handleSearch}\n            onHide={hideSearch}\n            options={options}\n            debounceTime={debouncedSearchTime}\n        />;\n    }\n});\n\nexport interface MuiDataTableRefComponent {\n    changePage: (page: number) => void;\n    changeRowsPerPage: (rowsPerPage: number) => void;\n}\n\nexport interface TableProps extends MUIDataTableProps, RefAttributes<MuiDataTableRefComponent> {\n    columns: TableColumn[];\n    loading?:boolean;\n    debouncedSearchTime?: number;\n}\n\n\nconst Table = React.forwardRef<MuiDataTableRefComponent, TableProps>((props, ref) => {\n    \n    function extractMuiDataTableColumns(columns: TableColumn[]): MUIDataTableColumn[] {\n        setColumnsWith(columns);\n        return columns.map(column => omit(column, 'width'))\n    }\n\n    function setColumnsWith(columns: TableColumn[]) {\n        columns.forEach((column, key) => {\n            if (column.width) {\n                const overrides = theme.overrides as any;\n                overrides.MUIDataTableHeadCell.fixedHeader[`&:nth-child(${key + 2})`] = {\n                    width: column.width\n                }\n            }\n        })\n    }\n\n    function applyLoading() {\n        const textLabels = (newProps.options as any).textLabels;\n        textLabels.body.noMatch = newProps.loading === true\n            ? 'Carregando...'\n            : textLabels.body.noMatch;\n    }\n\n    function applyResponsive() {\n        newProps.options.responsive = isSmOrDown ? 'standard' : 'vertical';\n        newProps.options.tableBodyHeight = isSmOrDown ? `${window.innerHeight*0.6}px` : '';\n    }\n\n    function getOriginalMuiDataTableProps() {\n        return {\n            ...omit(newProps, 'loading'),\n            ref\n        }\n    }\n\n    const theme = cloneDeep<Theme>(useTheme());\n    const isSmOrDown = useMediaQuery(theme.breakpoints.down('sm'));\n\n    const newProps = merge(\n        {options: cloneDeep(makeDefaultOptions(props.debouncedSearchTime))}, \n        props,\n        {columns: extractMuiDataTableColumns(props.columns)}\n    );\n\n    applyLoading();\n    applyResponsive();\n\n    const originalProps = getOriginalMuiDataTableProps();\n\n    return (\n        <MuiThemeProvider theme={theme}>\n            <MUIDataTable {...originalProps} />\n        </MuiThemeProvider>        \n    );\n});\n\nexport default Table;\n\nexport function makeActionStyles(column) {\n    return theme => {\n        const copyTheme = cloneDeep(theme);\n        const selector = `&[data-testid^=\"MuiDataTableBodyCell-${column}\"]`;\n        (copyTheme.overrides as any).MUIDataTableBodyCell.root[selector] = {\n            paddingTop: '0px',\n            paddingBottom: '0px'\n        };\n        return copyTheme;\n    }\n}","import * as React from 'react';\nimport {IconButton, makeStyles, Tooltip} from \"@material-ui/core\";\nimport ClearAllIcon from '@material-ui/icons/ClearAll';\n\nconst useStyles = makeStyles(theme => ({\n    iconButton: (theme as any).overrides.MUIDataTableToolbar.icon\n}));\n\ninterface FilterResetButtonProps {\n    handleClick: () => void\n}\n\nexport const FilterResetButton: React.FC<FilterResetButtonProps> = (props) => {\n    const classes = useStyles();\n    return (\n        <Tooltip title={'Limpar busca'}>\n            <IconButton className={classes.iconButton} onClick={props.handleClick}>\n                <ClearAllIcon/>\n            </IconButton>\n        </Tooltip>\n    );\n};","import * as Typings from \"./types\";\nimport {createActions, createReducer} from 'reduxsauce';\nimport {SetOrderAction, SetPerPageAction, SetResetAction, UpdateExtraFilterAction} from \"./types\";\n\nexport const {Types, Creators} = createActions<{\n    SET_SEARCH: string,\n    SET_PAGE: string,\n    SET_PER_PAGE: string,\n    SET_ORDER: string,\n    SET_RESET: string,\n    UPDATE_EXTRA_FILTER: string,\n}, {\n    setSearch(payload: Typings.SetSearchAction['payload']): Typings.SetSearchAction\n    setPage(payload: Typings.SetPageAction['payload']): Typings.SetPageAction\n    setPerPage(payload: Typings.SetPerPageAction['payload']): Typings.SetPerPageAction\n    setOrder(payload: Typings.SetOrderAction['payload']): Typings.SetOrderAction,\n    setReset(payload: Typings.SetResetAction['payload']): Typings.SetResetAction,\n    updateExtraFilter(payload: Typings.UpdateExtraFilterAction['payload']): Typings.UpdateExtraFilterAction\n}>\n({\n    setSearch: ['payload'],\n    setPage: ['payload'],\n    setPerPage: ['payload'],\n    setOrder: ['payload'],\n    setReset: ['payload'],\n    updateExtraFilter: ['payload'],\n});\n\nexport const INITIAL_STATE: Typings.State = {\n    search: '',\n    pagination: {\n        page: 1,\n        per_page: 10,\n    },\n    order: {\n        sort: null,\n        dir: null\n    }\n};\n\nconst reducer = createReducer<Typings.State, Typings.Actions>(INITIAL_STATE, {\n    [Types.SET_SEARCH]: setSearch as any,\n    [Types.SET_PAGE]: setPage as any,\n    [Types.SET_PER_PAGE]: setPerPage as any,\n    [Types.SET_ORDER]: setOrder as any,\n    [Types.SET_RESET]: setReset as any,\n    [Types.UPDATE_EXTRA_FILTER]: updateExtraFilter as any\n});\n\nexport default reducer;\n\nfunction setSearch(state = INITIAL_STATE, action: Typings.SetSearchAction): Typings.State {\n    return {\n        ...state,\n        search: action.payload.search,\n        pagination: {\n            ...state.pagination,\n            page: 1\n        }\n    };\n}\n\n\nfunction setPage(state = INITIAL_STATE, action: Typings.SetPageAction): Typings.State {\n    return {\n        ...state,\n        pagination: {\n            ...state.pagination,\n            page: action.payload.page,\n        }\n    };\n}\n\nfunction setPerPage(state = INITIAL_STATE, action: SetPerPageAction): Typings.State {\n    return {\n        ...state,\n        pagination: {\n            ...state.pagination,\n            per_page: action.payload.per_page\n        }\n    };\n}\n\nfunction setOrder(state = INITIAL_STATE, action: SetOrderAction): Typings.State {\n    return {\n        ...state,\n        pagination: {\n            ...state.pagination,\n            page: 1\n        },\n        order: {\n            sort: action.payload.sort, dir: action.payload.dir\n        }\n    }\n}\n\nfunction setReset(state = INITIAL_STATE, action: SetResetAction) {\n    return {...INITIAL_STATE, search: {value:null, update: true}};\n}\n\nfunction updateExtraFilter(state = INITIAL_STATE, action: UpdateExtraFilterAction){\n    return {\n        ...state,\n        pagination: {\n            ...state.pagination,\n            page: 1\n        },\n        extraFilter: {\n            ...state.extraFilter,\n            ...action.payload // {type: 'Diretor'}\n        }\n    }\n}","import { MUIDataTableColumn } from \"mui-datatables\";\nimport { Dispatch, Reducer, useCallback, useEffect, useMemo, useReducer, useState } from \"react\";\nimport reducer, { Creators } from \"../store/filter\";\nimport { Actions as FilterActions, Pagination, State as FilterState } from \"../store/filter/types\";\nimport { useDebounce } from \"use-debounce\";\nimport { useHistory, useLocation } from \"react-router\";\nimport { isEqual } from 'lodash';\nimport * as yup from '../util/vendor/yup';\nimport { MuiDataTableRefComponent } from \"../components/Table\";\nimport { ObjectSchema } from \"../util/vendor/yup\";\n\ninterface FilterManagerOptions {\n    schema: ObjectSchema;\n    columns: MUIDataTableColumn[];\n    rowsPerPage: number;\n    tableRef: React.MutableRefObject<MuiDataTableRefComponent>;\n    dispatch: Dispatch<FilterActions>;\n    state: FilterState;\n}\n\ninterface ExtraFilter {\n    getStateFromURL: (queryParams: URLSearchParams) => any;\n    formatSearchParams: (debouncedState: FilterState) => any;\n    createValidationSchema: () => any;\n  }\n\ninterface UseFilterOptions {\n    columns: MUIDataTableColumn[];\n    rowsPerPage: number;\n    rowsPerPageOptions: number[];\n    debounceTime: number;\n    tableRef: React.MutableRefObject<MuiDataTableRefComponent>;\n    extraFilter?: ExtraFilter;\n}\n\nexport default function useFilter(options: UseFilterOptions) {\n    const history = useHistory();\n    const location = useLocation();\n    const {\n        search: locationSearch,\n        pathname: locationPathname,\n        state: locationState,\n      } = location;\n    const {rowsPerPageOptions, rowsPerPage, columns, extraFilter} = options;\n\n    const schema = useMemo(() => {\n        return yup.object().shape({\n            search: yup\n              .string()\n              .transform((value) => (!value ? undefined : value))\n              .default(\"\"),\n            pagination: yup.object().shape<Pagination>({\n              page: yup\n                .number()\n                .transform((value) =>\n                  isNaN(value) || parseInt(value) < 1 ? undefined : value\n                )\n                .default(1),\n              per_page: yup\n                .number()\n                .transform((value) =>\n                  isNaN(value) || !rowsPerPageOptions.includes(parseInt(value))\n                    ? undefined\n                    : value\n                )\n                .default(rowsPerPage),\n            }),\n            order: yup.object().shape({\n              sort: yup\n                .string()\n                .nullable()\n                .transform((value) => {\n                  const columnsName = columns\n                    .filter(\n                      (column) => !column.options || column.options.sort !== false\n                    )\n                    .map((column) => column.name);\n                  return columnsName.includes(value) ? value : undefined;\n                })\n                .default(null),\n              dir: yup\n                .string()\n                .nullable()\n                .transform((value) =>\n                  !value || ![\"asc\", \"desc\"].includes(value.toLowerCase())\n                    ? undefined\n                    : value\n                )\n                .default(null),\n            }),\n            ...(\n                extraFilter && {\n                    extraFilter: extraFilter.createValidationSchema()\n                }\n            )\n        });\n    }, [rowsPerPageOptions, rowsPerPage, columns, extraFilter]);\n\n    const stateFromURL = useMemo<FilterState>(() => {\n        const queryParams = new URLSearchParams(locationSearch.substr(1));\n        return schema.cast({\n            search: queryParams.get('search'),\n            pagination: {\n                page: queryParams.get(\"page\"),\n                per_page: queryParams.get(\"per_page\"),\n            },\n            order: {\n                sort: queryParams.get(\"sort\"),\n                dir: queryParams.get(\"dir\"),\n            },\n            ...(\n                extraFilter && {\n                    extraFilter: extraFilter.getStateFromURL(queryParams)\n                }\n            )\n        }) as FilterState;\n        \n    }, [extraFilter, locationSearch, schema]);\n\n    const cleanSearchText = useCallback((text) => {\n        let newText = text;\n        if(text && text.value !== undefined){\n            newText = text.value\n        }\n        return newText;\n    }, [])\n\n    const formatSearchParams = useCallback((state, extraFilter) => {\n        const search = cleanSearchText(state.search);\n\n        return {\n            ...(search && search !== \"\" && { search: search }),\n            ...(state.pagination.page !== 1 && { page: state.pagination.page }),\n            ...(state.pagination.per_page !== 15 && {\n                per_page: state.pagination.per_page,\n            }),\n            ...(state.order.sort && {\n                sort: state.order.sort,\n                dir: state.order.dir,\n            }),\n            ...(extraFilter && extraFilter.formatSearchParams(state)),\n        };\n    }, [cleanSearchText]);\n\n    const INITIAL_STATE = stateFromURL;\n    const [filterState, dispatch] = useReducer<Reducer<FilterState, FilterActions>>(reducer, INITIAL_STATE);\n    const filterManager = new FilterManager({...options, schema, dispatch, state: filterState});\n\n    //atrasando a atualização do estado até que o intervalo entre as mudança seja superior ao debounceTime\n    const [debouncedFilterState] = useDebounce(filterState, options.debounceTime);\n\n    // replaceHistory\n    useEffect(() => {\n        history.replace({\n            pathname: locationPathname,\n            search: \"?\" + new URLSearchParams(formatSearchParams(stateFromURL, extraFilter)),\n            state: stateFromURL\n        })\n    },[\n        history, \n        locationPathname, \n        formatSearchParams,\n        stateFromURL, \n        extraFilter, \n    ]);\n\n    // pushHistory\n    useEffect(() => {\n        const newLocation = {\n            pathname: locationPathname,\n            search: \"?\" + new URLSearchParams(formatSearchParams(debouncedFilterState, extraFilter)),\n            state: {\n                ...debouncedFilterState,\n                search: cleanSearchText(debouncedFilterState.search)\n            }\n        };\n\n        const oldState = locationState;\n        const nextState = debouncedFilterState;\n        if(isEqual(oldState, nextState)){\n            return;\n        }\n        history.push(newLocation);\n    }, [\n        history,\n        locationPathname,\n        formatSearchParams, \n        locationState,\n        cleanSearchText, \n        debouncedFilterState, \n        extraFilter\n    ]);\n\n    \n    \n    const [totalRecords, setTotalRecords] = useState<number>(0);\n    //filterManager.applyOrderInColumns();\n\n    return {\n        columns: filterManager.columns,\n        cleanSearchText,\n        filterManager,\n        filterState, \n        debouncedFilterState,\n        dispatch,\n        totalRecords, \n        setTotalRecords,\n        changePage: filterManager.changePage\n    }\n}\n\nexport class FilterManager {\n\n    schema\n    state: FilterState = null as any;\n    dispatch: Dispatch<FilterActions>;\n    columns: MUIDataTableColumn[];\n    rowsPerPage: number;\n    tableRef: React.MutableRefObject<MuiDataTableRefComponent>;\n\n    constructor(options: FilterManagerOptions) {\n        const {\n            schema,\n            columns,\n            rowsPerPage,\n            tableRef,\n            dispatch,\n            state,\n        } = options;\n        this.schema = schema;\n        this.columns = columns;\n        this.rowsPerPage = rowsPerPage;\n        this.tableRef = tableRef;\n        this.dispatch = dispatch;\n        this.state = state;\n    }\n\n    private resetTablePagination(){\n        this.tableRef.current.changeRowsPerPage(this.rowsPerPage);\n        this.tableRef.current.changePage(0);\n    }\n\n    changeSearch(value) {\n        this.dispatch(Creators.setSearch({ search: value }));\n    }\n\n    changePage(page) {\n        this.dispatch(Creators.setPage({ page: page + 1 }));\n    }\n\n    changeRowsPerPage(perPage) {\n        this.dispatch(Creators.setPerPage({ per_page: perPage }));\n    }\n\n    changeColumnSort(changedColumn: string, direction: string) {\n        this.dispatch(\n            Creators.setOrder({\n                sort: changedColumn,\n                dir: direction.includes(\"desc\") ? \"desc\" : \"asc\",\n            })\n        );\n        this.resetTablePagination();\n    }\n\n    changeExtraFilter(data) {\n        //{type: 'Diretor'}\n        this.dispatch(Creators.updateExtraFilter(data));\n    }\n\n    applyOrderInColumns() {\n        this.columns = this.columns.map((column) => {\n            return column.name === this.state.order.sort\n            ? {\n                ...column,\n                options: {\n                    ...column.options,\n                    sortDirection: this.state.order.dir as any,\n                },\n                }\n            : column;\n        });\n    }\n\n    resetFilter(){\n        const INITIAL_STATE = {\n            ...this.schema.cast({}),\n            search: { value: null, update: true },\n        };\n        this.dispatch(Creators.setReset({state: INITIAL_STATE}))\n        this.resetTablePagination();\n    }\n}","import {createContext} from \"react\";\n\nconst LoadingContext = createContext(false);\n\nexport default LoadingContext;","import * as React from 'react';\nimport { useEffect, useState, useRef, useContext, useCallback } from 'react';\nimport {IconButton, MuiThemeProvider } from '@material-ui/core';\nimport format from 'date-fns/format';\nimport parseISO from 'date-fns/parseISO';\nimport categoryHttp from '../../util/http/category-http';\nimport EditIcon from '@material-ui/icons/Edit';\nimport {Link} from \"react-router-dom\";\nimport { BadgeNo, BadgeYes } from '../../components/Badge';\nimport { Category, ListResponse } from '../../util/models';\nimport DefaultTable, { makeActionStyles, MuiDataTableRefComponent, TableColumn } from '../../components/Table';\nimport { useSnackbar } from 'notistack';\nimport { FilterResetButton } from '../../components/Table/FilterResetButton';\nimport useFilter from '../../hooks/useFilter';\nimport LoadingContext from '../../components/loading/LoadingContext';\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: 'id',\n        label: 'ID',\n        width: '30%',\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: \"name\",\n        label: \"Name\",\n        width: '43%',\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"is_active\",\n        label: \"Active?\",\n        options: {\n            filterOptions: {\n                names: ['Yes', 'No']\n            },\n            customBodyRender(value, tableMeta, updateValue){\n                return value ? <BadgeYes label={\"Yes\"}/> : <BadgeNo label={\"No\"} />\n            }\n        },\n        width: '4%'\n    },\n    {\n        name: \"created_at\",\n        label: \"Created At\",\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue){\n                return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n            }\n        },\n        width: '10%'\n    },\n    {\n        name: \"actions\",\n        label: \"Ações\",\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender: (value, tableMeta) => {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/categories/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon/>\n                    </IconButton>\n                )\n            }\n        }\n    }\n];\n\nconst debounceTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\nconst Table: React.FC = () => {\n\n    const {enqueueSnackbar} = useSnackbar(); \n    const subscribed = useRef(true)\n    const [data, setData] = useState<Category[]>([]);\n    const loading = useContext(LoadingContext);\n    const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n    \n    const {\n        columns,\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        totalRecords, \n        setTotalRecords,\n        cleanSearchText\n    } = useFilter({\n        columns: columnsDefinition,\n        debounceTime: debounceTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        tableRef,\n    });\n\n    const searchText = cleanSearchText(debouncedFilterState.search);\n\n    const getData = useCallback(async ({\n        search, \n        page, \n        per_page, \n        sort,\n        dir\n    }) => {\n        try{\n            const {data} = await categoryHttp.list<ListResponse<Category>>({\n                queryParams: {\n                    search,\n                    page,\n                    per_page,\n                    sort,\n                    dir\n                }\n            });\n            if(subscribed.current){\n                setData(data.data);\n                setTotalRecords(data.meta.total);\n            }\n        } catch (error) {\n            console.error(error);\n            \n            if(categoryHttp.isCancelledRequest(error)){\n                return;\n            }\n\n            enqueueSnackbar(\n                'Error trying to list categories',\n                {variant:\"error\"}\n            );\n        }\n    }, [enqueueSnackbar, setTotalRecords]);\n\n    useEffect(() => {\n        subscribed.current = true;\n        getData({\n            search: searchText,\n            page: debouncedFilterState.pagination.page,\n            per_page: debouncedFilterState.pagination.per_page,\n            sort: debouncedFilterState.order.sort,\n            dir: debouncedFilterState.order.dir\n        });\n        return () => {\n            subscribed.current = false;\n        }\n    },[\n        debouncedFilterState.order.dir, \n        debouncedFilterState.order.sort, \n        debouncedFilterState.pagination.page, \n        debouncedFilterState.pagination.per_page, \n        getData, \n        searchText]);\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length -1)}>\n            <DefaultTable \n                title=\"Category List\"\n                columns={columns} \n                data={data}\n                loading={loading}\n                debouncedSearchTime={debouncedSearchTime}\n                ref={tableRef}\n                options={{\n                    serverSide: true,\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    customToolbar: () => (\n                        <FilterResetButton \n                            handleClick={ () => filterManager.resetFilter() }\n                        />\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) =>\n                        filterManager.changeColumnSort(changedColumn, direction)\n                }}\n            />\n        </MuiThemeProvider>\n    );\n}\n\nexport default Table;","import * as React from 'react';\nimport { Box, Fab } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport AddIcon from '@material-ui/icons/Add';\nimport Table from './Table';\n\ninterface ListProps {\n\n}\n\nconst PageList = (props: ListProps) => {\n    return(\n        <Page title=\"List Categories\">\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title=\"Add Category\"\n                    color={'secondary'}\n                    size=\"small\"\n                    component={Link}\n                    to=\"/categories/create\"\n                >\n                    <AddIcon />\n                </Fab>\n            </Box>\n            <Box>\n                <Table />\n            </Box>\n        </Page>\n    );\n}\n\nexport default PageList;","import { Box, Button, ButtonProps, makeStyles, Theme } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return {\n        submit: {\n            margin: theme.spacing(1)\n        }\n    }\n});\n\ninterface SubmitActionsProps {\n    disabledButtons?: boolean;\n    handleSave: () => void\n}\n\nconst SubmitActions: React.FC<SubmitActionsProps> = (props) => {\n\n    const classes = useStyles();\n\n    const buttonProps: ButtonProps = {\n        variant: \"contained\",\n        className: classes.submit,\n        color: 'secondary',\n        disabled: props.disabledButtons === undefined ? false : props.disabledButtons\n    }\n\n    return (\n        <Box dir={'ltf'}>\n            <Button {...buttonProps} \n                color={\"primary\"}\n                onClick={props.handleSave}\n            >\n                Save\n            </Button>\n            <Button {...buttonProps} type=\"submit\">Save and continue editing</Button>                \n        </Box>\n    );\n}\n\nexport default SubmitActions;","import * as React from 'react';\nimport { Grid, GridProps, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return {\n        gridItem: {\n            padding: theme.spacing(1, 0)\n        }\n    }\n});\n\ninterface DefaultFormProps extends React.DetailedHTMLProps<React.FormHTMLAttributes<HTMLFormElement>, HTMLFormElement> {\n    GridItemProps?: GridProps\n    GridContainerProps?: GridProps\n}\n\nexport const DefaultForm: React.FC<DefaultFormProps> = (props) => {\n\n    const classes = useStyles();\n    const { GridContainerProps, GridItemProps, ...other } = props;\n\n    return (\n        <form {...other}>\n            <Grid container {...GridContainerProps}>\n                <Grid className={classes.gridItem} item {...GridItemProps}>\n                    {props.children}\n                </Grid>\n            </Grid>\n        </form>\n    );\n};","import * as React from 'react';\nimport { Checkbox, FormControlLabel, TextField } from '@material-ui/core';\nimport { useForm } from 'react-hook-form';\nimport categoryHttp from '../../util/http/category-http';\nimport { useContext, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport * as yup from '../../util/vendor/yup';\nimport { useState } from 'react';\nimport { useSnackbar } from 'notistack';\nimport { Category } from '../../util/models';\nimport SubmitActions from '../../components/SubmitActions';\nimport { DefaultForm } from '../../components/DefaultForm';\nimport LoadingContext from '../../components/loading/LoadingContext';\n\nconst validationSchema = yup.object().shape({\n    name: yup.string()\n        .required()\n        .max(255)\n        .label('Name')\n});\n\ninterface FormProps {\n    id?:string\n}\n\nexport const Form: React.FC<FormProps> = ({id}) => {\n\n    const { \n        register, \n        handleSubmit, \n        getValues,\n        reset,\n        watch,\n        setValue,\n        errors,\n        triggerValidation\n    } = useForm<{name, is_active}>({\n        validationSchema,\n        defaultValues: {\n            is_active: true\n        }\n    });\n\n    const { enqueueSnackbar } = useSnackbar();\n    const history = useHistory();\n    const [category, setCategory] = useState<Category | null>(null);\n    const loading = useContext(LoadingContext)\n\n    useEffect(() => {\n        if(!id){\n            return;\n        }\n\n        let isSubscribed = true;\n\n        (async function getCategory() {\n            try {\n                const {data} = await categoryHttp.get(id);\n                if(isSubscribed){\n                    setCategory(data.data);\n                    reset(data.data)\n                }                 \n            } catch (error) {\n                console.log(error);\n                enqueueSnackbar(\n                    'Error trying to load category',\n                    {variant: 'error',}\n                )\n            }\n        })();\n\n        return () => {\n            isSubscribed = false;\n        }\n\n    }, [enqueueSnackbar, id, reset]);\n        \n    useEffect(() => {\n        register({name: \"is_active\"})\n    }, [register]);\n\n    async function onSubmit(formData, event) {\n        try {\n            const http = !category\n            ? categoryHttp.create(formData)\n            : categoryHttp.update(category?.id, formData);\n\n            const {data} = await http;\n\n            enqueueSnackbar(\n                'Category saved successfully',\n                {variant:\"success\"}\n            );\n\n            setTimeout(() => {\n                if(event){\n                    id\n                        ? history.replace(`/categories/${data.data.id}/edit`)\n                        : history.push(`/categories/${data.data.id}/edit`);\n                }else{\n                    history.push('/categories')\n                }\n            });\n          \n        } catch (error) {\n            console.error(error);\n            enqueueSnackbar(\n                'Error trying to save category',\n                {variant:\"error\"}\n            );\n        }\n    }\n\n    return (\n        <DefaultForm GridItemProps={{xs:12, md:6}} onSubmit={handleSubmit(onSubmit)}>\n            <TextField\n                name=\"name\"\n                label=\"Name\"\n                fullWidth\n                variant={\"outlined\"}\n                inputRef={register}\n                error={errors.name !== undefined}\n                helperText={errors.name && errors.name.message}\n                InputLabelProps={{shrink: (getValues('name') !== undefined ? true : undefined) }}\n                disabled={loading}\n            />\n            <TextField\n                inputRef={register}\n                name=\"description\"\n                label=\"Description\"\n                multiline\n                rows=\"4\"\n                fullWidth\n                variant={\"outlined\"}\n                margin={'normal'}\n                InputLabelProps={{shrink: (getValues('description') !== undefined ? true : undefined) }}\n                disabled={loading}\n            />\n            <FormControlLabel\n                disabled={loading}\n                control={\n                    <Checkbox\n                        name=\"is_active\"\n                        color={\"primary\"}\n                        onChange={\n                            () => setValue('is_active', !getValues()['is_active'])\n                        }\n                        checked={watch('is_active')}\n                    />\n                }\n                label={'Is Active?'}\n                labelPlacement={'end'}\n            />\n            <SubmitActions \n                disabledButtons={loading} \n                handleSave={() => \n                    triggerValidation().then(isValid => {\n                        isValid && onSubmit(getValues(), null)\n                    })  \n                }\n            />\n        </DefaultForm>\n    );\n}","import * as React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Page } from \"../../components/Page\";\nimport { Form } from './Form';\n\nconst PageForm = () => {\n    const {id} = useParams<{id}>();\n    console.log(id);\n    return (\n        <Page title={!id  ? 'Create category' : 'Edit category'}>\n            <Form id={id || \"\"} />\n        </Page>\n    );\n}\n\nexport default PageForm;","import { httpVideo } from \".\";\nimport HttpResource from \"./http-resource\";\n\nconst castMemberHttp = new HttpResource(httpVideo, 'cast_members');\n\nexport default castMemberHttp;","\nexport interface ListResponse<T> {\n    data: T[];\n    links: {\n        first: string;\n        last: string;\n        prev: string | null;\n        next: string | null;\n    },\n    meta: {\n        current_page: number;\n        from: number;\n        last_page: number;\n        path: string;\n        per_page: number;\n        to: number;\n        total: number;\n    }\n}\n\ninterface Timestampable {\n    readonly created_at: string;\n    readonly deleted_at: string | null;\n    readonly updated_at: string;\n}\n\nexport interface Category extends Timestampable {\n    readonly id: string;\n    name: string;\n    description: string;\n    is_active: boolean;\n}\n\nexport interface Genre extends Timestampable {\n    readonly id: string;\n    name: string;\n    is_active: number;\n    categories: Category[];\n}\n\nexport interface CastMember extends Timestampable {\n    readonly id: string;\n    name: string;\n    type: number;\n}\n\nexport const CastMemberTypeMap = {\n    1: 'Diretor',\n    2: 'Ator'\n};\n\ninterface GenreVideo extends Omit<Genre, 'categories'> {}\n\nexport const VideoFileFieldsMap = {\n    'thumb_file': 'Thumbnail',\n    'banner_file': 'Banner',\n    'trailer_file': 'Trailer',\n    'video_file': 'Principal',\n};\n\nexport interface Video extends Timestampable{\n    readonly id: string;\n    title: string;\n    description: string;\n    year_launched: number;\n    opened: boolean;\n    rating: string;\n    duration: number;\n    genres: GenreVideo[];\n    categories: Category[];\n    cast_members: CastMember[];\n    thumb_file_url: string;\n    banner_file_url: string;\n    trailer_file_url: string;\n    video_file_url: string;\n}","import * as React from 'react';\nimport { useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport castMemberHttp from \"../../util/http/cast-member-http\";\nimport format from 'date-fns/format';\nimport parseISO from 'date-fns/parseISO';\nimport { IconButton, MuiThemeProvider } from '@material-ui/core';\nimport EditIcon from '@material-ui/icons/Edit';\nimport {Link} from \"react-router-dom\";\nimport { CastMember, CastMemberTypeMap, ListResponse } from '../../util/models';\nimport DefaultTable, { makeActionStyles, MuiDataTableRefComponent, TableColumn } from '../../components/Table';\nimport { useSnackbar } from 'notistack';\nimport useFilter from '../../hooks/useFilter';\nimport { FilterResetButton } from '../../components/Table/FilterResetButton';\nimport * as yup from '../../util/vendor/yup';\nimport { invert } from 'lodash';\nimport LoadingContext from '../../components/loading/LoadingContext';\nimport { useMemo } from 'react';\n\nconst castMemberNames = Object.values(CastMemberTypeMap);\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: \"id\",\n        label:\"ID\",\n        width: '30%',\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: \"name\",\n        label: \"Name\",\n        width: '43%',\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"type\",\n        label: \"Type\",\n        options: {\n            filterOptions: {\n                names: castMemberNames,\n            },\n            customBodyRender: (value, tableMeta, updateValue) => {\n                return CastMemberTypeMap[value];\n            }\n        }\n    },\n    {\n        name: \"created_at\",\n        label: \"Created At\",\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue){\n                return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n            }\n        }\n    },\n    {\n        name: \"actions\",\n        label: \"Ações\",\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender: (value, tableMeta) => {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/cast-members/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon/>\n                    </IconButton>\n                )\n            }\n        }\n    }\n];\n\nconst debounceTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\n\nconst Table = () => {\n    const {enqueueSnackbar} = useSnackbar();\n    const subscribed = useRef(true)\n    const [data, setData] = useState<CastMember[]>([]);\n    const loading = useContext(LoadingContext)\n    const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n\n    const extraFilter = useMemo(() => ({\n        createValidationSchema: () => {\n            return yup.object().shape({\n            type: yup\n                .string()\n                .nullable()\n                .transform((value) => {\n                return !value || !castMemberNames.includes(value)\n                    ? undefined\n                    : value;\n                })\n                .default(null),\n            });\n        },\n        formatSearchParams: (debouncedState) => {\n            return debouncedState.extraFilter\n            ? {\n                ...(debouncedState.extraFilter.type && {\n                    type: debouncedState.extraFilter.type,\n                }),\n                }\n            : undefined;\n        },\n        getStateFromURL: (queryParams) => {\n            return {\n            type: queryParams.get(\"type\"),\n            };\n        }\n    }) ,[]);\n\n    const {\n        columns,\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        totalRecords,\n        setTotalRecords,\n        cleanSearchText\n    } = useFilter({\n        columns: columnsDefinition,\n        debounceTime: debounceTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        tableRef,\n        extraFilter,\n    });\n\n    const searchText = cleanSearchText(debouncedFilterState.search);\n    //?type=Diretor\n    const indexColumnType = columns.findIndex((c) => c.name === \"type\");\n    const columnType = columns[indexColumnType];\n    const typeFilterValue = filterState.extraFilter && (filterState.extraFilter.type as never);\n    (columnType.options as any).filterList = typeFilterValue\n        ? [typeFilterValue]\n        : [];\n\n    // const serverSideFilterList = columns.map((column) => []);\n    // if (typeFilterValue) {\n    //     serverSideFilterList[indexColumnType] = [typeFilterValue];\n    // }\n\n    const getData = useCallback(async ({\n        search, \n        page, \n        per_page, \n        sort,\n        dir, \n        type\n    }) => {\n\n        try {\n            const {data} = await castMemberHttp.list<ListResponse<CastMember>>({\n                queryParams: {\n                    search,\n                    page,\n                    per_page,\n                    sort,\n                    dir,\n                    ...(type && {\n                          type: invert(CastMemberTypeMap)[type],\n                    })\n                }\n            });\n            if (subscribed.current) {\n                setData(data.data);\n                setTotalRecords(data.meta.total);\n            }\n        } catch (error) {\n            console.error(error);\n\n            if(castMemberHttp.isCancelledRequest(error)){\n                return;\n            }\n\n            enqueueSnackbar(\n                'Error trying to list cast members',\n                {variant:\"error\"}\n            );\n        }\n    }, [enqueueSnackbar, setTotalRecords]);\n\n    useEffect(() => {\n        subscribed.current = true;\n        getData(\n            {\n                search: searchText,\n                page: debouncedFilterState.pagination.page,\n                per_page: debouncedFilterState.pagination.per_page,\n                sort: debouncedFilterState.order.sort,\n                dir: debouncedFilterState.order.dir,\n                ...(debouncedFilterState.extraFilter &&\n                    debouncedFilterState.extraFilter.type && {\n                        type: debouncedFilterState.extraFilter.type,\n                })\n            }\n        );\n\n        return () => {\n            subscribed.current = false;\n        }\n    }, [\n        searchText,\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order,\n        debouncedFilterState.extraFilter,\n        getData\n    ]);\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length -1)}>\n            <DefaultTable \n                title=\"Cast Member List\"\n                columns={columns} \n                data={data}\n                loading={loading}\n                debouncedSearchTime={debouncedSearchTime}\n                ref={tableRef}\n                options={{\n                    serverSide: true,\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    onFilterChange: (column, filterList, type) => {\n                        const columnIndex = columns.findIndex((c) => c.name === column);\n                        //[ [], [], ['Diretor'], [], []  ]\n                        filterManager.changeExtraFilter({\n                          [column as any]: filterList[columnIndex].length\n                            ? filterList[columnIndex][0]\n                            : null,\n                        });\n                      },\n                    customToolbar: () => (\n                        <FilterResetButton \n                            handleClick={ () => filterManager.resetFilter() }\n                        />\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) =>\n                        filterManager.changeColumnSort(changedColumn, direction)\n                }}\n            />\n        </MuiThemeProvider>\n    );\n}\n\nexport default Table;\n","import * as React from 'react';\nimport { Box, Fab } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport AddIcon from '@material-ui/icons/Add';\nimport Table from './Table';\n\ninterface ListProps {\n\n}\n\nconst PageList = (props: ListProps) => {\n    return(\n        <Page title=\"Cast Members List\">\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title=\"Add Cast Member\"\n                    color={'secondary'}\n                    size=\"small\"\n                    component={Link}\n                    to=\"/cast-members/create\"\n                >\n                    <AddIcon />\n                </Fab>\n            </Box>\n            <Box>\n                <Table />\n            </Box>\n        </Page>\n    );\n}\n\nexport default PageList;","import * as React from 'react';\nimport { FormControl, FormControlLabel, FormHelperText, FormLabel, Radio, RadioGroup, TextField } from '@material-ui/core';\nimport { useForm } from 'react-hook-form';\nimport castMemberHttp from '../../util/http/cast-member-http';\nimport { useContext, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport * as yup from '../../util/vendor/yup';\nimport { useState } from 'react';\nimport { useSnackbar } from 'notistack';\nimport { CastMember } from '../../util/models';\nimport SubmitActions from '../../components/SubmitActions';\nimport LoadingContext from '../../components/loading/LoadingContext';\n\nconst validationSchema = yup.object().shape({\n    name: yup.string()\n        .required()\n        .max(255)\n        .label('Name'),\n    type: yup.number()\n        .required()\n        .label('Type')\n});\n\ninterface FormProps {\n    id?:string\n}\n\nexport const Form: React.FC<FormProps> = ({id}) => {\n\n    const { \n        register, \n        handleSubmit, \n        getValues,\n        reset,\n        watch,\n        setValue,\n        errors,\n        triggerValidation\n    } = useForm<{name, type}>({\n        validationSchema\n    });\n\n    const snackbar = useSnackbar();\n    const history = useHistory();\n    const [castMember, setCastMember] = useState<CastMember| null>(null);\n    const loading = useContext(LoadingContext)\n\n    useEffect(() => {\n        if(!id){\n            return;\n        }\n\n        async function getCastMember() {\n            try {\n                const {data} = await castMemberHttp.get<{data: CastMember}>(id);\n                setCastMember(data.data);\n                reset(data.data);\n            } catch (error) {\n                console.log(error);\n                snackbar.enqueueSnackbar(\n                    'Error trying to load cast member',\n                    {variant: 'error',}\n                )\n            }\n        }\n\n        getCastMember();\n    });\n\n    useEffect(() => {\n        register({name: \"type\"})\n    }, [register]);\n\n    async function onSubmit(formData, event) {\n        try {\n            const http = !castMember\n            ? castMemberHttp.create(formData)\n            : castMemberHttp.update(castMember?.id, formData);\n\n            const {data} = await http;\n            snackbar.enqueueSnackbar(\n                'Cast Member saved successfully',\n                {variant:\"success\"}\n            );\n            setTimeout(() => {\n                if(event){\n                    if(id){\n                        history.replace(`/cast-members/${data.data.id}/edit`)\n                    }else{\n                        history.push(`/cast-members/${data.data.id}/edit`)\n                    }\n                }else{\n                    history.push('/cast-members')\n                }\n            });\n\n        } catch (error) {\n            console.log(error);\n            snackbar.enqueueSnackbar(\n                'Error trying to save cast member',\n                {variant:\"error\"}\n            );\n        }\n    }\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)}>\n            <TextField\n                name=\"name\"\n                label=\"Name\"\n                fullWidth\n                variant={\"outlined\"}\n                inputRef={register}\n                error={errors.name !== undefined}\n                helperText={errors.name && errors.name.message}\n                InputLabelProps={{shrink: (getValues('name') !== undefined ? true : undefined) }}\n                disabled={loading}\n            />\n            <FormControl\n                margin={\"normal\"}\n                error={errors.type !== undefined}\n                disabled={loading}\n            >\n                <FormLabel >Type</FormLabel>\n                <RadioGroup\n                    name=\"type\"\n                    onChange={(e) => {\n                        setValue('type', parseInt(e.target.value));\n                    }}\n                    value={watch('type') + \"\"}\n                >\n                    <FormControlLabel label=\"Director\" value=\"1\" control={<Radio color={\"primary\"} />} />\n                    <FormControlLabel label=\"Actor\" value=\"2\" control={<Radio color={\"primary\"}/>} />\n                </RadioGroup>\n                {\n                    errors.type && <FormHelperText id=\"type-helper-text\">{errors.type.message}</FormHelperText>\n                }\n            </FormControl>\n            <SubmitActions \n                disabledButtons={loading} \n                handleSave={() => \n                    triggerValidation().then(isValid => {\n                        isValid && onSubmit(getValues(), null)\n                    })  \n                }\n            />\n        </form>\n    );\n}\n","import * as React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Page } from \"../../components/Page\";\nimport { Form } from './Form';\n\nconst PageForm = () => {\n    const {id}  = useParams<{id:string}>();\n    return (\n        <Page title={!id ? 'Create cast member' :'Edit cast member'}>\n            <Form id={id} />\n        </Page>\n    );\n}\n\nexport default PageForm;","import { httpVideo } from \".\";\nimport HttpResource from \"./http-resource\";\n\nconst genreHttp = new HttpResource(httpVideo, 'genres');\n\nexport default genreHttp;","import * as React from 'react';\nimport { useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport genreHttp from \"../../util/http/genre-http\";\nimport { Chip, IconButton, MuiThemeProvider } from '@material-ui/core';\nimport format from 'date-fns/format';\nimport parseISO from 'date-fns/parseISO';\nimport EditIcon from '@material-ui/icons/Edit';\nimport {Link} from \"react-router-dom\";\nimport { Genre, ListResponse } from '../../util/models';\nimport DefaultTable, { makeActionStyles, MuiDataTableRefComponent, TableColumn } from '../../components/Table';\nimport { useSnackbar } from 'notistack';\nimport * as yup from '../../util/vendor/yup';\nimport useFilter from '../../hooks/useFilter';\nimport { FilterResetButton } from '../../components/Table/FilterResetButton';\nimport categoryHttp from '../../util/http/category-http';\nimport LoadingContext from '../../components/loading/LoadingContext';\n\ninterface Category {\n    name: string\n}\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: \"id\",\n        label: \"ID\",\n        width: '30%',\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: \"name\",\n        label: \"Name\",\n        width: \"23%\",\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"is_active\",\n        label: \"Is Active\",\n        options: {\n            customBodyRender(value, tableMeta, updateValue){\n                return value ? <Chip label=\"Active\" color=\"primary\" /> : <Chip label=\"Inactive\" color=\"secondary\" />\n            }\n        },\n        width: '4%',\n    },\n    {\n        name: \"categories\",\n        label: \"Categories\",\n        width: '20%',\n        options: {\n            filterType: 'multiselect',\n            filterOptions: {\n                names: []\n            },\n            customBodyRender(value: Category[], tableMeta, updateValue){\n                const categories = value.map((e:Category, i:Number) => e.name).join(', ');\n                return categories;\n            }\n        }\n    },\n    {\n        name: \"created_at\",\n        label: \"Created At\",\n        width: '10%',\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue){\n                return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n            }\n        }\n    },\n    {\n        name: \"actions\",\n        label: \"Ações\",\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender: (value, tableMeta) => {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/genres/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon/>\n                    </IconButton>\n                )\n            }\n        }\n    }\n];\n\nconst debounceTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\nconst extraFilter = {\n    createValidationSchema: () => {\n        return yup.object().shape({\n            categories: yup.mixed()\n                .nullable()\n                .transform(value => {\n                    return !value || value === '' ? undefined : value.split(',');\n                })\n                .default(null),\n        })\n    },\n    formatSearchParams: (debouncedState) => {\n        return debouncedState.extraFilter ? {\n            ...(\n                debouncedState.extraFilter.categories &&\n                {categories: debouncedState.extraFilter.categories.join(',')}\n            )\n        } : undefined\n    },\n    getStateFromURL: (queryParams) => {\n        return {\n            categories: queryParams.get('categories')\n        }\n    }\n}\n\nconst Table = () => {\n\n    const {enqueueSnackbar} = useSnackbar();\n    const subscribed = useRef(true)\n    const [data, setData] = useState<Genre[]>([]);\n    const loading = useContext(LoadingContext)\n    const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n\n    const {\n        columns,\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        totalRecords,\n        setTotalRecords,\n        cleanSearchText\n      } = useFilter({\n        columns: columnsDefinition,\n        debounceTime: debounceTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        tableRef,\n        extraFilter,\n      });\n\n    const searchText = cleanSearchText(debouncedFilterState.search);\n    const indexColumnCategories = columns.findIndex(c => c.name === 'categories');\n    const columnCategories = columns[indexColumnCategories];\n    const categoriesFilterValue = filterState.extraFilter && filterState.extraFilter.categories;\n    (columnCategories.options as any).filterList = categoriesFilterValue ? categoriesFilterValue : [];\n    \n    // const serverSideFilterList = columns.map(column => []);\n    // if (categoriesFilterValue) {\n    //     serverSideFilterList[indexColumnCategories] = categoriesFilterValue;\n    // }\n\n    useEffect(() => {\n        let isSubscribed = true;\n        (async () => {\n            try {\n                const {data} = await categoryHttp.list({queryParams: {all: ''}});\n                if (isSubscribed) {\n                    (columnCategories.options as any).filterOptions.names = data.data.map(category => category.name)\n                }\n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    {variant: 'error',}\n                )\n            }\n        })();\n\n        return () => {\n            isSubscribed = false;\n        }\n    }, [columnCategories.options, enqueueSnackbar]);\n\n\n    const getData = useCallback(async ({\n        search,\n        page,\n        per_page,\n        sort,\n        dir,\n        categories\n    }) => {\n        try {\n            const {data} = await genreHttp.list<ListResponse<Genre>>({\n                queryParams: {\n                    search,\n                    page,\n                    per_page,\n                    sort,\n                    dir,\n                    ...(categories &&\n                        {categories: categories.join(',')}\n                    )\n                }\n            });\n            if (subscribed.current) {\n                setData(data.data);\n                setTotalRecords(data.meta.total);\n            }\n        } catch (error) {\n            console.error(error);\n\n            if(genreHttp.isCancelledRequest(error)){\n                return;\n            }\n            \n            enqueueSnackbar(\n                'Error trying to list genres',\n                {variant:\"error\"}\n            );\n        }\n    }, [enqueueSnackbar, setTotalRecords])\n\n\n    useEffect(() => {\n        subscribed.current = true;\n        getData({\n            search: searchText,\n            page: debouncedFilterState.pagination.page,\n            per_page: debouncedFilterState.pagination.per_page,\n            sort: debouncedFilterState.order.sort,\n            dir: debouncedFilterState.order.dir,\n            ...(\n                debouncedFilterState.extraFilter &&\n                debouncedFilterState.extraFilter.categories &&\n                {categories: debouncedFilterState.extraFilter.categories.join(',')}\n            )\n        });\n        return () => {\n            subscribed.current = false;\n        }\n    }, [\n        debouncedFilterState.extraFilter, \n        debouncedFilterState.order.dir, \n        debouncedFilterState.order.sort, \n        debouncedFilterState.pagination.page, \n        debouncedFilterState.pagination.per_page, \n        getData, \n        searchText\n    ]);\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length -1)}>\n            <DefaultTable \n                title=\"Genre List\"\n                columns={columns} \n                data={data}\n                loading={loading}\n                debouncedSearchTime={debouncedSearchTime}\n                ref={tableRef}\n                options={{\n                    serverSide: true,\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    onFilterChange: (column, filterList, type) => {\n                        const columnIndex = columns.findIndex(c => c.name === column);\n                        console.log(filterList);\n                        filterManager.changeExtraFilter({\n                            [column as any]: filterList[columnIndex].length ? filterList[columnIndex] : null\n                        })\n                    },\n                    customToolbar: () => (\n                        <FilterResetButton \n                            handleClick={ () => filterManager.resetFilter() }\n                        />\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) =>\n                        filterManager.changeColumnSort(changedColumn, direction)\n                }}\n            />\n        </MuiThemeProvider>\n    );\n}\n\nexport default Table;","import * as React from 'react';\nimport { Box, Fab } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport AddIcon from '@material-ui/icons/Add';\nimport Table from './Table';\n\ninterface ListProps {\n\n}\n\nconst PageList = (props: ListProps) => {\n    return(\n        <Page title=\"List Genres\">\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title=\"Add Genre\"\n                    color={'secondary'}\n                    size=\"small\"\n                    component={Link}\n                    to=\"/genres/create\"\n                >\n                    <AddIcon />\n                </Fab>\n            </Box>\n            <Box>\n                <Table />\n            </Box>\n        </Page>\n    );\n}\n\nexport default PageList;","import * as React from 'react';\nimport { MenuItem, TextField } from '@material-ui/core';\nimport { useForm } from 'react-hook-form';\nimport genreHttp from '../../util/http/genre-http';\nimport categoryHttp from '../../util/http/category-http';\nimport { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Category, Genre } from '../../util/models';\nimport * as yup from 'yup';\nimport { useSnackbar } from 'notistack';\nimport SubmitActions from '../../components/SubmitActions';\nimport LoadingContext from '../../components/loading/LoadingContext';\n\nconst validationSchema = yup.object().shape({\n    name: yup.string()\n        .required()\n        .max(255)\n        .label('Name'),\n    categories_id: yup.array()\n        .required()\n        .label('Categories')\n});\n\ninterface FormProps {\n    id?:string\n}\n\nexport const Form: React.FC<FormProps> = ({id}) => {\n\n    const { \n        register, \n        handleSubmit, \n        getValues,\n        reset,\n        watch,\n        setValue,\n        errors,\n        triggerValidation\n    } = useForm<{name, categories_id}>({\n        validationSchema,\n        defaultValues: {\n            categories_id: []\n        }\n    });\n\n    const { enqueueSnackbar } = useSnackbar();\n    const history = useHistory();\n    const [genre, setGenre] = useState<Genre | null>(null);\n    const [categories, setCategories] = useState<Category[]>([]);\n    const loading = useContext(LoadingContext);\n\n    useEffect(() => {\n        \n        let isSubscribed = true;\n        (async () => {\n            const promises = [categoryHttp.list({queryParams:{all:''}})];\n\n            if (id) {\n                promises.push(genreHttp.get(id));\n            }\n            try {\n                const [categoriesResponse, genreResponse] = await Promise.all(promises);\n                if(isSubscribed){\n                    setCategories(categoriesResponse.data.data);\n                    if (id) {\n                        setGenre(genreResponse.data.data);\n                        const categories_id = genreResponse.data.data.categories.map(category => category.id);\n                        const dataForm = {\n                            ...genreResponse.data.data,\n                            categories_id\n                        }\n                        //console.log(dataForm);\n                        reset(dataForm);\n                    }\n                }                    \n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar(\n                    'Error trying to load genre',\n                    {variant: 'error',}\n                )\n            }\n        })();\n\n    }, [enqueueSnackbar, id, reset]); //[]\n\n\n    useEffect(() => {\n        register({name: \"categories_id\"})\n    }, [register]);\n\n    async function onSubmit(formData, event) {\n        try{\n            const http = !id\n            ? genreHttp.create(formData)\n            : genreHttp.update(genre?.id, formData);\n            const {data} = await http;\n            enqueueSnackbar(\n                'Genre saved successfully',\n                {variant:\"success\"}\n            );\n            setTimeout(() => {\n                if(event){\n                    if(id){\n                        history.replace(`/genres/${data.data.id}/edit`)\n                    }else{\n                        history.push(`/genres/${data.data.id}/edit`)\n                    }\n                }else{\n                    history.push('/genres')\n                }\n            });\n        }catch (err) {\n            console.log(err);\n            enqueueSnackbar(\n                'Error trying to save genre',\n                {variant:\"error\"}\n            );\n        }\n    }\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)}>\n            <TextField\n                name=\"name\"\n                label=\"Name\"\n                fullWidth\n                variant={\"outlined\"}\n                inputRef={register}\n                error={errors.name !== undefined}\n                helperText={errors.name && errors.name.message}\n                InputLabelProps={{shrink: (getValues('name') !== undefined ? true : undefined) }}\n                disabled={loading}\n            />\n            <TextField\n                select\n                name=\"categories_id\"\n                value={watch('categories_id')}\n                label=\"Categories\"\n                margin={'normal'}\n                variant={\"outlined\"}\n                fullWidth\n                onChange={(e) => {\n                    setValue('categories_id', e.target.value);\n                }}\n                SelectProps={{\n                    multiple: true\n                }}\n                error={errors.categories_id !== undefined}\n                helperText={errors.categories_id && errors.categories_id.message}\n                InputLabelProps={{shrink: true}}\n                disabled={loading}\n            >\n\n                <MenuItem value=\"\" disabled>\n                    <em>Select categories</em>\n                </MenuItem>\n                {\n                    categories.map(\n                        (category, key) => (\n                            <MenuItem key={key} value={category.id}>{category.name}</MenuItem>\n                        )\n                    )\n                }\n            </TextField>\n            <SubmitActions \n                disabledButtons={loading} \n                handleSave={() => \n                    triggerValidation().then(isValid => {\n                        isValid && onSubmit(getValues(), null)\n                    })  \n                }\n            />\n        </form>\n    );\n}","import * as React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Page } from \"../../components/Page\";\nimport { Form } from './Form';\n\nconst PageForm = () => {\n    const {id} = useParams<{id}>();\n    return (\n        <Page title={!id  ? 'Create genre' : 'Edit genre'}>\n            <Form id={id || \"\"} />\n        </Page>\n    );\n}\n\nexport default PageForm;","import { httpVideo } from \".\";\nimport HttpResource from \"./http-resource\";\n\nconst videoHttp = new HttpResource(httpVideo, \"videos\");\n\nexport default videoHttp;","import * as React from 'react';\nimport {Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle} from \"@material-ui/core\";\n\ninterface DeleteDialogProps {\n    open: boolean;\n    handleClose: (confirmed: boolean) => void;\n}\n\nconst DeleteDialog: React.FC<DeleteDialogProps> = (props) => {\n\n    const {open, handleClose} = props;\n\n    return (\n        <Dialog\n            open={open}\n            onClose={() => handleClose(false)}\n        >\n            <DialogTitle>\n                Exclusão de registros\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Deseja realmente excluir este(s) registro(s)?\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={() => handleClose(false)} color=\"primary\">\n                    Cancelar\n                </Button>\n                <Button onClick={() => handleClose(true)} color=\"primary\" autoFocus>\n                    Excluir\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default DeleteDialog;","import {useEffect, useState} from \"react\";\n\nconst useDeleteCollection = () => {\n    const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\n    const [rowsToDelete, setRowsToDelete] = useState<{ data: Array<{ index, dataIndex }> }>({data: []});\n\n    useEffect(() => {\n        if (rowsToDelete.data.length) {\n            setOpenDeleteDialog(true);\n        }\n    }, [rowsToDelete]);\n\n    return {\n        openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete\n    }\n};\n\nexport default useDeleteCollection;","import * as React from 'react';\nimport { useEffect, useState, useRef, useContext, useCallback } from 'react';\nimport {IconButton, MuiThemeProvider } from '@material-ui/core';\nimport format from 'date-fns/format';\nimport parseISO from 'date-fns/parseISO';\nimport categoryHttp from '../../util/http/category-http';\nimport EditIcon from '@material-ui/icons/Edit';\nimport {Link} from \"react-router-dom\";\nimport { Category, Genre, ListResponse } from '../../util/models';\nimport DefaultTable, { makeActionStyles, MuiDataTableRefComponent, TableColumn } from '../../components/Table';\nimport { useSnackbar } from 'notistack';\nimport { FilterResetButton } from '../../components/Table/FilterResetButton';\nimport useFilter from '../../hooks/useFilter';\nimport videoHttp from '../../util/http/video-http';\nimport DeleteDialog from '../../components/DeleteDialog';\nimport useDeleteCollection from '../../hooks/useDeleteCollection';\nimport LoadingContext from '../../components/loading/LoadingContext';\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: 'id',\n        label: 'ID',\n        width: '30%',\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: \"title\",\n        label: \"Titulo\",\n        width: '43%',\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"genres\",\n        label: \"Gêneros\",\n        width: '12%',\n        options: {\n            filterType: 'multiselect',\n            filterOptions: {\n                names: []\n            },\n            customBodyRender(value: Genre[], tableMeta, updateValue){\n                const genres = value.map((e:Genre, i:Number) => e.name).join(', ');\n                return genres;\n            }\n        }\n    },\n    {\n        name: \"categories\",\n        label: \"Categories\",\n        width: '12%',\n        options: {\n            filterType: 'multiselect',\n            filterOptions: {\n                names: []\n            },\n            customBodyRender(value: Category[], tableMeta, updateValue){\n                const categories = value.map((e:Category, i:Number) => e.name).join(', ');\n                return categories;\n            }\n        }\n    },\n    {\n        name: \"created_at\",\n        label: \"Created At\",\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue){\n                return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n            }\n        },\n        width: '10%'\n    },\n    {\n        name: \"actions\",\n        label: \"Ações\",\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender: (value, tableMeta) => {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/videos/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon/>\n                    </IconButton>\n                )\n            }\n        }\n    }\n];\n\nconst debounceTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\nconst Table: React.FC = () => {\n\n    const {enqueueSnackbar} = useSnackbar(); \n    const subscribed = useRef(true)\n    const [data, setData] = useState<Category[]>([]);\n    const loading = useContext(LoadingContext)\n    const {openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete} = useDeleteCollection();\n    const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n    \n    const {\n        columns,\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        totalRecords, \n        setTotalRecords,\n        cleanSearchText,\n        changePage\n    } = useFilter({\n        columns: columnsDefinition,\n        debounceTime: debounceTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        tableRef,\n    });\n\n    const searchText = cleanSearchText(debouncedFilterState.search);\n\n    \n\n    const getData = useCallback(async ({\n        search,\n        page,\n        per_page,\n        sort,\n        dir\n    }) => {\n        try{\n            const {data} = await videoHttp.list<ListResponse<Category>>({\n                queryParams: {\n                    // search: cleanSearchText(debouncedFilterState.search),\n                    // page: debouncedFilterState.pagination.page,\n                    // per_page: debouncedFilterState.pagination.per_page,\n                    // sort: debouncedFilterState.order.sort,\n                    // dir: debouncedFilterState.order.dir\n                    search,\n                    page,\n                    per_page,\n                    sort,\n                    dir\n                }\n            });\n            if(subscribed.current){\n                setData(data.data);\n                setTotalRecords(data.meta.total);\n                if(openDeleteDialog){\n                    setOpenDeleteDialog(false);\n                }\n            }\n        } catch (error) {\n            console.error(error);\n            \n            if(categoryHttp.isCancelledRequest(error)){\n                return;\n            }\n\n            enqueueSnackbar(\n                'Error trying to list categories',\n                {variant:\"error\"}\n            );\n        }\n    }, [\n        enqueueSnackbar, \n        openDeleteDialog, \n        setOpenDeleteDialog, \n        setTotalRecords\n    ]);\n\n\n    const deleteRows = useCallback((confirmed: boolean) => {\n        if (!confirmed) {\n            setOpenDeleteDialog(false);\n            return;\n        }\n        const ids = rowsToDelete\n            .data\n            .map(value => data[value.index].id)\n            .join(',');\n        videoHttp\n            .deleteCollection({ids})\n            .then(response => {\n                enqueueSnackbar(\n                    'Registros excluídos com sucesso',\n                    {variant: 'success'}\n                );\n                if(\n                    rowsToDelete.data.length === debouncedFilterState.pagination.per_page\n                    && debouncedFilterState.pagination.page > 1\n                ){\n                    const page = debouncedFilterState.pagination.page - 2;\n                    changePage(page);\n                }else{\n                    getData({\n                        search: searchText,\n                        page: debouncedFilterState.pagination.page,\n                        per_page: debouncedFilterState.pagination.per_page,\n                        sort: debouncedFilterState.order.sort,\n                        dir: debouncedFilterState.order.dir\n                    });\n                }\n            })\n            .catch((error) => {\n                console.error(error);\n                enqueueSnackbar(\n                    'Não foi possível excluir os registros',\n                    {variant: 'error',}\n                )\n            })\n    }, \n    [\n        getData, \n        searchText, \n        debouncedFilterState.order.dir, \n        debouncedFilterState.order.sort, \n        debouncedFilterState.pagination.page, \n        debouncedFilterState.pagination.per_page, \n        \n        data, \n        \n        changePage,\n        rowsToDelete.data, \n        setOpenDeleteDialog,\n        enqueueSnackbar, \n    ]\n    // [\n    //     data, \n    //     enqueueSnackbar, \n    //     filterManager, \n    //     filterState.pagination.page, \n    //     filterState.pagination.per_page, \n    //     getData, \n    //     rowsToDelete.data, \n    //     setOpenDeleteDialog\n    // ]\n    );\n\n    useEffect(() => {\n        subscribed.current = true;\n        getData({\n            search: searchText,\n            page: debouncedFilterState.pagination.page,\n            per_page: debouncedFilterState.pagination.per_page,\n            sort: debouncedFilterState.order.sort,\n            dir: debouncedFilterState.order.dir\n        });\n        return () => {\n            subscribed.current = false;\n        }\n    },[\n        debouncedFilterState.order.dir, \n        debouncedFilterState.order.sort, \n        debouncedFilterState.pagination.page, \n        debouncedFilterState.pagination.per_page, \n        getData, \n        searchText\n    ]);\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length -1)}>\n            <DeleteDialog open={openDeleteDialog} handleClose={deleteRows} />\n            <DefaultTable \n                title=\"Category List\"\n                columns={columns} \n                data={data}\n                loading={loading}\n                debouncedSearchTime={debouncedSearchTime}\n                ref={tableRef}\n                options={{\n                    serverSide: true,\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    customToolbar: () => (\n                        <FilterResetButton \n                            handleClick={ () => filterManager.resetFilter() }\n                        />\n                    ),\n                    onSearchChange: (value) => {\n                        filterManager.changeSearch(value)\n                    },\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) =>\n                        filterManager.changeColumnSort(changedColumn, direction),\n                    onRowsDelete: (rowsDeleted) => {\n                        setRowsToDelete(rowsDeleted as any);\n                        return false;\n                    },\n                }}\n            />\n        </MuiThemeProvider>\n    );\n}\n\nexport default Table;","import * as React from 'react';\nimport { Box, Fab } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport AddIcon from '@material-ui/icons/Add';\nimport Table from './Table';\n\ninterface ListProps {\n\n}\n\nconst PageList = (props: ListProps) => {\n    return(\n        <Page title=\"List Categories\">\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title=\"Add Category\"\n                    color={'secondary'}\n                    size=\"small\"\n                    component={Link}\n                    to=\"/videos/create\"\n                >\n                    <AddIcon />\n                </Fab>\n            </Box>\n            <Box>\n                <Table />\n            </Box>\n        </Page>\n    );\n}\n\nexport default PageList;","import * as React from 'react';\nimport {InputAdornment, TextField} from \"@material-ui/core\";\nimport {MutableRefObject, useImperativeHandle, useRef, useState} from \"react\";\nimport {TextFieldProps} from \"@material-ui/core/TextField\";\nimport {RefAttributes} from \"react\";\n\nexport interface InputFileProps extends RefAttributes<InputFileComponent>{\n    ButtonFile: React.ReactNode;\n    InputFileProps?: React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>;\n    TextFieldProps?: TextFieldProps;\n}\n\nexport interface InputFileComponent {\n    openWindow: () => void\n    clear: () => void\n}\n\n\nconst InputFile = React.forwardRef<InputFileComponent, InputFileProps>((props, ref) => {\n    const fileRef = useRef() as MutableRefObject<HTMLInputElement>;\n    const [filename, setFilename] = useState(\"\");\n\n    const textFieldProps: TextFieldProps = {\n        variant: 'outlined',\n        ...props.TextFieldProps,\n        InputProps: {\n            ...(\n                props.TextFieldProps && props.TextFieldProps.InputProps &&\n                {...props.TextFieldProps.InputProps}\n            ),\n            readOnly: true,\n            endAdornment: (\n                <InputAdornment position={\"end\"}>\n                    {props.ButtonFile}\n                </InputAdornment>\n            )\n        },\n        value: filename\n    };\n\n\n    const inputFileProps = {\n        ...props.InputFileProps,\n        hidden: true,\n        ref: fileRef,\n        onChange(event) {\n            const files = event.target.files;\n            if (files.length) {\n                setFilename(\n                    Array.from(files).map((file: any) => file.name).join(', ')\n                );\n            }\n            if (props.InputFileProps && props.InputFileProps.onChange) {\n                props.InputFileProps.onChange(event)\n            }\n        }\n    };\n\n    useImperativeHandle(ref, () => ({\n        openWindow: () => fileRef.current.click(),\n        clear: () => setFilename(\"\")\n    }));\n\n    return (\n        <>\n            <input type=\"file\" {...inputFileProps}/>\n            <TextField {...textFieldProps}/>\n        </>\n    );\n});\n\nexport default InputFile","// @flow\nimport * as React from 'react';\nimport {Button, FormControl} from \"@material-ui/core\";\nimport {FormControlProps} from \"@material-ui/core/FormControl\";\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\nimport InputFile, {InputFileComponent} from \"../../../components/InputFile\";\nimport {MutableRefObject, RefAttributes, useRef} from \"react\";\nimport {useImperativeHandle} from \"react\";\n\ninterface UploadFieldProps extends RefAttributes<UploadFieldComponent>{\n    accept: string,\n    label: string;\n    setValue: (value) => void\n    error?: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps\n}\n\nexport interface UploadFieldComponent {\n    clear: () => void\n}\n\nconst UploadField = React.forwardRef<UploadFieldComponent, UploadFieldProps>((props, ref) => {\n    const fileRef = useRef() as MutableRefObject<InputFileComponent>;\n    const {\n        accept,\n        label,\n        setValue,\n        error,\n        disabled\n    } = props;\n\n    useImperativeHandle(ref, () => ({\n        clear: () => fileRef.current.clear()\n    }));\n\n    return (\n        <FormControl\n            error={error !== undefined}\n            disabled={disabled === true}\n            fullWidth\n            margin={\"normal\"}\n            {...props.FormControlProps}\n        >\n            <InputFile\n                ref={fileRef}\n                TextFieldProps={{\n                    label: label,\n                    InputLabelProps: {shrink: true},\n                    style: {backgroundColor: '#ffffff'}\n                }}\n                InputFileProps={{\n                    accept,\n                    onChange(event){\n                        const files = event.target.files as any;\n                        files.length && setValue(files[0])\n                    }\n                }}\n                ButtonFile={\n                    <Button\n                        endIcon={<CloudUploadIcon/>}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                        onClick={() => fileRef.current.openWindow()}\n                    >\n                        Adicionar\n                    </Button>\n                }\n            />\n        </FormControl>\n    );\n});\n\nexport default UploadField;","import * as React from 'react';\nimport {makeStyles, Typography} from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n    root: {\n        width: '36px',\n        height: '36px',\n        fontSize: '1.2em',\n        color: '#fff',\n        borderRadius: '4px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    }\n});\n\nconst backgroundColors = {\n    'L': '#39B549',\n    '10': '#20A3D4',\n    '12': '#E79738',\n    '14': '#E35E00',\n    '16': '#d00003',\n    '18': '#000000'\n};\n\ninterface RatingProps {\n    rating: 'L' | '10' | '12' | '14' | '16' | '18'\n}\n\n\nconst Rating: React.FC<RatingProps> = (props) => {\n    const classes = useStyles();\n    return (\n        <Typography\n            className={classes.root}\n            style={{\n                backgroundColor: backgroundColors[props.rating]\n            }}\n        >\n            {props.rating}\n        </Typography>\n    );\n};\n\n\nexport default Rating;","import * as React from 'react';\nimport {Box, FormControl, FormControlLabel, FormHelperText, FormLabel, Radio, RadioGroup} from \"@material-ui/core\";\nimport {FormControlLabelProps} from \"@material-ui/core/FormControlLabel\";\nimport Rating from \"../../../components/Rating\";\nimport {FormControlProps} from \"@material-ui/core/FormControl\";\n\ninterface RatingFieldProps {\n    value: string;\n    setValue: (value) => void\n    error: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps\n}\n\nconst ratings: FormControlLabelProps[] = [\n    {value: \"L\", control: <Radio color=\"primary\"/>, label: <Rating rating={'L'}/>, labelPlacement: \"top\"},\n    {value: \"10\", control: <Radio color=\"primary\"/>, label: <Rating rating={'10'}/>, labelPlacement: \"top\"},\n    {value: \"12\", control: <Radio color=\"primary\"/>, label: <Rating rating={'12'}/>, labelPlacement: \"top\"},\n    {value: \"14\", control: <Radio color=\"primary\"/>, label: <Rating rating={'14'}/>, labelPlacement: \"top\"},\n    {value: \"16\", control: <Radio color=\"primary\"/>, label: <Rating rating={'16'}/>, labelPlacement: \"top\"},\n    {value: \"18\", control: <Radio color=\"primary\"/>, label: <Rating rating={'18'}/>, labelPlacement: \"top\"},\n];\n\nconst RatingField: React.FC<RatingFieldProps> = (props) => {\n    const {value, setValue, error, disabled} = props;\n    return (\n        <FormControl\n            error={error !== undefined}\n            disabled={disabled === true}\n            {...props.FormControlProps}\n        >\n            <FormLabel component=\"legend\">Classificação</FormLabel>\n            <Box paddingTop={1}>\n                <RadioGroup\n                    name=\"rating\"\n                    onChange={(e) => {\n                        setValue(e.target.value);\n                    }}\n                    value={value}\n                    row\n                >\n                    {\n                        ratings.map(\n                            (props, key) => <FormControlLabel key={key} {...props}/>\n                        )\n                    }\n                </RadioGroup>\n            </Box>\n            {\n                error && <FormHelperText>{error.message}</FormHelperText>\n            }\n        </FormControl>\n    );\n};\n\nexport default RatingField;","import * as React from 'react';\nimport { Autocomplete, AutocompleteProps, UseAutocompleteSingleProps } from '@material-ui/lab';\nimport { CircularProgress, TextField, TextFieldProps } from '@material-ui/core';\nimport { RefAttributes, useEffect, useImperativeHandle, useState } from 'react';\nimport { useDebounce } from 'use-debounce/lib';\n\ninterface AsyncAutocompleteProps extends RefAttributes<AsyncAutocompleteComponent> {\n    fetchOptions: (searchText) => Promise<any>;\n    debounceTime?: number;\n    TextFieldProps?: TextFieldProps;\n    AutocompleteProps?: Omit<AutocompleteProps<any>, 'renderInput'> & UseAutocompleteSingleProps<any>;\n}\n\nexport interface AsyncAutocompleteComponent {\n    clear: () => void;\n}\n\n \nconst AsyncAutocomplete = React.forwardRef<AsyncAutocompleteComponent, AsyncAutocompleteProps>((props, ref) => {\n\n    const {AutocompleteProps, debounceTime = 300, fetchOptions} = props;\n    const {freeSolo = false,  onOpen, onClose, onInputChange } = AutocompleteProps as any;\n    const [open, setOpen] = useState(false);\n    const [searchText, setSearchText] = useState(\"\");\n    const [debouncedSearchText] = useDebounce(searchText, debounceTime);\n    const [loading, setLoading] = useState(false);\n    const [options, setOptions] = useState([]);\n\n    const textFieldProps: TextFieldProps = {\n        margin: 'normal',\n        variant: 'outlined',\n        fullWidth: true,\n        InputLabelProps: {shrink: true},\n        ...(props.TextFieldProps && {...props.TextFieldProps})\n    }\n\n    const autocompleteProps: AutocompleteProps<any> = {\n        loadingText: 'Carregando...',\n        noOptionsText: 'Nenhum item encontrado',\n        ...(AutocompleteProps && {...AutocompleteProps}),\n        open,\n        loading,\n        options,\n        inputValue: searchText,\n        onOpen() {\n            setOpen(true);\n            onOpen && onOpen();\n        },\n        onClose() {\n            setOpen(false);\n            onClose && onClose();\n        },\n        onInputChange(e, v) {\n            setSearchText(v);\n            onInputChange && onInputChange();\n        },\n        renderInput: params => {\n            \n            return <TextField \n                {...params}\n                {...textFieldProps}\n                InputProps={{\n                    ...params.InputProps,\n                    endAdornment: (\n                        <>\n                        {loading && <CircularProgress color={\"inherit\"} size={20} />}\n                        {params.InputProps.endAdornment}\n                        </>\n                    )\n                }}\n            />\n        }\n    }\n\n    useEffect(() => {\n        if(!open && !freeSolo){\n            setOptions([]);\n        }\n    }, [open, freeSolo])\n\n    useEffect(() => {\n        if(!open || (debouncedSearchText === \"\" && freeSolo)) {\n            return;\n        }\n        \n        let isSubscribed = true;\n        (async function getData() {\n            setLoading(true);\n            try {\n                const data = await fetchOptions(debouncedSearchText);\n                if(isSubscribed){\n                    console.log('catmembers', data)\n                    setOptions(data);\n                }                 \n            } finally {\n                setLoading(false);\n            }\n        })();\n        \n        return () => {\n            isSubscribed = false;\n        }\n\n    }, [freeSolo, debouncedSearchText, open, fetchOptions]);\n\n    useImperativeHandle(ref, () => ({\n        clear: () => {\n            console.log(\"TESTEEEEEEEEEEE\")\n            setSearchText(\"\");\n            setOptions([]);\n            console.log(searchText)\n        }\n    }));\n\n    return (\n        <Autocomplete {...autocompleteProps} />\n    );\n})\n \nexport default AsyncAutocomplete;","import * as React from 'react';\nimport {createStyles, Grid, makeStyles, Theme} from \"@material-ui/core\";\nimport {GridProps} from \"@material-ui/core/Grid\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            backgroundColor: '#f1f1f1',\n            borderRadius: '4px',\n            padding: theme.spacing(1, 1),\n            color: theme.palette.secondary.main\n        },\n    }),\n);\n\ninterface GridSelectedProps extends GridProps {\n\n}\n\nexport const GridSelected: React.FC<GridSelectedProps> = (props) => {\n    const classes = useStyles();\n    return <Grid container wrap={\"wrap\"} className={classes.root} {...props}>\n        {props.children}\n    </Grid>\n};\n\nexport default GridSelected;","// @flow\nimport * as React from 'react';\nimport {Grid, IconButton} from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport {GridProps} from \"@material-ui/core/Grid\";\n\ninterface GridSelectedItemProps extends GridProps {\n    onDelete: () => void\n}\n\nexport const GridSelectedItem: React.FC<GridSelectedItemProps> = (props) => {\n    const {onDelete, children, ...other} = props;\n    return <Grid item {...other}>\n        <Grid container alignItems={\"center\"} spacing={3}>\n            <Grid item xs={1}>\n                <IconButton size={\"small\"} color={\"inherit\"} onClick={onDelete}>\n                    <DeleteIcon/>\n                </IconButton>\n            </Grid>\n            <Grid item xs={10} md={11}>\n                {children}\n            </Grid>\n        </Grid>\n    </Grid>\n};\n\nexport default GridSelectedItem;","import {useSnackbar} from \"notistack\";\n\nconst useCollectionManager = (collection: any[], setCollection: (item) => void) => {\n    const snackbar = useSnackbar();\n    return {\n        addItem(item) {\n            if (!item || item === \"\") {\n                return;\n            }\n            const exists = collection.find(i => i.id === item.id);\n            if (exists) {\n                snackbar.enqueueSnackbar(\n                    'Item já adicionado', {variant: 'info'}\n                );\n                return;\n            }\n            collection.unshift(item);\n            setCollection(collection);\n        },\n        removeItem(item) {\n            const index = collection.findIndex(i => i.id === item.id);\n            if (index === -1) {\n                return;\n            }\n            collection.splice(index, 1);\n            setCollection(collection);\n        }\n    }\n};\n\nexport default useCollectionManager;","import {useSnackbar} from \"notistack\";\nimport axios from 'axios';\nimport {useCallback} from \"react\";\n\nconst useHttpHandled = () => {\n    const {enqueueSnackbar} = useSnackbar(); //notistack\n    return useCallback(async (request: Promise<any>) => {\n        try {\n            const {data} = await request;\n            return data;\n        } catch (e) {\n            console.error(e);\n            if (!axios.isCancel(e)) {\n                enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    {variant: 'error',}\n                );\n            }\n            throw e;\n        }\n    }, [enqueueSnackbar]);\n};\n\nexport default useHttpHandled;","import {Category, Genre} from \"./models\";\n\n\nexport function getGenresFromCategory(genres: Genre[], category: Category) {\n    return genres.filter(\n        genre => genre.categories.filter(cat => cat.id === category.id).length !== 0\n    )\n}","import { FormControl, FormControlProps, FormHelperText, Typography, useTheme } from '@material-ui/core';\nimport * as React from 'react';\nimport { MutableRefObject, useImperativeHandle, useRef } from 'react';\nimport AsyncAutocomplete, { AsyncAutocompleteComponent } from '../../../components/AsyncAutocomplete';\nimport GridSelected from '../../../components/GridSelected';\nimport GridSelectedItem from '../../../components/GridSelectedItem';\nimport useCollectionManager from '../../../hooks/useCollectionManager';\nimport useHttpHandled from '../../../hooks/useHttpHandled';\nimport genreHttp from '../../../util/http/genre-http';\nimport { getGenresFromCategory } from '../../../util/model-filters';\n\ninterface GenreFieldProps extends React.RefAttributes<GenreFieldComponent> {\n    genres: any[],\n    setGenres: (genres) => void,\n    categories: any[],\n    setCategories: (categories) => void,\n    error: any,\n    disabled?: boolean,\n    FormControlProps?: FormControlProps\n}\n\nexport interface GenreFieldComponent {\n    clear: () => void\n}\n\nconst GenreField = React.forwardRef<GenreFieldComponent, GenreFieldProps>((props, ref) => {\n\n    const {genres, setGenres, error, disabled, categories, setCategories} = props;\n    const autocompleteHttp = useHttpHandled();\n    const {addItem, removeItem} = useCollectionManager(genres, setGenres);\n    const {removeItem: removeCategory} = useCollectionManager(categories, setCategories);\n    const autocompleteRef = useRef() as MutableRefObject<AsyncAutocompleteComponent>;\n    const theme = useTheme();\n\n    function fetchOptions(searchText) {\n        return autocompleteHttp(\n            genreHttp\n                .list({\n                    queryParams: {\n                        search: searchText, all: \"\"\n                    }\n                })\n        )\n        .then((data) => data.data)\n        .catch(error => console.log(error));\n    }\n\n    useImperativeHandle(ref, () => ({\n        clear: () => autocompleteRef.current.clear()\n    }));\n\n    return (\n        <>\n            <AsyncAutocomplete \n                ref={autocompleteRef}\n                fetchOptions={fetchOptions}\n                AutocompleteProps={{\n                    //autoSelect: true,\n                    clearOnEscape: true,\n                    freeSolo: true,\n                    getOptionSelected: (option, value) => option.id === value.id,\n                    getOptionLabel: option => option.name,\n                    onChange: (e, v) => addItem(v),\n                    disabled\n                }}\n                TextFieldProps={{\n                    label: 'Gêrero',\n                    error: error !== undefined\n                }}\n            />\n            <FormHelperText style={{height: theme.spacing(3), lineHeight:1.1}}>\n                Escolha os gêneros do vídeos\n            </FormHelperText>\n            <FormControl\n                fullWidth\n                margin={'normal'}\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                <GridSelected>\n                    {\n                        genres.map( (genre, key) => (\n                            <GridSelectedItem \n                                key={key} \n                                onDelete={ \n                                    () => {\n                                        const categoriesWithOneGenre = categories\n                                            .filter(category => {\n                                                const genresFromCategory = getGenresFromCategory(genres, category);\n                                                return genresFromCategory.length === 1 && genresFromCategory[0].id === genre.id\n                                            });\n                                        categoriesWithOneGenre.forEach(cat => removeCategory(cat));\n\n                                        removeItem(genre)\n                                    }\n                                } \n                                xs={12}\n                            >\n                                <Typography noWrap={true}>{genre.name}</Typography>\n                            </GridSelectedItem>\n                        ))\n                    }                \n                </GridSelected>\n                {\n                    error && <FormHelperText>{error.message}</FormHelperText>\n                }\n            </FormControl>\n        </>\n    );\n});\n\nexport default GenreField;","import * as React from 'react';\nimport { FormControl, FormControlProps, FormHelperText, makeStyles, Theme, Typography, useTheme } from '@material-ui/core';\nimport AsyncAutocomplete, { AsyncAutocompleteComponent } from '../../../components/AsyncAutocomplete';\nimport GridSelected from '../../../components/GridSelected';\nimport GridSelectedItem from '../../../components/GridSelectedItem';\nimport useCollectionManager from '../../../hooks/useCollectionManager';\nimport useHttpHandled from '../../../hooks/useHttpHandled';\nimport categoryHttp from '../../../util/http/category-http';\nimport { getGenresFromCategory } from '../../../util/model-filters';\nimport {grey} from \"@material-ui/core/colors\";\nimport { Genre } from '../../../util/models';\nimport { MutableRefObject, RefAttributes, useCallback, useImperativeHandle, useRef } from 'react';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    genresSubtitle: {\n        color: grey[\"800\"],\n        fontSize: '0.8rem'\n    }\n}))\n\ninterface CategoryFieldProps extends RefAttributes<CategoryFieldComponent>{\n    categories: any[],\n    setCategories: (categories) => void,\n    genres: Genre[],\n    error: any,\n    disabled?: boolean,\n    FormControlProps?: FormControlProps\n}\n\nexport interface CategoryFieldComponent{\n    clear: () => void\n}\n\nconst CategoryField = React.forwardRef<CategoryFieldComponent, CategoryFieldProps>((props, ref) => {\n\n    const {categories, setCategories, genres, error, disabled} = props;\n    const classes = useStyles();\n    const autocompleteHttp = useHttpHandled();\n    const {addItem, removeItem} = useCollectionManager(categories, setCategories);\n    const autocompleteRef = useRef() as MutableRefObject<AsyncAutocompleteComponent>;\n    const theme = useTheme();\n\n    const fetchOptions = useCallback((searchText) => {\n        return autocompleteHttp(\n            categoryHttp\n                .list({\n                    queryParams: {\n                        genres: genres.map(genre => genre.id).join(','), \n                        all: \"\"\n                    }\n                })\n        )\n        .then((data) => data.data)\n        .catch(error => console.log(error));\n    }, [autocompleteHttp, genres]);\n\n    useImperativeHandle(ref, () => ({\n        clear: () => autocompleteRef.current.clear()\n    }));\n\n    return (\n        <>\n            <AsyncAutocomplete \n                ref={autocompleteRef}\n                fetchOptions={fetchOptions}\n                AutocompleteProps={{\n                    //autoSelect: true,\n                    clearOnEscape: true,\n                    getOptionLabel: option => option.name,\n                    getOptionSelected: (option, value) => option.id === value.id,\n                    onChange: (e, v) => addItem(v),\n                    disabled: disabled === true || !genres.length\n                }}\n                TextFieldProps={{\n                    label: 'Categorias',\n                    error: error !== undefined && genres.length ? true : false\n                }}\n            />\n            <FormHelperText style={{height: theme.spacing(3), lineHeight:1.1}}>\n                Escolha pelo menos uma categoria de cada gênero\n            </FormHelperText>\n            <FormControl\n                fullWidth\n                margin={'normal'}\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                <GridSelected>\n                {\n                        categories.map( (category, key) => {\n                            const genresFromCategory = getGenresFromCategory(genres, category)\n                                .map(genre => genre.name)\n                                .join(',');\n\n                            return (\n                                <GridSelectedItem \n                                    key={key} \n                                    onDelete={ \n                                        () => removeItem(category) \n                                    } \n                                    xs={12}\n                                >\n                                    <Typography noWrap={true}>{category.name}</Typography>\n                                    <Typography noWrap={true} className={classes.genresSubtitle}>\n                                        Gêneros: {genresFromCategory}\n                                    </Typography>\n                                </GridSelectedItem>\n                            )\n                        \n                        })\n                    }\n                </GridSelected>\n                {\n                    (error && genres.length) ? <FormHelperText>{error.message}</FormHelperText> : null\n                }\n            </FormControl>\n        </>\n    );\n});\n\nexport default CategoryField;","import * as React from 'react';\nimport { FormControl, FormControlProps, FormHelperText, Typography } from '@material-ui/core';\nimport { MutableRefObject, RefAttributes, useCallback } from 'react';\nimport AsyncAutocomplete, { AsyncAutocompleteComponent } from '../../../components/AsyncAutocomplete';\nimport GridSelected from '../../../components/GridSelected';\nimport GridSelectedItem from '../../../components/GridSelectedItem';\nimport useCollectionManager from '../../../hooks/useCollectionManager';\nimport useHttpHandled from '../../../hooks/useHttpHandled';\nimport castMemberHttp from '../../../util/http/cast-member-http';\nimport { useImperativeHandle } from 'react';\nimport { useRef } from 'react';\n\ninterface CastMemberFieldProps extends RefAttributes<CastMemberFieldComponent> {\n    castMembers: any[];\n    setCastMembers: (castMembers) => void;\n    error: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps;\n}\n\nexport interface CastMemberFieldComponent {\n    clear: () => void\n}\n\nconst CastMemberField = React.forwardRef<CastMemberFieldComponent, CastMemberFieldProps>((props, ref) => {\n\n    const autocompleteHttp = useHttpHandled();\n    const { error, disabled, castMembers, setCastMembers} = props;\n    const {addItem, removeItem} = useCollectionManager(castMembers, setCastMembers);\n    const autocompleteRef = useRef() as MutableRefObject<AsyncAutocompleteComponent>\n\n    // Se este componente \"CastMemberField\" for renderizado novamente\n    // esta função callback será renderizada também\n    // por ser uma função passada como props de um componente \n    // pode causar um efeito cascata de renderizações \n    // Por isso é importante usar o useCallback para otimizar e evitar renderizações desnecessarias\n    const fetchOptions = useCallback((searchText) => {\n        return autocompleteHttp(\n            castMemberHttp\n                .list({\n                    queryParams: { \n                        all: \"\"\n                    }\n                })\n        )\n        .then((data) => {\n            return data.data\n        })\n        .catch(error => console.log(error));\n    }, [autocompleteHttp]);\n\n    useImperativeHandle(ref, ()=>({\n        clear: ()=> autocompleteRef.current.clear()\n    }));\n\n    return (\n        <>\n            <AsyncAutocomplete \n                ref={autocompleteRef}\n                fetchOptions={fetchOptions}    \n                AutocompleteProps={{\n                    clearOnEscape: true,\n                    getOptionLabel: option => option.name,\n                    getOptionSelected: (option, value) => option.id === value.id,\n                    onChange: (e, v) => addItem(v),\n                    disabled: disabled === true,\n                }}\n                TextFieldProps={{\n                    label: 'Elenco',\n                    error: error !== undefined\n                }}      \n            />\n            <FormControl\n                fullWidth\n                margin={'normal'}\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                <GridSelected>\n                {\n                        castMembers.map( (castMember, key) => {\n                            return (\n                                <GridSelectedItem \n                                    key={key} \n                                    onDelete={ \n                                        () => removeItem(castMember) \n                                    } \n                                    xs={12}\n                                    md={6}\n                                >\n                                    <Typography \n                                        noWrap={true}\n                                    >{castMember.name}</Typography>\n                                </GridSelectedItem>\n                            )\n                        \n                        })\n                    }\n                </GridSelected>\n                {\n                    (error && castMembers.length) ? <FormHelperText>{error.message}</FormHelperText> : null\n                }\n            </FormControl>\n        </>\n    );\n});\n\nexport default CastMemberField;","import {useSnackbar} from \"notistack\";\nimport {useEffect} from \"react\";\n\nconst useSnackbarFormError = (submitCount, errors) => {\n    const {enqueueSnackbar} = useSnackbar();\n    useEffect(() => {\n        const hasError = Object.keys(errors).length !== 0;\n        if(submitCount > 0 && hasError){\n            enqueueSnackbar(\n                'Formulário inválido. Reveja os campos marcados de vermelhos.',\n                {variant: 'error'}\n            )\n        }\n    }, [submitCount, errors, enqueueSnackbar])\n};\n\nexport default useSnackbarFormError;","import { FileUpload, Upload } from \"./types\";\n\nexport function countInProgress(uploads: Upload[]){\n    return uploads.filter(upload => !isFinished(upload)).length;\n}\n\nexport function isFinished(obj: Upload | FileUpload): boolean {\n    return obj.progress === 1 || hasError(obj);\n}\n\nexport function hasError(obj: Upload | FileUpload): boolean {\n    if (isUploadType(obj)) {\n        const upload = obj as Upload;\n        return upload.files.some(file => file.error)\n    } else {\n        const file = obj as FileUpload;\n        return file.error !== undefined;\n    }\n}\n\nexport function isUploadType(obj: Upload | FileUpload) {\n    return 'video' in obj\n}","import React from \"react\";\nimport {CircularProgress, Fade, makeStyles} from \"@material-ui/core\";\nimport {grey} from \"@material-ui/core/colors\";\nimport { FileUpload, Upload } from \"../store/upload/types\";\nimport { hasError } from \"../store/upload/getters\";\n// import {FileUpload, Upload} from \"../store/upload/types\";\n// import {hasError} from \"../store/upload/getters\";\n\nconst useStyles = makeStyles({\n    progressContainer: {\n        position: 'relative',\n    },\n    progress: {\n        position: 'absolute',\n        left: 0\n    },\n    progressBackground: {\n        color: grey[\"300\"]\n    },\n});\n\ninterface UploadProgressProps {\n    uploadOrFile: Upload | FileUpload;\n    size: number;\n}\n\nconst UploadProgress: React.FC<UploadProgressProps> = (props) => {\n    const {\n        uploadOrFile, \n        size\n    } = props;\n    const classes = useStyles();\n    const error = hasError(uploadOrFile);\n    return (\n        <Fade in={uploadOrFile.progress < 1} timeout={{enter: 100, exit: 2000}}>\n            <div className={classes.progressContainer}>\n                <CircularProgress\n                    variant=\"static\"\n                    value={100}\n                    className={classes.progressBackground}\n                    size={size}\n                />\n                <CircularProgress\n                    className={classes.progress}\n                    variant=\"static\"\n                    //value={uploadOrFile.progress * 100}\n                    value={error ? 0 : uploadOrFile.progress * 100}\n                    size={size}\n                />\n            </div>\n        </Fade>\n    )\n};\n\nexport default UploadProgress;","import * as Typings from \"./types\";\nimport {createActions, createReducer} from 'reduxsauce';\nimport update from 'immutability-helper';\n\n// Criando Action Types e Creators\nexport const {Types, Creators} = createActions<{\n    ADD_UPLOAD: string,\n    REMOVE_UPLOAD: string,\n    UPDATE_PROGRESS: string,\n    SET_UPLOAD_ERROR: string\n}, {\n    addUpload(payload: Typings.AddUploadAction['payload']): Typings.AddUploadAction,\n    removeUpload(payload: Typings.RemoveUploadAction['payload']): Typings.RemoveUploadAction,\n    updateProgress(payload: Typings.UpdateProgressAction['payload']): Typings.UpdateProgressAction,\n    setUploadError(payload: Typings.SetUploadErrorAction['payload']): Typings.SetUploadErrorAction,\n}>\n({\n    addUpload: ['payload'],\n    removeUpload: ['payload'],\n    updateProgress: ['payload'],\n    setUploadError: ['payload'],\n});\n\n// Definindo State Inicial\nexport const INITIAL_STATE: Typings.UploadState = {\n    uploads: []\n};\n\n// Criando Reducer apartir do State Inicial e as Actions\nconst reducer = createReducer<Typings.UploadState, Typings.Actions>(INITIAL_STATE, {\n    [Types.ADD_UPLOAD]: addUpload as any,\n    [Types.REMOVE_UPLOAD]: removeUpload as any,\n    [Types.UPDATE_PROGRESS]: updateProgress as any,\n    [Types.SET_UPLOAD_ERROR]: setUploadError as any\n});\n\nexport default reducer;\n\nfunction addUpload(state = INITIAL_STATE, action: Typings.AddUploadAction): Typings.UploadState {\n    if(!action.payload.files.length){\n        return state;\n    }\n    \n    //Retorna o index do upload caso já exista\n    const index = findIndexUpload(state, action.payload.video.id);\n\n    if(index!==-1 && state.uploads[index].progress < 1){\n        return state;\n    }\n\n    const uploads = (index === -1) // Se o upload não existe \n        ? state.uploads // mantem a mesma lista de uploads\n        : update(state.uploads, { // se não remove o que já existe para adiciona-lo novamente com novos files\n            $splice: [[index, 1]]\n        });\n\n    return {\n        uploads: [\n            ...uploads,\n            {\n                video: action.payload.video,\n                progress: 0,\n                files: action.payload.files.map(file =>({\n                   fileField: file.fileField,\n                   filename: file.file.name,\n                   progress: 0\n                }))\n            }\n        ]\n    };\n}\n\nfunction removeUpload(state = INITIAL_STATE, action: Typings.RemoveUploadAction): Typings.UploadState {\n    const uploads = state.uploads.filter(upload => upload.video.id !== action.payload.id);\n    \n    if (uploads.length === state.uploads.length) {\n        return state;\n    }\n    \n    return {\n        uploads\n    }\n}\n\nfunction updateProgress(state = INITIAL_STATE, action: Typings.UpdateProgressAction): Typings.UploadState {\n    const videoId = action.payload.video.id;\n    const fileField = action.payload.fileField;\n    const {indexUpload, indexFile} = findIndexUploadAndFile(state, videoId, fileField);\n\n    if(typeof indexUpload === undefined){\n        return state;\n    }\n\n    const upload = state.uploads[indexUpload];\n    const file = upload.files[indexFile];\n\n    if(file.progress === action.payload.progress){\n        return state;\n    }\n\n    // update(state.uploads, {\n    //     [indexUpload]: {\n    //         files: {\n    //             [indexFile]: {\n    //                 $set: {...file, progress: action.payload.progress}\n    //             }\n    //         }\n    //     }\n    // });\n\n    const uploads = update(state.uploads, {\n        [indexUpload]: {\n            $apply(upload){\n\n                const files = update(upload.files, {\n                    [indexFile]: {\n                        $set: {...file, progress: action.payload.progress}\n                    }\n                });\n\n                const progress = calculateGlobalProgress(files);\n\n                return {...upload, progress, files};\n            }\n        }\n    })\n\n    return {uploads};\n\n    /**\n     * [\n     *      {\n     *          video: {}\n     *          progress: 0,\n     *          files: {\n     *              {progress: 0}   \n     *          }\n     *      }\n     * ]\n     */\n}\n\nfunction setUploadError(state = INITIAL_STATE, action: Typings.SetUploadErrorAction): Typings.UploadState {\n    const videoId = action.payload.video.id;\n    const fileField = action.payload.fileField;\n    const {indexUpload, indexFile} = findIndexUploadAndFile(state, videoId, fileField);\n\n    if(typeof indexUpload === undefined){\n        return state;\n    }\n\n    const upload = state.uploads[indexUpload];\n    const file = upload.files[indexFile];\n\n    const uploads = update(state.uploads, {\n        [indexUpload]: {\n            files: {\n                [indexFile]: {\n                    $set: {...file, error: action.payload.error, progress: 1}\n                }\n            }\n        }\n    })\n\n    return {uploads};\n}\n\nfunction findIndexUploadAndFile(state: Typings.UploadState, videoId, fileField): {indexUpload?, indexFile?} {\n    const indexUpload = findIndexUpload(state, videoId);\n    if(indexUpload === -1){\n        return {};\n    }\n\n    const upload = state.uploads[indexUpload];\n    const indexFile = findIndexFile(upload.files, fileField);\n    \n    return indexFile === -1 ? {} : {indexUpload, indexFile};\n}\n\nfunction calculateGlobalProgress(files: Array<{progress}>){\n    const countFiles = files.length;\n    if(!countFiles){\n        return 0;\n    }\n    const sumProgress = files.reduce((sum, file) => sum + file.progress, 0);\n    return sumProgress / countFiles;\n}\n\nfunction findIndexUpload(state: Typings.UploadState, id: string){\n    return state.uploads.findIndex((upload: Typings.Upload) => upload.video.id === id);\n}\n\nfunction findIndexFile(files: Array<{fileField}>, fileField: string){\n    return files.findIndex((file) => file.fileField === fileField);\n}","import * as React from \"react\";\nimport {Fade, IconButton, ListItemSecondaryAction, makeStyles, Theme} from \"@material-ui/core\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { Upload } from \"../../store/upload/types\";\nimport {useDispatch} from \"react-redux\";\nimport {Creators} from '../../store/upload';\nimport { hasError, isFinished } from \"../../store/upload/getters\";\nimport { useEffect, useState } from \"react\";\nimport { useDebounce } from \"use-debounce/lib\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    successIcon: {\n        color: theme.palette.success.main\n    },\n    errorIcon: {\n        color: theme.palette.error.main\n    },\n}));\n\ninterface UploadActionProps {\n    upload: Upload;\n    hover: boolean;\n}\n\nconst UploadAction: React.FC<UploadActionProps> = (props) => {\n    const {upload, hover} = props;\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const error = hasError(upload);\n    const [show, setShow] = useState(false);\n    const [debouncedShow] = useDebounce(show, 2500);\n\n    useEffect(() => {\n        setShow(isFinished(upload))\n    }, [upload]);\n\n    return (\n        debouncedShow\n            ? (\n            <Fade in={show} timeout={{enter: 1000}}>\n                    <ListItemSecondaryAction>\n                        <span \n                            hidden={hover}\n                        >\n                            {\n                                upload.progress === 1 && !error && (\n                                    <IconButton className={classes.successIcon} edge={\"end\"}>\n                                        <CheckCircleIcon/>\n                                    </IconButton>\n                                )\n                            }\n                            {\n                                error && (\n                                    <IconButton className={classes.errorIcon} edge={\"end\"}>\n                                        <ErrorIcon/>\n                                    </IconButton>\n                                )\n                            }\n                        </span>\n                        <span \n                            hidden={!hover}\n                        >\n                            <IconButton\n                                color={'primary'}\n                                edge={\"end\"}\n                                onClick={() => dispatch(Creators.removeUpload({id: upload.video.id}))}\n                            >\n                                <DeleteIcon/>\n                            </IconButton>\n                        </span>\n                    </ListItemSecondaryAction>\n                </Fade>\n            )\n            : null\n    )\n};\n\nexport default UploadAction;","import * as React from \"react\";\nimport {\n    Divider,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    makeStyles,\n    Theme, Tooltip,\n    Typography\n} from \"@material-ui/core\";\nimport MovieIcon from \"@material-ui/icons/Movie\";\nimport UploadProgress from \"../UploadProgress\";\nimport UploadAction from \"./UploadAction\";\nimport { Upload } from \"../../store/upload/types\";\nimport { hasError } from \"../../store/upload/getters\";\nimport { useState } from \"react\";\n// import UploadAction from \"./UploadAction\";\n// import {Upload} from \"../../store/upload/types\";\n// import {hasError} from \"../../store/upload/getters\";\n// import {useState} from \"react\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    listItem: {\n        paddingTop: '7px',\n        paddingBottom: '7px',\n        height: '53px'\n    },\n    movieIcon: {\n        color: theme.palette.error.main,\n        minWidth: '40px'\n    },\n    listItemText: {\n        marginLeft: '6px',\n        marginRight: '24px',\n        color: theme.palette.text.secondary\n    },\n}));\n\ninterface UploadItemProps {\n    upload: Upload;\n}\n\nconst UploadItem: React.FC<UploadItemProps> = (props) => {\n    const {upload} = props;\n    const classes = useStyles();\n    const error = hasError(upload);\n    const [itemHover, setItemHover] = useState(false);\n\n    return (\n        <>\n            <Tooltip\n                disableFocusListener\n                disableTouchListener\n                title={\n                    //\"Não foi possível fazer o upload, clique para mais detalhes\"\n                    error ? \"Não foi possível fazer o upload, clique para mais detalhes\" : \"\"\n                }\n                placement={\"left\"}\n            >\n                <ListItem\n                    className={classes.listItem}\n                    button\n                    onMouseOver={() => setItemHover(true)}\n                    onMouseLeave={() => setItemHover(false)}\n                >\n                    <ListItemIcon className={classes.movieIcon}>\n                        <MovieIcon/>\n                    </ListItemIcon>\n                    <ListItemText\n                        className={classes.listItemText}\n                        primary={\n                            <Typography noWrap={true} variant={'subtitle2'} color={\"inherit\"}>\n                                {upload.video.title}\n                            </Typography>\n                        }\n                    />\n                    <UploadProgress \n                        size={30}\n                        uploadOrFile={upload}\n                    />\n                    <UploadAction \n                        upload={upload} \n                        hover={itemHover}\n                    />\n                </ListItem>\n            </Tooltip>\n            <Divider component=\"li\"/>\n        </>\n    )\n};\n\nexport default UploadItem;","import * as React from 'react';\nimport {\n    Card,\n    CardActions,\n    Collapse,\n    IconButton,\n    List,\n    makeStyles,\n    Theme,\n    Typography\n} from \"@material-ui/core\";\nimport CloseIcon from '@material-ui/icons/Close';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useSnackbar } from 'notistack';\nimport { useState } from 'react';\nimport classnames from \"classnames\";\nimport UploadItem from './UploadItem';\nimport { Upload, UploadModule } from '../../store/upload/types';\nimport { useSelector } from 'react-redux';\nimport { countInProgress } from '../../store/upload/getters';\n\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    card: {\n        width: 450,\n    },\n    cardActionRoot: {\n        padding: '8px 8px 8px 16px',\n        backgroundColor: theme.palette.primary.main,\n    },\n    title: {\n        fontWeight: 'bold',\n        color: theme.palette.primary.contrastText,\n    },\n    icons: {\n        marginLeft: 'auto !important',\n        color: theme.palette.primary.contrastText,\n    },\n    expand: {\n        transform: 'rotate(0deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest\n        })\n    },\n    expandOpen: {\n        transform: 'rotate(180deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest\n        })\n    },\n    list: {\n        paddingTop: 0,\n        paddingBottom: 0\n    }\n}));\n\ninterface SnackbarUploadProps {\n    id: string | number\n}\n\nconst SnackbarUpload = React.forwardRef<any, SnackbarUploadProps>((props, ref) => {\n\n    const {id} = props;\n    const classes = useStyles();\n    const {closeSnackbar} = useSnackbar();\n    const [expanded, setExpanded] = useState(true);\n\n    const uploads = useSelector<UploadModule, Upload[]>(\n        (state)=> state.upload.uploads\n    );\n\n    console.log('SnackbarUpload - uploads', uploads)\n\n    const totalInProgress = countInProgress(uploads);\n\n    return (\n        <Card ref={ref} className={classes.card}>\n            <CardActions classes={{root: classes.cardActionRoot}}>\n                <Typography variant='subtitle2' className={classes.title}>\n                    Fazendo upload de {totalInProgress} vídeo(s)\n                </Typography>\n                <div className={classes.icons}>\n                    <IconButton\n                        color={\"inherit\"}\n                        onClick={() => setExpanded(!expanded)}\n                        className={classnames(classes.expand, {[classes.expandOpen]: !expanded})}\n                    >\n                        <ExpandMoreIcon/>\n                    </IconButton>\n                    <IconButton\n                        color={\"inherit\"}\n                        onClick={() => closeSnackbar(id)}\n                    >\n                        <CloseIcon/>\n                    </IconButton>\n                </div>\n            </CardActions>\n            <Collapse in={expanded}>\n                <List className={classes.list}>\n                    {\n                        uploads.map((upload, key) => (\n                            <UploadItem key={key} upload={upload} />\n                        ))\n                    }                   \n                </List>\n            </Collapse>\n        </Card>\n    );\n});\n\nexport default SnackbarUpload;","import * as React from 'react';\nimport { Card, CardContent, Checkbox, FormControlLabel, Grid, makeStyles, TextField, Theme, Typography, useMediaQuery, useTheme } from '@material-ui/core';\nimport { useForm } from 'react-hook-form';\nimport videoHttp from '../../../util/http/video-http';\nimport { createRef, MutableRefObject, useCallback, useContext, useEffect, useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport * as yup from '../../../util/vendor/yup';\nimport { useState } from 'react';\nimport { useSnackbar } from 'notistack';\nimport SubmitActions from '../../../components/SubmitActions';\nimport { DefaultForm } from '../../../components/DefaultForm';\nimport { Video, VideoFileFieldsMap } from '../../../util/models';\nimport UploadField from './UploadField';\nimport RatingField from './RatingField';\nimport GenreField, { GenreFieldComponent } from './GenreField';\nimport CategoryField, { CategoryFieldComponent } from './CategoryField';\nimport CastMemberField, { CastMemberFieldComponent } from './CastMemberField';\nimport { omit, zipObject } from 'lodash';\nimport { InputFileComponent } from '../../../components/InputFile';\nimport useSnackbarFormError from '../../../hooks/useSnackbarFormError';\nimport LoadingContext from '../../../components/loading/LoadingContext';\nimport SnackbarUpload from '../../../components/SnackbarUpload';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Upload, UploadModule, FileInfo } from \"../../../store/upload/types\";\nimport { Creators } from '../../../store/upload';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    cardUpload: {\n        borderRadius:\"4px\",\n        backgroundColor:\"#f5f5f5\",\n        margin: theme.spacing(2, 0)\n    },\n    cardOpened: {\n        borderRadius: \"4px\",\n        backgroundColor: \"#f5f5f5\",\n    },\n    cardContentOpened: {\n        paddingBottom: theme.spacing(2) + 'px !important'\n    },\n}))\n\nconst validationSchema = yup.object().shape({\n    title: yup.string()\n        .label('Título')\n        .required()\n        .max(255),\n    description: yup.string()\n        .label('Sinopse')\n        .required(),\n    year_launched: yup.number()\n        .label('Ano de lançamento')\n        .required()\n        .min(1),\n    duration: yup.number()\n        .label('Duração')\n        .required()\n        .min(1),\n    rating: yup.string()\n        .label('Classificação')\n        .required(),\n    cast_members: yup.array()\n        .label('Elenco')\n        .required(),\n    genres: yup.array()\n        .label('Gêneros')\n        .required()\n        .test({\n            message: 'Cada gênero escolhido precisa ter pelo menos uma categoria selecionada',\n            test(value) { //array genres [{name, categories: []}]\n                var genres = value as any;\n                return genres.every(\n                    v => v.categories.filter(\n                        cat => this.parent.categories.map(c => c.id).includes(cat.id)\n                    ).length !== 0\n                );\n            }\n        })\n    ,categories: yup.array()\n        .label('Categorias')\n        .required(),\n});\n\ninterface FormProps {\n    id?:string\n}\n\nconst fileFields = Object.keys(VideoFileFieldsMap);\n\nexport const Form: React.FC<FormProps> = ({id}) => {\n\n    const classes = useStyles();\n\n    const { \n        register, \n        handleSubmit, \n        getValues,\n        reset,\n        watch,\n        setValue,\n        errors,\n        triggerValidation,\n        formState,\n\n    } = useForm<{\n        title,\n        description,\n        year_launched,\n        duration,\n        rating,\n        cast_members,\n        genres,\n        categories,\n        opened\n    }>({\n        validationSchema,\n        defaultValues: {\n            rating: null,\n            cast_members: [],\n            genres: [],\n            categories: [],\n            opened: false,\n        }\n    });\n    useSnackbarFormError(formState.submitCount, errors);\n\n    const {enqueueSnackbar} = useSnackbar();\n    const history = useHistory();\n    const [video, setVideo] = useState<Video | null>(null);\n    const loading = useContext(LoadingContext)\n    const theme = useTheme();\n    const isGreaterMd = useMediaQuery(theme.breakpoints.up('md'));\n    const castMemberRef = useRef() as MutableRefObject<CastMemberFieldComponent>;\n    const genreRef = useRef() as MutableRefObject<GenreFieldComponent>;\n    const categoryRef = useRef() as MutableRefObject<CategoryFieldComponent>;\n    const uploadsRef = useRef(\n        zipObject(fileFields, fileFields.map(() => createRef()))\n    ) as MutableRefObject<{ [key: string]: MutableRefObject<InputFileComponent> }>;\n\n    const uploads = useSelector<UploadModule, Upload[]>(\n        (state)=> state.upload.uploads\n    );\n\n    console.log('uploads',uploads);\n\n    const dispatch = useDispatch();\n\n    const resetForm = useCallback((data) => {\n        Object.keys(uploadsRef.current).forEach(\n            field => uploadsRef.current[field].current.clear()\n        );\n        castMemberRef.current.clear();\n        genreRef.current.clear();\n        categoryRef.current.clear();\n        //reset(data);\n    }, [uploadsRef, castMemberRef, genreRef, categoryRef]);\n\n    useEffect(() => {\n        [\n            'rating',\n            'opened',\n            'cast_members',\n            'genres',\n            'categories',\n            ...fileFields\n        ].forEach(name => register({name}));\n    }, [register]);\n\n    useEffect(() => {\n\n        if(!id){\n            return;\n        }\n\n        let isSubscribed = true;\n        \n        (async function getData() {\n            try {\n                const {data} = await videoHttp.get(id);\n                if(isSubscribed){\n                    setVideo(data.data);\n                    reset(data.data);\n                }\n            } catch (error) {\n                console.log(error);\n                enqueueSnackbar(\n                    'Error trying to load video',\n                    {variant: 'error',}\n                )\n            }\n        })();\n        return () => {\n            isSubscribed = false;\n        }\n    }, [enqueueSnackbar, id, reset]);\n\n    async function onSubmit(formData, event) {\n        const sendData = omit(\n            formData,\n            [...fileFields, 'cast_members', 'genres', 'categories']\n        );\n        sendData['cast_members_id'] = formData['cast_members'].map(cast_member => cast_member.id);\n        sendData['categories_id'] = formData['categories'].map(category => category.id);\n        sendData['genres_id'] = formData['genres'].map(genre => genre.id);\n\n        try {\n            const http = !video\n            ? videoHttp.create<{data: Video}>(sendData)\n            : videoHttp.update<{data: Video}>(video.id, sendData);\n\n            const {data} = await http;\n\n            enqueueSnackbar(\n                'Video saved successfully',\n                {variant:\"success\"}\n            );\n            uploadFiles(data.data);\n            id && resetForm(video);\n            setTimeout(() => {\n                if(event){\n                    id\n                        ? history.replace(`/videos/${data.data.id}/edit`)\n                        : history.push(`/videos/${data.data.id}/edit`);\n                }else{\n                    history.push('/videos')\n                }\n            });\n          \n        } catch (error) {\n            console.error(error);\n            enqueueSnackbar(\n                'Error trying to save video',\n                {variant:\"error\"}\n            );\n        }\n    }\n\n    function uploadFiles(video) {\n        const files: FileInfo[] = fileFields\n            .filter(fileField => getValues()[fileField])\n            .map(fileField => ({fileField, file: getValues()[fileField] as File}));\n\n        if (!files.length) {\n            return;\n        }\n\n        dispatch(Creators.addUpload({video, files}));\n\n        enqueueSnackbar('', {\n            key: 'snackbar-upload',\n            persist: true,\n            anchorOrigin: {\n                vertical: 'bottom',\n                horizontal: 'right'\n            },\n            content: (key, message) => {\n                const id = key as any;\n                return <SnackbarUpload id={id}/>\n            }\n        });\n    }\n\n    return (\n        <DefaultForm \n            GridItemProps={{xs:12}} \n            onSubmit={handleSubmit(onSubmit)}\n        >\n            <Grid container spacing={5}>\n                <Grid item xs={12} md={6}>\n\n\n                    <TextField\n                        name=\"title\"\n                        label=\"Título\"\n                        variant={'outlined'}\n                        fullWidth\n                        inputRef={register}\n                        disabled={loading}\n                        InputLabelProps={{shrink: true}}\n                        error={errors.title !== undefined}\n                        helperText={errors.title && errors.title.message}\n                    />\n                    <TextField\n                        name=\"description\"\n                        label=\"Sinopse\"\n                        multiline\n                        rows=\"4\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        fullWidth\n                        inputRef={register}\n                        disabled={loading}\n                        InputLabelProps={{shrink: true}}\n                        error={errors.description !== undefined}\n                        helperText={errors.description && errors.description.message}\n                    />\n                    <Grid container spacing={1}>\n                        <Grid item xs={6}>\n                            <TextField\n                                name=\"year_launched\"\n                                label=\"Ano de lançamento\"\n                                type=\"number\"\n                                margin=\"normal\"\n                                variant=\"outlined\"\n                                fullWidth\n                                inputRef={register}\n                                disabled={loading}\n                                InputLabelProps={{shrink: true}}\n                                error={errors.year_launched !== undefined}\n                                helperText={errors.year_launched && errors.year_launched.message}\n                            />\n                        </Grid>\n                        <Grid item xs={6}>\n                            <TextField\n                                name=\"duration\"\n                                label=\"Duração\"\n                                type=\"number\"\n                                margin=\"normal\"\n                                variant=\"outlined\"\n                                fullWidth\n                                inputRef={register}\n                                disabled={loading}\n                                InputLabelProps={{shrink: true}}\n                                error={errors.duration !== undefined}\n                                helperText={errors.duration && errors.duration.message}\n                            />\n                        </Grid>\n                    </Grid>\n                    \n                    <Grid container>\n                        <Grid item xs={12}>\n                            <CastMemberField \n                                ref={castMemberRef}\n                                castMembers={watch('cast_members')} \n                                setCastMembers={(value) => setValue('cast_members', value, true)} \n                                error={errors.cast_members}\n                                disabled={loading}\n                            />\n                        </Grid>\n                    </Grid>\n\n                    <Grid container spacing={2}>\n                        <Grid item xs={12} md={6}>\n                            <GenreField \n                                ref={genreRef}\n                                genres={watch('genres')}\n                                setGenres={(value) => setValue('genres', value, true)}\n                                categories={watch('categories')}\n                                setCategories={(value) => setValue('categories', value, true)}\n                                error={errors.genres}\n                                disabled={loading}\n                            />\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <CategoryField \n                                ref={categoryRef}\n                                categories={watch('categories')}\n                                setCategories={(value) => setValue('categories', value, true)}\n                                genres={watch('genres')}\n                                error={errors.categories}\n                                disabled={loading}\n                            />\n                        </Grid>\n                        {/* <Grid item xs={12}>\n                            <FormHelperText>\n                                Escolha os gêneros do vídeo\n                            </FormHelperText>\n                            <FormHelperText>\n                                Escolha pelo menos uma categoria de cada gênero\n                            </FormHelperText>\n                        </Grid> */}\n                    </Grid>\n                    \n                </Grid>\n\n                <Grid item xs={12} md={6}>\n                    <RatingField  \n                        value={watch('rating')}\n                        setValue={(value) => setValue('rating', value, true)}\n                        error={errors.rating}\n                        disabled={loading}\n                        FormControlProps={{\n                            margin: isGreaterMd ? 'none' : 'normal'\n                        }}\n                    />\n                    <br/>\n                    <Card className={classes.cardUpload}>\n                        <CardContent>\n                            <Typography color=\"primary\" variant=\"h6\">\n                                Imagens\n                            </Typography>\n                            <UploadField\n                                ref={uploadsRef.current['thumb_file']}\n                                accept={'image/*'}\n                                label={'Thumb'}\n                                setValue={(value) => setValue('thumb_file', value)}\n                            />\n                            <UploadField \n                                ref={uploadsRef.current['banner_file']}\n                                accept={'image/*'}\n                                label={'Banner'}\n                                setValue={(value) => setValue('banner_file', value)}\n                            />\n                        </CardContent>\n                    </Card>\n                    <Card className={classes.cardUpload}>\n                        <CardContent>\n                            <Typography color=\"primary\" variant=\"h6\">\n                                Videos\n                            </Typography>\n                            <UploadField \n                                ref={uploadsRef.current['trailer_file']}\n                                accept={'video/mp4'}\n                                label={'Trailer'}\n                                setValue={(value) => setValue('trailer_file', value)}\n                            />\n                            <UploadField\n                                ref={uploadsRef.current['video_file']}\n                                accept={'video/mp4'}\n                                label={'Principal'}\n                                setValue={(value) => setValue('video_file', value)}\n                            />\n                        </CardContent>\n                    </Card>\n                    \n                    <Card className={classes.cardUpload}>\n                        <CardContent className={classes.cardContentOpened}>\n                            <FormControlLabel\n                                control={\n                                    <Checkbox\n                                        name=\"opened\"\n                                        color={'primary'}\n                                        onChange={\n                                            () => setValue('opened', !getValues()['opened'])\n                                        }\n                                        checked={watch('opened')}\n                                        disabled={loading}\n                                    />\n                                }\n                                label={\n                                    <Typography color=\"primary\" variant={\"subtitle2\"}>\n                                        Quero que este conteúdo apareça na seção lançamentos\n                                    </Typography>\n                                }\n                                labelPlacement=\"end\"\n                            />\n                        </CardContent>\n                    </Card>\n                </Grid>\n            </Grid>\n\n            <SubmitActions \n                \n                disabledButtons={loading} \n                handleSave={() => \n                    triggerValidation().then(isValid => {\n                        isValid && onSubmit(getValues(), null)\n                    })  \n                }\n            />\n        </DefaultForm>\n    );\n}\n","import * as React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Page } from \"../../components/Page\";\nimport { Form } from './Form';\n\nconst PageForm = () => {\n    const {id} = useParams<{id}>();\n    return (\n        <Page title={!id  ? 'Create video' : 'Edit video'}>\n            <Form id={id || \"\"} />\n        </Page>\n    );\n}\n\nexport default PageForm;","import * as React from 'react';\n\nimport { Page } from '../components/Page';\n\ninterface DashboardProps {\n\n}\n\nconst Dashboard = (props: DashboardProps) => {\n    return(\n        <Page title=\"Dashboard\">\n\n        </Page>\n    );\n}\n\nexport default Dashboard;","import React, {useEffect, useState} from \"react\";\nimport {Divider, Fade, IconButton, makeStyles, Theme} from \"@material-ui/core\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport {Link} from \"react-router-dom\";\nimport {Creators} from '../../store/upload';\nimport {useDispatch} from \"react-redux\";\nimport {useDebounce} from \"use-debounce\";\nimport { FileUpload, Upload } from \"../../store/upload/types\";\nimport { hasError, isFinished, isUploadType } from \"../../store/upload/getters\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return ({\n        successIcon: {\n            color: theme.palette.success.main,\n            marginLeft: theme.spacing(1)\n        },\n        errorIcon: {\n            color: theme.palette.error.main,\n            marginLeft: theme.spacing(1)\n        },\n        divider: {\n            height: '20px',\n            marginLeft: theme.spacing(1),\n            marginRight: theme.spacing(1)\n        }\n    })\n});\n\ninterface UploadActionProps {\n    uploadOrFile: Upload | FileUpload\n}\n\nconst UploadAction: React.FC<UploadActionProps> = (props) => {\n    const {uploadOrFile} = props;\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const [show, setShow] = useState(false);\n    const [debouncedShow] = useDebounce(show, 2500);\n    const error = hasError(uploadOrFile);\n    const videoId = (uploadOrFile as any).video ? (uploadOrFile as any).video.id : \"\";\n    const activeActions = isUploadType(uploadOrFile);\n\n    useEffect(() => {\n        setShow(isFinished(uploadOrFile))\n    }, [uploadOrFile]);\n\n    return (\n        debouncedShow\n            ? (\n            <Fade in={show} timeout={{enter: 1000}}>\n                <>\n                    {\n                        uploadOrFile.progress === 1 &&\n                        !error &&\n                        <CheckCircleIcon className={classes.successIcon}/>\n                    }\n\n                    {\n                        error && \n                        <ErrorIcon className={classes.errorIcon}/>\n                    }\n\n                    {\n                        activeActions && (\n                            <>\n                                <Divider className={classes.divider} orientation={'vertical'}/>\n                                <IconButton\n                                    onClick={\n                                        () => {\n                                            dispatch(Creators.removeUpload({id: videoId}))\n                                        }\n                                    }\n                                >\n                                    <DeleteIcon color={'primary'}/>\n                                </IconButton>\n                                <IconButton\n                                    component={Link}\n                                    to={`/videos/${videoId}/edit`}\n                                    //to={`/videos/1/edit`}\n                                >\n                                    <EditIcon color={'primary'}/>\n                                </IconButton>\n                            </>\n                        )\n                    }\n                </>\n            </Fade>\n            )\n            : null\n    )\n};\n\nexport default UploadAction;","import {Grid, ListItem, makeStyles, Theme, Typography} from \"@material-ui/core\";\nimport React from \"react\";\nimport UploadProgress from \"../../components/UploadProgress\";\nimport UploadAction from \"./UploadAction\";\nimport MovieIcon from \"@material-ui/icons/Movie\";\nimport ImageIcon from '@material-ui/icons/Image';\nimport { FileUpload, Upload } from \"../../store/upload/types\";\n//import {FileUpload, Upload} from \"../../store/upload/types\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return ({\n        gridTitle: {\n            display: 'flex',\n            color: '#999999'\n        },\n        icon: {\n            color: theme.palette.error.main,\n            minWidth: '40px'\n        },\n    })\n});\n\ninterface UploadItemProps {\n    uploadOrFile: Upload | FileUpload\n}\n\nconst UploadItem: React.FC<UploadItemProps> = (props) => {\n    const {uploadOrFile} = props;\n    const classes = useStyles();\n\n    function makeIcon() {\n        if (true) {\n            return <MovieIcon className={classes.icon}/>\n        }\n\n        return <ImageIcon className={classes.icon}/>\n    }\n\n    return (\n        <ListItem>\n            <Grid container alignItems={'center'}>\n                <Grid\n                    className={classes.gridTitle}\n                    item\n                    xs={12}\n                    md={9}\n                >\n                    {makeIcon()}\n                    <Typography color={\"inherit\"}>\n                        {props.children}\n                    </Typography>\n                </Grid>\n                <Grid item xs={12} md={3}>\n                    <Grid\n                        container\n                        direction={\"row\"}\n                        alignItems={'center'}\n                        justify={\"flex-end\"}\n                    >\n                        <UploadProgress \n                            size={48} \n                            uploadOrFile={uploadOrFile}\n                        />\n                        <UploadAction \n                            uploadOrFile={uploadOrFile}\n                        />\n                    </Grid>\n                </Grid>\n            </Grid>\n        </ListItem>\n    )\n};\n\nexport default UploadItem;","import * as React from \"react\";\nimport {\n    Card,\n    CardContent,\n    Divider,\n    ExpansionPanel,\n    ExpansionPanelDetails,\n    ExpansionPanelSummary,\n    Grid,\n    List,\n    makeStyles,\n    Theme,\n    Typography,\n} from \"@material-ui/core\";\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport {Page} from \"../../components/Page\";\nimport UploadItem from \"./UploadItem\";\nimport { useSelector } from \"react-redux\";\nimport { Upload, UploadModule } from \"../../store/upload/types\";\nimport { VideoFileFieldsMap } from \"../../util/models\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return ({\n        panelSummary: {\n            backgroundColor: theme.palette.primary.main,\n            color: theme.palette.primary.contrastText\n        },\n        expandedIcon: {\n            color: theme.palette.primary.contrastText\n        }\n    })\n});\n\nconst Uploads = () => {\n    const classes = useStyles();\n\n    const uploads = useSelector<UploadModule, Upload[]>(\n        (state) => state.upload.uploads\n    );\n\n    //const dispatch = useDispatch();\n\n    // React.useMemo(() => {\n    //     setTimeout(()=>{\n    //         const obj: any = {\n    //             video: {\n    //                 id: 'd40617ac-b4ec-4592-a5d7-37ba21cb1344',\n    //                 title: 'E o vento levou'\n    //             },\n    //             files: [\n    //                 {\n    //                     file: new File([\"\"], \"trailer_file.mp4\"),\n    //                     fileField: \"trailer_file\"\n    //                 },\n    //                 {\n    //                     file: new File([\"\"], \"video_file.mp4\"),\n    //                     fileField: \"video_file\"\n    //                 }\n    //             ]\n    //         }\n    //         dispatch(Creators.addUpload(obj));\n    //         // const progress1 = {\n    //         //     fileField: 'trailer_file',\n    //         //     progress: 10,\n    //         //     video: {id: 'd40617ac-b4ec-4592-a5d7-37ba21cb1344'}\n    //         // } as any;\n    //         // dispatch(Creators.updateProgress(progress1));\n    \n    //         // const progress2 = {\n    //         //     fileField: 'video_file',\n    //         //     progress: 20,\n    //         //     video: {id: 'd40617ac-b4ec-4592-a5d7-37ba21cb1344'}\n    //         // } as any;\n    //         // dispatch(Creators.updateProgress(progress2));\n    \n    //     }, 1000);\n    // }, [true]);\n\n    return (\n        <Page title={'Uploads'}>\n            {\n                uploads.map((upload, key) => (\n                    <Card elevation={5} key={key}>\n                        <CardContent>\n                            <UploadItem \n                                uploadOrFile={upload}\n                            >\n                                {upload.video.title}\n                            </UploadItem>\n                            <ExpansionPanel style={{margin: 0}}>\n                                <ExpansionPanelSummary\n                                    className={classes.panelSummary}\n                                    expandIcon={<ExpandMoreIcon className={classes.expandedIcon}/>}\n                                >\n                                    <Typography>Ver detalhes</Typography>\n                                </ExpansionPanelSummary>\n                                <ExpansionPanelDetails style={{padding: '0px'}}>\n                                    <Grid item xs={12}>\n                                        <List dense={true} style={{padding: '0px'}}>\n                                            {\n                                                upload.files.map((file, key) => (\n                                                    <React.Fragment key={key}>\n                                                        <Divider/>\n                                                        <UploadItem uploadOrFile={file}>\n                                                            {`${VideoFileFieldsMap[file.fileField]} - ${file.filename}`}\n                                                        </UploadItem>\n                                                    </React.Fragment>\n                                                ))\n                                            }\n                                        </List>\n                                    </Grid>\n                                </ExpansionPanelDetails>\n                            </ExpansionPanel>\n                        </CardContent>\n                    </Card>\n                ))\n            }\n        </Page>\n    );\n};\n\nexport default Uploads;","import { RouteProps } from 'react-router-dom';\nimport CategoryList from '../pages/category/PageList';\nimport CategoryForm from '../pages/category/PageForm';\nimport CastMemberList from '../pages/cast-member/PageList';\nimport CastMemberForm from '../pages/cast-member/PageForm';\nimport GenreList from '../pages/genre/PageList';\nimport GenreForm from '../pages/genre/PageForm';\nimport VideoList from '../pages/video/PageList';\nimport VideoForm from '../pages/video/PageForm';\nimport Dashboard from '../pages/Dashboard';\nimport UploadsPage from '../pages/uploads';\n\nexport interface MyRouteProps extends RouteProps {\n    name: string\n    label: string\n}\n\nconst routes : MyRouteProps[] = [\n    {\n        name: 'dashboard',\n        label: 'Dashboard',\n        path: '/',\n        component: Dashboard,\n        exact: true\n    },\n    {\n        name: 'categories.list',\n        label: 'Categories',\n        path: '/categories',\n        component: CategoryList,\n        exact: true\n    },\n    {\n        name: 'categories.create',\n        label: 'Create Category',\n        path: '/categories/create',\n        component: CategoryForm,\n        exact: true\n    },\n    {\n        name: 'categories.edit',\n        label: 'Edit category',\n        path: '/categories/:id/edit',\n        component: CategoryForm,\n        exact: true\n    },\n    {\n        name: 'cast_members.list',\n        label: 'Cast Members',\n        path: '/cast-members',\n        component: CastMemberList,\n        exact: true\n    },\n    {\n        name: 'cast_members.create',\n        label: 'Create cast member',\n        path: '/cast-members/create',\n        component: CastMemberForm,\n        exact: true\n    },\n    {\n        name: 'cast_members.edit',\n        label: 'Edit cast member',\n        path: '/cast-members/:id/edit',\n        component: CastMemberForm,\n        exact: true\n    },\n    {\n        name: 'genres.list',\n        label: 'Genres',\n        path: '/genres',\n        component: GenreList,\n        exact: true\n    },\n    {\n        name: 'genres.create',\n        label: 'Create Genre',\n        path: '/genres/create',\n        component: GenreForm,\n        exact: true\n    },\n    {\n        name: 'genres.edit',\n        label: 'Edit Genre',\n        path: '/genres/:id/edit',\n        component: GenreForm,\n        exact: true\n    },\n    {\n        name: 'videos.list',\n        label: 'Videos',\n        path: '/videos',\n        component: VideoList,\n        exact: true\n    },\n    {\n        name: 'videos.create',\n        label: 'Create Video',\n        path: '/videos/create',\n        component: VideoForm,\n        exact: true\n    },\n    {\n        name: 'videos.edit',\n        label: 'Edit Video',\n        path: '/videos/:id/edit',\n        component: VideoForm,\n        exact: true\n    },\n    {\n        name: 'uploads',\n        label: 'Uploads',\n        path: '/uploads',\n        component: UploadsPage,\n        exact: true\n    }\n];\n\nexport default routes;","/* eslint-disable no-nested-ternary */\nimport React from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport Link, { LinkProps } from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport MuiBreadcrumbs from '@material-ui/core/Breadcrumbs';\nimport { Route } from 'react-router';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Location } from 'history'\nimport routes from '../routes';\nimport RouteParser from 'route-parser';\nimport Container from '@material-ui/core/Container';\nimport { Box } from '@material-ui/core';\n\nconst breadcrumbNameMap: { [key: string]: string } = {};\nroutes.forEach(route => breadcrumbNameMap[route.path as string] = route.label);\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    linkRouter: {\n      color: theme.palette.secondary.main,\n      \"&:focus, &:active\": {\n        color: theme.palette.secondary.main,\n      },\n      \"&:hover\": {\n        color: theme.palette.secondary.dark,\n      }\n    }\n  }),\n);\n\ninterface LinkRouterProps extends LinkProps {\n  to: string;\n  replace?: boolean;\n}\n\nconst LinkRouter = (props: LinkRouterProps) => <Link {...props} component={RouterLink as any} />;\n\nexport default function Breadcrumbs() {\n  const classes = useStyles();\n\n  function makeBreadcrumbs(location: Location){\n\n        const pathnames = location.pathname.split('/').filter((x) => x);\n\n        pathnames.unshift('/')\n\n        //console.log(pathnames, location.pathname)\n\n        return (\n          <MuiBreadcrumbs aria-label=\"breadcrumb\">\n            {pathnames.map((value, index) => {\n              const last = index === pathnames.length - 1;\n              const to = `${pathnames.slice(0, index + 1).join('/').replace('//','/')}`;\n\n              const route = Object.keys(breadcrumbNameMap).find(path => (new RouteParser(path)).match(to) );\n\n              //console.log(route, to);\n\n              if(route === undefined) {\n                return false;\n              }\n\n              return last ? (\n                <Typography color=\"textPrimary\" key={to}>\n                  {breadcrumbNameMap[route]}\n                </Typography>\n              ) : (\n                <LinkRouter color=\"inherit\" to={to} key={to} className={classes.linkRouter}>\n                  {breadcrumbNameMap[route]}\n                </LinkRouter>\n              );\n            })}\n          </MuiBreadcrumbs>\n        );\n  }\n\n  return (\n      <Container>\n        <Box paddingTop={2} paddingBottom={1}>\n          <Route>\n            {\n              ({location}: {location: Location} ) => makeBreadcrumbs(location)\n            }\n          </Route>\n        </Box>\n      </Container>\n  );\n}","import * as React from 'react';\nimport { Menu as MuiMenu, MenuItem, IconButton } from '@material-ui/core';\nimport MenuIcon  from '@material-ui/icons/Menu';\nimport routes, {MyRouteProps} from '../../routes';\nimport { Link } from 'react-router-dom';\n\nconst listRoutes = {\n    'dashboard': 'Dashboard',\n    'categories.list': 'Categories',\n    'cast_members.list': 'Cast Members',\n    'genres.list': 'Genres',\n    'videos.list': 'Videos',\n    'uploads': 'Uploads'\n};\nconst menuRoutes = routes.filter(route => Object.keys(listRoutes).includes(route.name));\n\nexport const Menu: React.FC = () => {\n    \n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const open = Boolean(anchorEl)\n\n    const handleOpen = (event:any) => setAnchorEl(event.currentTarget);\n\n    const handleClose = () => setAnchorEl(null);\n\n    return (\n        <React.Fragment>\n            <IconButton\n                edge=\"start\"\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={handleOpen}\n            >\n                <MenuIcon/>\n            </IconButton>\n\n            <MuiMenu\n                id=\"menu-appbar\"\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n                anchorOrigin={{vertical:'bottom', horizontal:'center'}}\n                transformOrigin={{vertical: 'top', horizontal: 'center'}}\n                getContentAnchorEl={null}\n            >\n                \n                {\n                    Object.keys(listRoutes).map(\n                        (routeName, key) => {\n                            const route = menuRoutes.find(route => route.name === routeName) as MyRouteProps;\n                            \n                            return (\n                                <MenuItem \n                                    key={key}\n                                    component={Link}\n                                    to={route.path as string} \n                                    onClick={handleClose}\n                                >\n                                    {listRoutes[routeName]}\n                                </MenuItem>\n                            )\n                        }\n                    )\n                }\n                \n            </MuiMenu>\n        </React.Fragment>        \n    );\n};","import { AppBar, Button, makeStyles, Theme, Toolbar, Typography } from '@material-ui/core';\nimport * as React from 'react';\nimport logo from '../../static/img/logo.png';\nimport {Menu} from './Menu'\n\nconst useStyles = makeStyles( (theme: Theme) => {\n    return {\n        toolbar: {\n            backgroundColor: '#000000'\n        },\n        title: {\n            flexGrow: 1,\n            textAlign: 'center'\n        },\n        logo: {\n            width: 100,\n            [theme.breakpoints.up('sm')]: {\n                width: 170\n            }\n        }\n    };\n});\n\nexport const Navbar: React.FC = () => {\n\n    const classes = useStyles();\n\n    return (\n        <div>\n            <AppBar>\n                <Toolbar className={classes.toolbar}>\n                    \n                    <Menu/>\n\n                    <Typography className={classes.title}>\n                        <img src={logo} alt=\"CodeFlix\" className={classes.logo} />\n                    </Typography>\n                    <Button color=\"inherit\">Login</Button>\n                </Toolbar>\n            </AppBar>\n        </div>\n    );\n};","export default \"data:image/png;base64,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\"","import * as React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport routes from './index';\n\nconst AppRouter = () => {\n\n    return (\n        <Switch>\n            {\n                routes.map(\n                    (route, key) => (\n                        <Route \n                            key={key}\n                            path={route.path}\n                            component={route.component}\n                            exact={route.exact === true}\n                        />\n                    )\n                )\n            }\n        </Switch>\n    );\n}\n\nexport default AppRouter;","import * as React from 'react';\nimport {Fade, LinearProgress, MuiThemeProvider, Theme} from \"@material-ui/core\";\nimport { useContext } from 'react';\nimport LoadingContext from './loading/LoadingContext';\n//import {useContext} from \"react\";\n//import LoadingContext from \"./loading/LoadingContext\";\n\nfunction makeLocalTheme(theme: Theme): Theme {\n    return {\n        ...theme,\n        palette: {\n            ...theme.palette,\n            primary: theme.palette.error,\n            type: 'dark'\n        }\n    }\n}\n\n\nconst Spinner = () => {\n    const loading = useContext(LoadingContext);\n    return (\n        <MuiThemeProvider theme={makeLocalTheme}>\n            <Fade in={loading}>\n                <LinearProgress\n                    color={'primary'}\n                    style={{\n                        position: 'fixed',\n                        width: '100%',\n                        zIndex: 9999\n                    }}\n                />\n            </Fade>\n        </MuiThemeProvider>\n    );\n};\n\nexport default Spinner;","// @flow\nimport * as React from 'react';\nimport LoadingContext from \"./LoadingContext\";\nimport {useEffect, useMemo, useState} from \"react\";\nimport { AxiosRequestConfig } from  'axios';\nimport { addGlobalRequestInterceptor, addGlobalResponseInterceptor, removeGlobalRequestInterceptor, removeGlobalResponseInterceptor } from '../../util/http';\n\nexport const LoadingProvider = (props) => {\n    const [loading, setLoading] = useState<boolean>(false);\n    const [countRequest, setCountRequest] = useState(0);   \n\n    //useMemo vs useCallback\n    useMemo(() => {\n        let isSubscribed = true;\n\n        const requestIds = addGlobalRequestInterceptor((config) => {\n            if(isSubscribed && ignoreLoading(config)){\n                setLoading(true);\n                setCountRequest((prevCountRequest) => prevCountRequest + 1)\n            }\n            return config\n        });\n\n        const responseIds = addGlobalResponseInterceptor((response) => {\n            if(isSubscribed && ignoreLoading(response.config)){\n                decrementCountRequest();\n            }\n            return response\n            }, \n            (error) => {\n                if(isSubscribed && ignoreLoading(error.config)){\n                    decrementCountRequest();\n                }\n                return Promise.reject(error);\n            }\n        );\n\n        return () => {\n            isSubscribed = false;\n            removeGlobalRequestInterceptor(requestIds);\n            removeGlobalResponseInterceptor(responseIds);\n        }\n    }, []);   \n\n    useEffect(() => {\n        if (!countRequest) {\n            setLoading(false);\n        }\n    }, [countRequest]);\n\n    function decrementCountRequest() {\n        setCountRequest((prevCountRequest) => prevCountRequest - 1);\n    }\n\n    function ignoreLoading(config: AxiosRequestConfig){\n        return (!config.headers || !config.headers.hasOwnProperty('x-ignore-loading'))\n    }\n\n    return (\n        <LoadingContext.Provider value={loading}>\n            {props.children}\n        </LoadingContext.Provider>\n    );\n};","import { Box, CssBaseline, MuiThemeProvider } from '@material-ui/core';\nimport { SnackbarProvider } from './components/SnackbarProvider';\nimport React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport './App.css';\nimport Breadcrumbs from './components/Breadcrumbs';\nimport { Navbar } from './components/Navbar';\nimport AppRouter from './routes/AppRouter';\nimport theme from './theme';\nimport Spinner from './components/Spinner';\nimport { LoadingProvider } from './components/loading/LoadingProvider';\n\nconst App: React.FC = () => {\n  return (\n    <React.Fragment>\n      <LoadingProvider>\n        <MuiThemeProvider theme={theme}>\n          <SnackbarProvider >\n            <CssBaseline/>\n            <BrowserRouter basename='/admin'>\n              <Spinner/>\n              <Navbar />\n              <Box paddingTop={'70px'}>\n                <Breadcrumbs />\n                <AppRouter />\n              </Box>\n            </BrowserRouter>\n          </SnackbarProvider>          \n        </MuiThemeProvider>   \n      </LoadingProvider> \n    </React.Fragment>\n  );\n}\n\nexport default App;","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { END, eventChannel } from 'redux-saga';\nimport {actionChannel, call, put, take} from 'redux-saga/effects';\nimport videoHttp from '../../util/http/video-http';\nimport { Video } from '../../util/models';\nimport {Types, Creators} from './index';\nimport {AddUploadAction, FileInfo} from './types';\n\nexport function* uploadWatcherSaga() {\n    const newFilesChannel = yield actionChannel(Types.ADD_UPLOAD);\n\n    while(true){\n        const {payload}: AddUploadAction = yield take(newFilesChannel);// [ [], [] ]\n        for(const fileInfo of payload.files){\n            try {\n                const response = yield call(uploadFile, {video: payload.video, fileInfo})\n                console.log('uploadWatcherSaga response', response)\n            } catch (e) {\n                console.log('Error uploadWatcherSaga', e)\n            }\n            \n        }\n        console.log('uploadWatcherSaga', payload);\n    }\n}\n\n//criando um novo video\n//1 - POST e criar\n//2 - PUT com upload\n\n//editar um novo video\n//1 - PUT e editar\n//2 - PUT com upload\nfunction* uploadFile({video, fileInfo}: { video: Video, fileInfo: FileInfo }) {\n    const channel = yield call(sendUpload, {id: video.id, fileInfo});\n\n    while(true){\n        try {\n            const {progress, response} = yield take(channel);\n            console.log('response', fileInfo.fileField, response );\n            if(response){\n                return response;\n            }\n            console.log('progress',fileInfo.fileField, progress);\n            console.log('updateProgress', fileInfo.fileField)\n            yield put(Creators.updateProgress({\n                video,\n                fileField: fileInfo.fileField,\n                progress\n            }));\n        }catch (e) {\n            console.log('Error', fileInfo.fileField, e)\n            yield put(Creators.setUploadError({\n                video,\n                fileField: fileInfo.fileField,\n                error: e\n            }));\n            throw e;\n        }\n        \n    }\n}\n\nfunction sendUpload({id, fileInfo}: {id: string, fileInfo: FileInfo}) {\n    \n    return eventChannel( (emitter) => {\n        videoHttp.partialUpdate(\n            id, {\n                _method: 'PATCH',\n                [fileInfo.fileField]: fileInfo.file\n            }, \n            {\n                http: {\n                    usePost: true\n                },\n                config: {\n                    headers: {\n                        'x-ignore-loading': true\n                    },\n                    onUploadProgress(progressEvent: ProgressEvent) {\n                        if(progressEvent.lengthComputable) {\n                            console.log('>>>>',progressEvent)\n                            const progress = progressEvent.loaded / progressEvent.total;\n                            emitter({progress});\n                        }\n                    }\n                }\n            }\n        )\n        .then(response => emitter({response}))\n        .catch(error => emitter(error))\n        .finally(() => emitter(END));\n\n        const unsubscribe = () => {}\n        return unsubscribe;\n    })\n    \n}","import { all } from \"redux-saga/effects\";\nimport { uploadWatcherSaga } from \"./upload/sagas\";\n\nexport default function* rootSaga() {\n    yield all([\n        uploadWatcherSaga()\n    ]);\n}","import { applyMiddleware, combineReducers, createStore } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\nimport rootSaga from \"./root-saga\";\nimport upload from './upload';\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store = createStore(\n    combineReducers({\n        upload\n    }),\n    applyMiddleware(sagaMiddleware)\n)\n\nsagaMiddleware.run(rootSaga)\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nReactDOM.render(\n  // <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  // </React.StrictMode>\n  ,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}